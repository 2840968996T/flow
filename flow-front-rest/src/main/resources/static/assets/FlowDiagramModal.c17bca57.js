import{_ as e,b as a}from"./useModal.a78b6185.js";import{k as t,r as s,u as o,a as r,J as n,f as i,K as l,o as c,n as m,P as d,q as u,N as p}from"./vendor.0482ef83.js";import{V as f}from"./Viewer.5d37cf6b.js";import{l as v}from"./process.86354d09.js";import"./index.ac2432bc.js";import"./useWindowSizeFn.3a3072fc.js";var g=t({name:"FlowDiagramModal",components:{BasicModal:e},emits:["success","register"],setup(e,{emit:t}){const l=s(!0),{currentRoute:c}=o(),{params:{modelKey:m}}=r(c),d=s(),u=s(),p=s(),[g,{setModalProps:M,closeModal:h}]=a((e=>{return a=this,t=null,s=function*(){M({confirmLoading:!1}),l.value=!!(null==e?void 0:e.isUpdate),m&&n((()=>{v({modelKey:m}).then((e=>{p.value=new f({container:d.value}),p.value.importXML(e.modelXml,(function(e){}))}))}))},new Promise(((e,o)=>{var r=e=>{try{i(s.next(e))}catch(a){o(a)}},n=e=>{try{i(s.throw(e))}catch(a){o(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,n);i((s=s.apply(a,t)).next())}));var a,t,s})),b=i((()=>r(l)?"修改":"新增"));return{container:u,bpmnCanvas:d,registerModal:g,getTitle:b}}});const M={class:"containers",ref:"container"};g.render=function(e,a,t,s,o,r){const n=l("BasicModal");return c(),m(n,p(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:d((()=>[u("div",M,null,512)])),_:1},16,["onRegister","title","onOk"])};export default g;
