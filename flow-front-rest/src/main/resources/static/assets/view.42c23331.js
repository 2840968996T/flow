var e=Object.defineProperty,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(o,r,t)=>r in o?e(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t;import{_ as a}from"./PageWrapper.5ef0540d.js";import{k as i,aI as n,bp as c,aT as p,bm as d,af as m,bi as f,r as u,u as j,a as l,I as b,J as x,K as v,o as y,n as B,P,q as w,a3 as A,X as g}from"./vendor.d660e98f.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{P as h}from"./index.7a2bcee6.js";import k from"./ActionButtons.dd9d42cb.js";import O from"./BaseActionButtons.6dd5b573.js";import F from"./ProcessBackButton.39ca0e7c.js";import H from"./ApproveActionButtons.26671c7f.js";import I from"./ApprovalHistory.eaa95041.js";import M from"./ProcessHeader.cdc8b627.js";import{j as R,g as S}from"./index.dd44fc8e.js";import"./usePageContext.913e3c16.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.a3bdff8d.js";import"./index.0586f90c.js";import"./useForm.d6f2fb3c.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./CountdownInput.09f5734d.js";import"./useModal.fddc6186.js";import"./useWindowSizeFn.4f1b8c18.js";import"./download.fcebdcb4.js";import"./StrengthMeter.33f765cc.js";/* empty css              */import"./process.f0749243.js";import"./index.76a3d0a1.js";import"./FlowDiagramModal.2fc6d648.js";import"./Viewer.fd8523c8.js";import"./index.6afa5c42.js";/* empty css              *//* empty css              */import"./index.ef1e9878.js";/* empty css              */var W=i({components:((e,a)=>{for(var i in a||(a={}))r.call(a,i)&&s(e,i,a[i]);if(o)for(var i of o(a))t.call(a,i)&&s(e,i,a[i]);return e})({Button:n,LeftOutlined:c,ProcessHeader:M,PageWrapper:a,[p.name]:p,[d.name]:d,AEmpty:m,[f.name]:f,[f.Item.name]:f.Item,ActionButtons:k,BaseActionButtons:O,ApproveActionButtons:H,ApprovalHistory:I,ProcessBackButton:F},h),setup(){const e=u(""),o=u(null),{createMessage:r}=S(),t=R(),{currentRoute:s}=j(),{params:{modelKey:a},query:{businessKey:i}}=l(s);return e.value=a,b((()=>{x((()=>{i&&l(o).initProcessForm(i)}))})),{currentView:e,processFormRef:o,doBack:function(){history.state.back?history.back():t("/process/todo")},doLaunch:function(){return e=this,s=null,a=function*(){yield l(o).doSubmit(),r.success("提交成功！"),t("/process/launched")},new Promise(((o,r)=>{var t=e=>{try{n(a.next(e))}catch(o){r(o)}},i=e=>{try{n(a.throw(e))}catch(o){r(o)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(t,i);n((a=a.apply(e,s)).next())}));var e,s,a}}}});const K=g(" 流程查看 "),V={class:"m-1 desc-wrap"},q={class:"m-4 desc-wrap"};W.render=function(e,o,r,t,s,a){const i=v("ProcessBackButton"),n=v("BaseActionButtons"),c=v("ApprovalHistory"),p=v("PageWrapper");return y(),B(p,{contentBackground:"",class:"!mt-4"},{title:P((()=>[w(i),K,w(n)])),extra:P((()=>[])),footer:P((()=>[])),default:P((()=>[w("div",V,[(y(),B(A(e.currentView),{ref:"processFormRef"},null,512))]),w("div",q,[w(c,{ref:"approvalHistoryRef"},null,512)])])),_:1})};export default W;
