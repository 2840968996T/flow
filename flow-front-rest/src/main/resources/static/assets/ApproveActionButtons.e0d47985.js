import{k as e,aI as o,bT as a,bS as s,bU as t,r as n,u as r,a as p,ac as d,K as i,o as c,n as l,P as u,q as f,X as m}from"./vendor.d660e98f.js";/* empty css              *//* empty css              */import{u as v}from"./useModal.f5d94e37.js";import{c as g,s as x}from"./process.277f848b.js";import{j as I,g as b}from"./index.21f8a12f.js";import"./useWindowSizeFn.4f1b8c18.js";const{TextArea:A}=d;var j=e({name:"BaseActionButtons",components:{Button:o,ApartmentOutlined:a,Space:s,Affix:t,TextArea:A},setup(e,{emit:o}){const[a,{openModal:s,setModalProps:t}]=v(),d=n(0),{createMessage:i}=b(),c=n(""),l=n(!1),u=I(),{currentRoute:f}=r(),{query:{taskId:m,procInstId:A}}=p(f);return{bottom:d,approveMsg:c,registerFlowDiagramModal:a,approveBtnLoading:l,doApprove:function(){l.value=!0,g({taskId:m,processInstanceId:A,message:c.value}).then((e=>{i.success("审批成功！"),u("/process/todo")})).catch((()=>{})).finally((()=>{l.value=!1}))},doStop:function(){l.value=!0,x({taskId:m,processInstanceId:A,message:c.value}).then((e=>{i.success("操作成功！"),u("/process/todo")})).catch((()=>{})).finally((()=>{l.value=!1}))}}}});const k={class:"approve-options"},M=m(" 同意 "),B=m(" 拒绝 ");j.render=function(e,o,a,s,t,n){const r=i("TextArea"),p=i("Button"),d=i("Space"),m=i("Affix");return c(),l(m,{"offset-bottom":e.bottom},{default:u((()=>[f("div",k,[f(r,{value:e.approveMsg,"onUpdate:value":o[1]||(o[1]=o=>e.approveMsg=o),placeholder:"请输入审批意见！","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),f(d,{class:"mt-2"},{default:u((()=>[f(p,{title:"审批",type:"primary",onClick:e.doApprove,loading:e.approveBtnLoading},{default:u((()=>[M])),_:1},8,["onClick","loading"]),f(p,{title:"拒绝",type:"danger",onClick:e.doStop,loading:e.approveBtnLoading},{default:u((()=>[B])),_:1},8,["onClick","loading"])])),_:1})])])),_:1},8,["offset-bottom"])};export default j;
