import{L as C,a as I,C as M,v as i,bA as h,bQ as y,h as D,aF as n,o as k,i as b,z as r,l as x,m as u,B as v,I as S,E as w}from"./index.f3cc7ad7.js";import{S as L}from"./index.8000580e.js";import{A as R}from"./index.9afd6c1c.js";import{u as T}from"./index.8ae63227.js";import{h as $,s as E}from"./process.59d5edec.js";import{A as N}from"./ApartmentOutlined.84f98493.js";import"./useFlexGapSupport.7ceb9daf.js";import"./throttleByAnimationFrame.5b3ce196.js";import"./useWindowSizeFn.2875097b.js";import"./FullscreenOutlined.af4c6990.js";const{TextArea:V}=S,z=I({name:"BaseActionButtons",components:{Button:M,ApartmentOutlined:N,Space:L,Affix:R,TextArea:V},setup(o,{emit:p}){const[l,{openModal:_,setModalProps:A}]=T(),d=i(0),{createMessage:s}=w(),t=i(""),e=i(!1),a=h(),{currentRoute:c}=y(),{query:{taskId:m,procInstId:f}}=D(c);function g(){e.value=!0,$({taskId:m,processInstanceId:f,message:t.value}).then(F=>{s.success("\u5BA1\u6279\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{e.value=!1})}function B(){e.value=!0,E({taskId:m,processInstanceId:f,message:t.value}).then(F=>{s.success("\u64CD\u4F5C\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{e.value=!1})}return{bottom:d,approveMsg:t,registerFlowDiagramModal:l,approveBtnLoading:e,doApprove:g,doStop:B}}}),P={class:"approve-options"};function q(o,p,l,_,A,d){const s=n("TextArea"),t=n("Button"),e=n("Space"),a=n("Affix");return k(),b(a,{"offset-bottom":o.bottom},{default:r(()=>[x("div",P,[u(s,{value:o.approveMsg,"onUpdate:value":p[0]||(p[0]=c=>o.approveMsg=c),placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6279\u610F\u89C1\uFF01","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),u(e,{class:"mt-2"},{default:r(()=>[u(t,{title:"\u5BA1\u6279",type:"primary",onClick:o.doApprove,loading:o.approveBtnLoading},{default:r(()=>[v(" \u540C\u610F ")]),_:1},8,["onClick","loading"]),u(t,{title:"\u62D2\u7EDD",type:"danger",onClick:o.doStop,loading:o.approveBtnLoading},{default:r(()=>[v(" \u62D2\u7EDD ")]),_:1},8,["onClick","loading"])]),_:1})])]),_:1},8,["offset-bottom"])}var Y=C(z,[["render",q]]);export{Y as default};
