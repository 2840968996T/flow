import{_ as e,b as a}from"./useModal.fddc6186.js";import{k as t,r as s,u as o,a as r,J as n,f as i,K as l,o as d,n as c,P as m,q as u,N as f}from"./vendor.d660e98f.js";import{V as p}from"./Viewer.fd8523c8.js";import{l as v}from"./process.f0749243.js";import"./index.dd44fc8e.js";import"./useWindowSizeFn.4f1b8c18.js";var g=t({name:"FlowDiagramModal",components:{BasicModal:e},emits:["success","register"],setup(e,{emit:t}){const l=s(!0),{currentRoute:d}=o(),{params:{modelKey:c}}=r(d),m=s(),u=s(),f=s(),[g,{setModalProps:M,closeModal:h}]=a((e=>{return a=this,t=null,s=function*(){M({confirmLoading:!1}),l.value=!!(null==e?void 0:e.isUpdate),c&&n((()=>{v({modelKey:c}).then((e=>{f.value=new p({container:m.value}),f.value.importXML(e.modelXml,(function(e){}))}))}))},new Promise(((e,o)=>{var r=e=>{try{i(s.next(e))}catch(a){o(a)}},n=e=>{try{i(s.throw(e))}catch(a){o(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,n);i((s=s.apply(a,t)).next())}));var a,t,s})),j=i((()=>r(l)?"修改":"新增"));return{container:u,bpmnCanvas:m,registerModal:g,getTitle:j}}});const M={class:"containers",ref:"container"};g.render=function(e,a,t,s,o,r){const n=l("BasicModal");return d(),c(n,f(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:m((()=>[u("div",M,null,512)])),_:1},16,["onRegister","title","onOk"])};export default g;
