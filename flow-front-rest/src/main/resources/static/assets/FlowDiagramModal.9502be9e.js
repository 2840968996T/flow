var p=(s,m,o)=>new Promise((l,t)=>{var r=e=>{try{a(o.next(e))}catch(i){t(i)}},n=e=>{try{a(o.throw(e))}catch(i){t(i)}},a=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,n);a((o=o.apply(s,m)).next())});import{B,b as _}from"./index.27340b6a.js";import{L as v,a as b,v as c,bQ as h,h as d,ar as w,e as k,aF as $,o as y,i as C,z as F,l as R,aG as V}from"./index.75df828b.js";import{V as E}from"./Viewer.ca2e1abd.js";import{l as L}from"./process.91b5dfff.js";import"./useWindowSizeFn.1b303f48.js";import"./FullscreenOutlined.bfc2b1fe.js";const T=b({name:"FlowDiagramModal",components:{BasicModal:B},emits:["success","register"],setup(s,{emit:m}){const o=c(!0),{currentRoute:l}=h(),{params:{modelKey:t}}=d(l),r=c(),n=c(),a=c(),[e,{setModalProps:i,closeModal:K}]=_(u=>p(this,null,function*(){i({confirmLoading:!1}),o.value=!!(u!=null&&u.isUpdate);debugger;t&&w(()=>{L({modelKey:t}).then(g=>{a.value=new E({container:r.value}),a.value.importXML(g.modelXml,function(M){debugger;console.error(M)});debugger})})})),f=k(()=>d(o)?"\u4FEE\u6539":"\u65B0\u589E");return{container:n,bpmnCanvas:r,registerModal:e,getTitle:f}}}),X={class:"containers",ref:"container"};function D(s,m,o,l,t,r){const n=$("BasicModal");return y(),C(n,V(s.$attrs,{onRegister:s.registerModal,title:s.getTitle,onOk:s.handleSubmit}),{default:F(()=>[R("div",X,null,512)]),_:1},16,["onRegister","title","onOk"])}var N=v(T,[["render",D]]);export{N as default};
