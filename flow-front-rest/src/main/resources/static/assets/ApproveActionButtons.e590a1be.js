import{y as e,aM as a,bY as o,bX as s,bZ as t,r as n,a as r,u as p,aj as d,Z as i,B as l,F as c,a1 as u,v as m,a8 as f}from"./vendor.3dc066e5.js";/* empty css              *//* empty css              */import{u as v}from"./index.4d1e0212.js";import{c as g,s as x}from"./process.978d1578.js";import{r as A,h as I}from"./index.06582e88.js";import"./useWindowSizeFn.308e6090.js";const{TextArea:j}=d;var B=e({name:"BaseActionButtons",components:{Button:a,ApartmentOutlined:o,Space:s,Affix:t,TextArea:j},setup(e,{emit:a}){const[o,{openModal:s,setModalProps:t}]=v(),d=n(0),{createMessage:i}=I(),l=n(""),c=n(!1),u=A(),{currentRoute:m}=r(),{query:{taskId:f,procInstId:j}}=p(m);return{bottom:d,approveMsg:l,registerFlowDiagramModal:o,approveBtnLoading:c,doApprove:function(){c.value=!0,g({taskId:f,processInstanceId:j,message:l.value}).then((e=>{i.success("审批成功！"),u("/process/todo")})).catch((()=>{})).finally((()=>{c.value=!1}))},doStop:function(){c.value=!0,x({taskId:f,processInstanceId:j,message:l.value}).then((e=>{i.success("操作成功！"),u("/process/todo")})).catch((()=>{})).finally((()=>{c.value=!1}))}}}});const M={class:"approve-options"},b=f(" 同意 "),k=f(" 拒绝 ");B.render=function(e,a,o,s,t,n){const r=i("TextArea"),p=i("Button"),d=i("Space"),f=i("Affix");return l(),c(f,{"offset-bottom":e.bottom},{default:u((()=>[m("div",M,[m(r,{value:e.approveMsg,"onUpdate:value":a[1]||(a[1]=a=>e.approveMsg=a),placeholder:"请输入审批意见！","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),m(d,{class:"mt-2"},{default:u((()=>[m(p,{title:"审批",type:"primary",onClick:e.doApprove,loading:e.approveBtnLoading},{default:u((()=>[b])),_:1},8,["onClick","loading"]),m(p,{title:"拒绝",type:"danger",onClick:e.doStop,loading:e.approveBtnLoading},{default:u((()=>[k])),_:1},8,["onClick","loading"])])),_:1})])])),_:1},8,["offset-bottom"])};export default B;
