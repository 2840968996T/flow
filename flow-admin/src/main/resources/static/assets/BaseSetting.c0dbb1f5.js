var B=(e,l,u)=>new Promise((f,m)=>{var g=r=>{try{n(u.next(r))}catch(o){m(o)}},d=r=>{try{n(u.throw(r))}catch(o){m(o)}},n=r=>r.done?f(r.value):Promise.resolve(r.value).then(g,d);n((u=u.apply(e,l)).next())});import{az as C,a as b,br as y,cE as A,D as U,v as w,w as k,O as L,h as P,aB as i,o as _,k as S,B as t,p as a,n as s,i as v,C as D,G as M}from"./index.da587afe.js";/* empty css               */import{U as O}from"./index.3c9c3a6f.js";import"./index.d1cda802.js";import{B as I}from"./BasicForm.51e3eb56.js";import{u as R}from"./useForm.d201bd46.js";import{a as G}from"./index.59b5d57e.js";import{h as V}from"./header.d801b988.js";import{a as $}from"./account.c6b1e528.js";import{b as J}from"./data.2a2e7f44.js";import{u as N}from"./upload.8913e516.js";import{_ as F}from"./tooltip-app-name.12932009.js";import{P as x}from"./PlusOutlined.3b3e37c8.js";import{R as z,C as j}from"./index.36675b6e.js";import"./_baseIteratee.78d8c020.js";import"./get.40c34cfc.js";import"./DeleteOutlined.690086a4.js";import"./Form.f8b72655.js";import"./Col.4ac749bb.js";import"./useFlexGapSupport.caa26b6d.js";import"./useSize.dbee3c08.js";import"./useRefs.1aead304.js";/* empty css              */import"./index.a64c8a60.js";import"./index.492229cd.js";import"./Checkbox.9d75a86f.js";import"./index.5aab84c4.js";import"./index.9d0fc194.js";import"./index.447b3242.js";import"./index.d7c8b760.js";import"./index.b3a5d1df.js";import"./index.a85fa86f.js";import"./eagerComputed.3bbb876f.js";import"./transButton.1d3b575b.js";import"./index.5d1da0c4.js";import"./index.e8eb4b57.js";import"./useWindowSizeFn.3fdab581.js";import"./FullscreenOutlined.3d903e0f.js";import"./index.72d53e09.js";import"./index.813f510f.js";import"./uuid.2b29000c.js";import"./download.75f04d3f.js";import"./base64Conver.08b9f4ec.js";import"./index.9912aa68.js";import"./uniqBy.f906dabc.js";import"./index.6d85aa5b.js";import"./index.25a87437.js";const T=b({components:{BasicForm:I,PlusOutlined:x,Upload:O,Popover:y,CollapseContainer:A,Button:U,ARow:z,ACol:j,CropperAvatar:G},setup(){const{createMessage:e}=M(),l=w(),u=k(),[f,{setFieldsValue:m}]=R({labelWidth:120,schemas:J,showActionButtonGroup:!1});L(()=>B(this,null,function*(){const o=yield $();m(o)}));const g=P(()=>{const{avatar:o}=l.getUserInfo;return o||V});function d(o){const p=l.getUserInfo;p.avatar=o,l.setUserInfo(p)}const n=(o,p)=>{const c=new FileReader;c.addEventListener("load",()=>p(c.result)),c.readAsDataURL(o)};return{avatar:g,register:f,beforeUpload:o=>o.type==="image/jpeg"||o.type==="image/png"?o.size/1024/1024<2?(n(o,h=>{imageUrl.value=h}),!1):(e.error("\u56FE\u7247\u4E0D\u80FD\u5927\u4E8E2MB\uFF01"),!1):(e.error("\u53EA\u5141\u8BB8\u4E0A\u4F20JPG\u56FE\u7247\uFF01"),!1),appLogo:u,uploadApi:N,updateAvatar:d,handleSubmit:()=>{e.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),W=s("div",{class:"tooltip-popover-content"},[s("img",{src:F})],-1),q=s("div",{class:"mb-2 mt-4"},"\u9879\u76EE\u540D\u79F0",-1),H=s("div",{class:"tooltip-popover-content"},[s("img",{src:F})],-1),K={class:"change-logo"},Q=s("div",{class:"mb-2 mt-4"},"\u7AD9\u70B9\u56FE\u6807",-1),X=["src"],Y={key:1},Z=s("div",{class:"ant-upload-text"},"\u4E0A\u4F20",-1),oo=s("div",{class:"tooltip-popover-content"},[s("img",{src:F})],-1),to={class:"change-logo"},eo=s("div",{class:"mb-2 mt-4"},"LOGO",-1),ao=["src"],so={key:1},ro=s("div",{class:"ant-upload-text"},"\u4E0A\u4F20",-1);function no(e,l,u,f,m,g){const d=i("a-input"),n=i("a-col"),r=i("Popover"),o=i("plus-outlined"),p=i("Upload"),c=i("a-row"),h=i("Button"),E=i("CollapseContainer");return _(),S(E,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:t(()=>[a(c,{gutter:24},{default:t(()=>[a(r,{placement:"right"},{content:t(()=>[W]),default:t(()=>[a(n,{span:13},{default:t(()=>[q,a(d)]),_:1})]),_:1}),a(r,{placement:"right"},{content:t(()=>[H]),default:t(()=>[a(n,{span:13},{default:t(()=>[s("div",K,[Q,a(p,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"favicon-uploader","show-upload-list":!1,"before-upload":e.beforeUpload,multiple:!1},{default:t(()=>[e.appLogo?(_(),v("img",{key:0,src:e.appLogo,alt:"avatar"},null,8,X)):(_(),v("div",Y,[a(o),Z]))]),_:1},8,["before-upload"])])]),_:1})]),_:1}),a(r,{placement:"right"},{content:t(()=>[oo]),default:t(()=>[a(n,{span:13},{default:t(()=>[s("div",to,[eo,a(p,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"logo-uploader","show-upload-list":!1,"before-upload":e.beforeUpload,multiple:!1},{default:t(()=>[e.appLogo?(_(),v("img",{key:0,src:e.appLogo,alt:"avatar"},null,8,ao)):(_(),v("div",so,[a(o),ro]))]),_:1},8,["before-upload"])])]),_:1})]),_:1})]),_:1}),a(h,{type:"primary",onClick:e.handleSubmit},{default:t(()=>[D(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ")]),_:1},8,["onClick"])]),_:1})}var et=C(T,[["render",no]]);export{et as default};
