var CC=Object.defineProperty,RC=Object.defineProperties;var IC=Object.getOwnPropertyDescriptors;var Pm=Object.getOwnPropertySymbols;var BC=Object.prototype.hasOwnProperty,LC=Object.prototype.propertyIsEnumerable;var Am=(m,v,u)=>v in m?CC(m,v,{enumerable:!0,configurable:!0,writable:!0,value:u}):m[v]=u,rd=(m,v)=>{for(var u in v||(v={}))BC.call(v,u)&&Am(m,u,v[u]);if(Pm)for(var u of Pm(v))LC.call(v,u)&&Am(m,u,v[u]);return m},Tm=(m,v)=>RC(m,IC(v));var Hs=(m,v,u)=>new Promise((c,i)=>{var l=b=>{try{y(u.next(b))}catch(x){i(x)}},f=b=>{try{y(u.throw(b))}catch(x){i(x)}},y=b=>b.done?c(b.value):Promise.resolve(b.value).then(l,f);y((u=u.apply(m,v)).next())});import{M as _C,a6 as zC,a as eb,b9 as FC,bn as GC,x as Us,N as HC,k as lr,an as nd,c2 as UC,az as ld,aB as Un,i as Gn,j as Di,G as Mm,aE as kC,q as Bi,C as Ys,D as XC,t as $C,s as ks,m as od,aC as YC,l as fd,fd as WC,c as KC,bJ as VC,h as ZC,a9 as wm,o as JC,p as QC,aI as qC}from"./index.e61ad282.js";import{D as eR}from"./index.9f50e000.js";import{I as tb}from"./index.esm.01aeab01.js";import{B as tR,b as rR}from"./index.a492e5cd.js";import{J as nR}from"./index.0005c546.js";import{P as oR}from"./index.c79f76d5.js";import"./useWindowSizeFn.27de1b1b.js";import"./FullscreenOutlined.3a424424.js";import"./index.769e0bcb.js";import"./index.f6c9d1b9.js";import"./useSize.5a37866d.js";import"./eagerComputed.d3c262c3.js";import"./useContentViewHeight.34702d2a.js";import"./ArrowLeftOutlined.0e95a5b3.js";import"./index.5621adef.js";import"./transButton.2c723edc.js";const rb=Symbol("flow-chart");function iR(m){zC(rb,m)}function aR(){return _C(rb)}var Vt=(m=>(m.ZOOM_IN="zoomIn",m.ZOOM_OUT="zoomOut",m.RESET_ZOOM="resetZoom",m.UNDO="undo",m.REDO="redo",m.SNAPSHOT="snapshot",m.VIEW_DATA="viewData",m))(Vt||{});const uR=eb({name:"FlowChartToolbar",components:{Icon:FC,Divider:eR,Tooltip:GC},props:{prefixCls:String},emits:["view-data"],setup(m,{emit:v}){const u=Us([{type:Vt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Vt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Vt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Vt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Vt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Vt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Vt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:c}=aR();function i({data:{undoAble:f,redoAble:y}}){const b=lr(u),x=b.findIndex(P=>P.type===Vt.UNDO),S=b.findIndex(P=>P.type===Vt.REDO);x!==-1&&(lr(u)[x].disabled=!f),S!==-1&&(lr(u)[S].disabled=!y)}const l=f=>{const y=lr(c);if(!!y)switch(f.type){case Vt.ZOOM_IN:y.zoom();break;case Vt.ZOOM_OUT:y.zoom(!0);break;case Vt.RESET_ZOOM:y.resetZoom();break;case Vt.UNDO:y.undo();break;case Vt.REDO:y.redo();break;case Vt.SNAPSHOT:y.getSnapshot();break;case Vt.VIEW_DATA:v("view-data");break}};return HC(()=>Hs(this,null,function*(){var f;lr(c)&&(yield nd(),(f=lr(c))==null||f.on("history:change",i))})),UC(()=>{var f;(f=lr(c))==null||f.off("history:change",i)}),{toolbarItemList:u,onControl:l}}}),sR=["onClick"];function lR(m,v,u,c,i,l){const f=Un("Icon"),y=Un("Tooltip"),b=Un("Divider");return Gn(),Di("div",{class:ks([`${m.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Gn(!0),Di(Mm,null,kC(m.toolbarItemList,x=>(Gn(),Di(Mm,{key:x.type},[Bi(y,YC({placement:"bottom"},x.disabled?{visible:!1}:{}),{title:Ys(()=>[XC($C(x.tooltip),1)]),default:Ys(()=>[x.icon?(Gn(),Di("span",{key:0,class:ks(`${m.prefixCls}-toolbar__icon`),onClick:S=>m.onControl(x)},[Bi(f,{icon:x.icon,class:ks(x.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,sR)):od("",!0)]),_:2},1040),x.separate?(Gn(),fd(b,{key:0,type:"vertical"})):od("",!0)],64))),128))],2)}var fR=ld(uR,[["render",lR]]),We={exports:{}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(l){if(c[l])return c[l].exports;var f=c[l]={i:l,l:!1,exports:{}};return u[l].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(l,f,y){i.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:y})},i.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,f){if(f&1&&(l=i(l)),f&8||f&4&&typeof l=="object"&&l&&l.__esModule)return l;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:l}),f&2&&typeof l!="string")for(var b in l)i.d(y,b,function(x){return l[x]}.bind(null,b));return y},i.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(f,"a",f),f},i.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(l,f){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ni}),i.d(c,"c",function(){return sn}),i.d(c,"d",function(){return fr}),i.d(c,"e",function(){return Xe}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return _i}),i.d(c,"h",function(){return Zn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return Pr}),i.d(c,"k",function(){return $r}),i.d(c,"l",function(){return jr}),i.d(c,"m",function(){return Sr}),i.d(c,"n",function(){return yl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return xl}),i.d(c,"q",function(){return ri}),i.d(c,"r",function(){return ml}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Vi}),i.d(c,"u",function(){return dl}),i.d(c,"v",function(){return bl}),i.d(c,"w",function(){return Ol}),i.d(c,"x",function(){return En}),i.d(c,"y",function(){return Rr}),i.d(c,"z",function(){return kt}),i.d(c,"A",function(){return gr}),i.d(c,"B",function(){return xn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return Sl}),i.d(c,"E",function(){return ti}),i.d(c,"F",function(){return hl}),i.d(c,"G",function(){return cl}),i.d(c,"H",function(){return Xi}),i.d(c,"I",function(){return Tl}),i.d(c,"J",function(){return Ar}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return El}),i.d(c,"M",function(){return Pn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++He.mobxGuid}function P(d){throw M(!1,d),"X"}function M(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function A(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var j=function(){};function C(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function B(d){return d!==null&&typeof d=="object"}function _(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function X(d){if(J(d)||kt(d))return d;if(Array.isArray(d))return new Map(d);if(_(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function $(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ee(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function ne(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function ie(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return B(N)&&N[O]===!0}}function J(d){return d instanceof Map}function le(d){return d instanceof Set}function z(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function U(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var w=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return Hi(this)},d.prototype.reportChanged=function(){At(),nl(this),vr()},d.prototype.toString=function(){return this.name},d}(),Q=ie("Atom",W);function ce(d,h,O){h===void 0&&(h=j),O===void 0&&(O=j);var N=new W(d);return h!==j&&vl(N,h),O!==j&&ti(N,O),N}function Te(d,h){return d===h}function me(d,h){return bo(d,h)}function Oe(d,h){return bo(d,h,1)}function Pe(d,h){return Object.is(d,h)}var Ee={identity:Te,structural:me,default:Pe,shallow:Oe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var F in N)N.hasOwnProperty(F)&&(O[F]=N[F])},Ne(d,h)};function _e(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ve=function(){return Ve=Object.assign||function(h){for(var O,N=1,F=arguments.length;N<F;N++){O=arguments[N];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ve.apply(this,arguments)};function Be(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),F,K=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=N.next()).done;)K.push(F.value)}catch(Ae){fe={error:Ae}}finally{try{F&&!F.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var ke=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),Y={},q={};function he(d,h){var O=h?Y:q;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[ke]!==!0){var N=d[k];if(N){$(d,ke,!0);var F=Ie(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var K=Be(F),fe=K.next();!fe.done;fe=K.next()){var Ae=fe.value,Ue=N[Ae];Ue.propertyCreator(d,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{fe&&!fe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,F=function(fe,Ae,Ue,ft){if(ft===!0)return h(fe,Ae,Ue,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var ct=fe[k];$(fe,k,Ve({},ct))}return fe[k][Ae]={prop:Ae,propertyCreator:h,descriptor:Ue,decoratorTarget:fe,decoratorArguments:N},he(Ae,d)};return ze(arguments)?(N=b,F.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),F)}}function ze(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,h,O){return En(d)?d:Array.isArray(d)?mt.array(d,{name:O}):_(d)?mt.object(d,void 0,{name:O}):J(d)?mt.map(d,{name:O}):le(d)?mt.set(d,{name:O}):d}function Ye(d,h,O){return d==null||gr(d)||Rr(d)||kt(d)||cr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):_(d)?mt.object(d,void 0,{name:O,deep:!1}):J(d)?mt.map(d,{name:O,deep:!1}):le(d)?mt.set(d,{name:O,deep:!1}):P(!1)}function nt(d){return d}function ve(d,h,O){return bo(d,h)?h:d}function ut(d){M(d);var h=pe(!0,function(N,F,K,fe,Ae){var Ue=K?K.initializer?K.initializer.call(N):K.value:void 0;oi(N).addObservableProp(F,Ue,d)}),O=(typeof l!="undefined"&&l.env,h);return O.enhancer=d,O}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function Le(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=ut(tt),wt=ut(Ye),dt=ut(nt),bt=ut(ve);function oe(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?nt:tt}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(En(d))return d;var N=_(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):J(d)?mt.map(d,h):le(d)?mt.set(d,h):d;if(N!==d)return N;P(!1)}var St={box:function(d,h){arguments.length>2&&Yt("box");var O=Le(h);return new un(d,oe(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Yt("array");var O=Le(h);return Cl(d,oe(O),O.name)},map:function(d,h){arguments.length>2&&Yt("map");var O=Le(h);return new ni(d,oe(O),O.name)},set:function(d,h){arguments.length>2&&Yt("set");var O=Le(h);return new ia(d,oe(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Yt("object");var N=Le(O);if(N.proxy===!1)return ri({},d,h,N);var F=Wi(N),K=ri({},void 0,void 0,N),fe=Tn(K);return Ki(fe,d,h,F),fe},ref:dt,shallow:wt,deep:Qe,struct:bt},mt=Ct;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Yt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var hr=pe(!1,function(d,h,O,N,F){var K=O.get,fe=O.set,Ae=F[0]||{};oi(d).addComputedProp(d,h,Ve({get:K,set:fe,context:d},Ae))}),Zt=hr({equals:Ee.structural}),Sr=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return hr.apply(null,arguments);var F=typeof O=="object"?O:{};return F.get=h,F.set=typeof O=="function"?O:F.set,F.name=F.name||h.name||"",new gn(F)};Sr.struct=Zt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var nr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof nr}function $e(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,F=N.length,K=0;K<F;K++){var fe=N[K];if(mn(fe)){if(He.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Ae){return Me(O),Xe(h),!0}if(d.dependenciesState===qe.STALE)return Me(O),Xe(h),!0}}return vt(d),Me(O),Xe(h),!1}}}function ot(){return He.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;He.computationDepth>0&&h&&P(!1),!He.allowStateChanges&&(h||He.enforceActions==="strict")&&P(!1)}function lt(d,h,O){var N=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++He.runId;var F=He.trackingDerivation;He.trackingDerivation=d;var K;if(He.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(fe){K=new nr(fe)}return He.trackingDerivation=F,G(d),Xe(N),K}function G(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,F=0,K=d.unboundDepsCount,fe=0;fe<K;fe++){var Ae=O[fe];Ae.diffValue===0&&(Ae.diffValue=1,F!==fe&&(O[F]=Ae),F++),Ae.dependenciesState>N&&(N=Ae.dependenciesState)}for(O.length=F,d.newObserving=null,K=h.length;K--;){var Ae=h[K];Ae.diffValue===0&&Xr(Ae,d),Ae.diffValue=0}for(;F--;){var Ae=O[F];Ae.diffValue===1&&(Ae.diffValue=0,rl(Ae,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function V(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)Xr(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{Me(h)}}function re(){var d=He.trackingDerivation;return He.trackingDerivation=null,d}function Me(d){He.trackingDerivation=d}function De(d){var h=He.allowStateReads;return He.allowStateReads=d,h}function Xe(d){He.allowStateReads=d}function vt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Jt=0,Qt=1,kn=Object.getOwnPropertyDescriptor(function(){},"name");kn&&kn.configurable;function kr(d,h,O){var N=function(){return Li(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function Li(d,h,O,N){var F=Pr();try{return h.apply(O,N)}catch(K){throw F.error=K,K}finally{_i(F)}}function Pr(d,h,O){var N=Rt(),F=0,K=re();At();var fe=yn(!0),Ae=De(!0),Ue={prevDerivation:K,prevAllowStateChanges:fe,prevAllowStateReads:Ae,notifySpy:N,startTime:F,actionId:Qt++,parentActionId:Jt};return Jt=Ue.actionId,Ue}function _i(d){Jt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Jt=d.parentActionId,d.error!==void 0&&(He.suppressReactionErrors=!0),Xn(d.prevAllowStateChanges),Xe(d.prevAllowStateReads),vr(),Me(d.prevDerivation),d.notifySpy,He.suppressReactionErrors=!1}function fr(d,h){var O=yn(d),N;try{N=h()}finally{Xn(O)}return N}function yn(d){var h=He.allowStateChanges;return He.allowStateChanges=d,h}function Xn(d){He.allowStateChanges=d}var un=function(d){_e(h,d);function h(O,N,F,K,fe){F===void 0&&(F="ObservableValue@"+S()),K===void 0&&(K=!0),fe===void 0&&(fe=Ee.default);var Ae=d.call(this,F)||this;return Ae.enhancer=N,Ae.name=F,Ae.equals=fe,Ae.hasUnreportedChange=!1,Ae.value=N(O,void 0,F),K&&Rt(),Ae}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==He.UNCHANGED){var F=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Tr(this)){var N=Mr(this,{object:this,type:"update",newValue:O});if(!N)return He.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?He.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),yr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Kn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Vn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),$n=ie("ObservableValue",un),gn=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,M(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=kr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){il(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),He.inBatch===0&&this.observers.size===0&&!this.keepAlive?$e(this)&&(this.warnAboutUntrackedRead(),At(),this.value=this.computeValue(!1),vr()):(Hi(this),$e(this)&&this.trackAndCompute()&&ol(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else M(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),F=O||je(h)||je(N)||!this.equals(h,N);return F&&(this.value=N),F},d.prototype.computeValue=function(h){this.isComputing=!0,He.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(He.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new nr(N)}return He.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,F=!0,K=void 0;return jr(function(){var fe=N.get();if(!F||O){var Ae=re();h({type:"update",object:N,newValue:fe,oldValue:K}),Me(Ae)}F=!1,K=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),mn=ie("ComputedValue",gn),fo=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),tl={};function co(){return typeof window!="undefined"?window:typeof f!="undefined"?f:typeof self!="undefined"?self:tl}var po=!0,zi=!1,He=function(){var d=co();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(po=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new fo().version&&(po=!1),po?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new fo):(setTimeout(function(){zi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new fo)}();function Fi(){(He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),zi=!0,po&&(--co().__mobxInstanceCount===0&&(co().__mobxGlobals=void 0),He=new fo)}function rl(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function Xr(d,h){d.observers.delete(h),d.observers.size===0&&Gi(d)}function Gi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,He.pendingUnobservations.push(d))}function At(){He.inBatch++}function vr(){if(--He.inBatch===0){ki();for(var d=He.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof gn&&O.suspend())}He.pendingUnobservations=[]}}function Hi(d){var h=He.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&He.inBatch>0&&Gi(d),!1)}function nl(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&ho(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function ol(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function il(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&ho(h,d),h.onBecomeStale())}))}function ho(d,h){if(""+d.name+h.name,d.isTracing===Pt.BREAK){var O=[];Ui(Vi(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof gn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function Ui(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return Ui(N,h,O+1)})}var sn=function(){function d(h,O,N,F){h===void 0&&(h="Reaction@"+S()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),ki())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(At(),this._isScheduled=!1,$e(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}vr()}},d.prototype.track=function(h){if(!this.isDisposed){At(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),je(O)&&this.reportExceptionInDerivation(O.cause),vr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(He.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";He.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,h),He.globalReactionErrorHandlers.forEach(function(F){return F(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(At(),V(this),vr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Ml(this,h)},d}(),Qo=100,qo=function(d){return d()};function ki(){He.inBatch>0||He.isRunningReactions||qo(al)}function al(){He.isRunningReactions=!0;for(var d=He.pendingReactions,h=0;d.length>0;){++h===Qo&&(console.error("Reaction doesn't converge to a stable state after "+Qo+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),N=0,F=O.length;N<F;N++)O[N].runReaction()}He.isRunningReactions=!1}var vo=ie("Reaction",sn);function ul(d){var h=qo;qo=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function vd(d){}function yd(d){}function gd(d){}function Xi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function sl(){P(!1)}function $i(d){return function(h,O,N){if(N){if(N.value)return{value:kr(d,N.value),enumerable:!1,configurable:!0,writable:!0};var F=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kr(d,F.call(this))}}}return ll(d).apply(this,arguments)}}function ll(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(F){$(this,O,$r(d,F))}})}}function fl(d,h,O,N){return N===!0?(ei(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ei(this,h,O.value||O.initializer.call(this)),this[h]},set:sl}:{enumerable:!1,configurable:!0,set:function(F){ei(this,h,F)},get:function(){}}}var $r=function(h,O,N,F){if(arguments.length===1&&typeof h=="function")return kr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return kr(h,O);if(arguments.length===1&&typeof h=="string")return $i(h);if(F===!0)$(h,O,kr(h.name||O,N.value,this));else return $i(O).apply(null,arguments)};$r.bound=fl;function cl(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return Li(O,N,this,void 0)}function dl(d){return typeof d=="function"&&d.isMobxAction===!0}function ei(d,h,O){$(d,h,kr(h,O.bind(d)))}function jr(d,h){h===void 0&&(h=x);var O=h&&h.name||d.name||"Autorun@"+S(),N=!h.scheduler&&!h.delay,F;if(N)F=new sn(O,function(){this.track(Ae)},h.onError,h.requiresObservable);else{var K=bn(h),fe=!1;F=new sn(O,function(){fe||(fe=!0,K(function(){fe=!1,F.isDisposed||F.track(Ae)}))},h.onError,h.requiresObservable)}function Ae(){d(F)}return F.schedule(),F.getDisposer()}var pl=function(d){return d()};function bn(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:pl}function hl(d,h,O){O===void 0&&(O=x);var N=O.name||"Reaction@"+S(),F=$r(N,O.onError?Yn(O.onError,h):h),K=!O.scheduler&&!O.delay,fe=bn(O),Ae=!0,Ue=!1,ft,ct=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new sn(N,function(){Ae||K?xt():Ue||(Ue=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if(Ue=!1,!Ot.isDisposed){var Bt=!1;Ot.track(function(){var Xt=d(Ot);Bt=Ae||!ct(ft,Xt),ft=Xt}),Ae&&O.fireImmediately&&F(ft,Ot),!Ae&&Bt===!0&&F(ft,Ot),Ae&&(Ae=!1)}}return Ot.schedule(),Ot.getDisposer()}function Yn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function vl(d,h,O){return Yi("onBecomeObserved",d,h,O)}function ti(d,h,O){return Yi("onBecomeUnobserved",d,h,O)}function Yi(d,h,O,N){var F=typeof N=="function"?wr(h,O):wr(h),K=typeof N=="function"?N:O,fe=d+"Listeners";F[fe]?F[fe].add(K):F[fe]=new Set([K]);var Ae=F[d];return typeof Ae!="function"?P(!1):function(){var Ue=F[fe];Ue&&(Ue.delete(K),Ue.size===0&&delete F[fe])}}function yl(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,F=d.disableErrorBoundaries,K=d.reactionScheduler,fe=d.reactionRequiresObservable,Ae=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Fi(),h!==void 0){var Ue=void 0;switch(h){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}He.enforceActions=Ue,He.allowStateChanges=!(Ue===!0||Ue==="strict")}O!==void 0&&(He.computedRequiresReaction=!!O),fe!==void 0&&(He.reactionRequiresObservable=!!fe),Ae!==void 0&&(He.observableRequiresReaction=!!Ae,He.allowStateReads=!He.observableRequiresReaction),N!==void 0&&(He.computedConfigurable=!!N),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),He.disableErrorBoundaries=!!F),K&&ul(K)}function ri(d,h,O,N){N=Le(N);var F=Wi(N);return xe(d),oi(d,N.name,F.enhancer),h&&Ki(d,h,O,F),d}function Wi(d){return d.defaultDecorator||(d.deep===!1?dt:Qe)}function Ki(d,h,O,N){var F,K,fe,Ae;At();try{var Ae=w(h);try{for(var Ue=Be(Ae),ft=Ue.next();!ft.done;ft=Ue.next()){var fe=ft.value,ct=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ct.get?hr:N,xt=Ot(d,fe,ct,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Xt){F={error:Xt}}finally{try{ft&&!ft.done&&(K=Ue.return)&&K.call(Ue)}finally{if(F)throw F.error}}}finally{vr()}}function Vi(d,h){return Zi(wr(d,h))}function Zi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(Zi)),h}var gl=0;function Ji(){this.message="FLOW_CANCELLED"}Ji.prototype=Object.create(Error.prototype);function ml(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,F=++gl,K=$r(h+" - runid: "+F+" - init",d).apply(O,N),fe,Ae=void 0,Ue=new Promise(function(ft,ct){var Ot=0;fe=ct;function xt(Tt){Ae=void 0;var mr;try{mr=$r(h+" - runid: "+F+" - yield "+Ot++,K.next).call(K,Tt)}catch(Mn){return ct(Mn)}Xt(mr)}function Bt(Tt){Ae=void 0;var mr;try{mr=$r(h+" - runid: "+F+" - yield "+Ot++,K.throw).call(K,Tt)}catch(Mn){return ct(Mn)}Xt(mr)}function Xt(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then(Xt,ct);return}return Tt.done?ft(Tt.value):(Ae=Promise.resolve(Tt.value),Ae.then(xt,Bt))}xt(void 0)});return Ue.cancel=$r(h+" - runid: "+F+" - cancel",function(){try{Ae&&Qi(Ae);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(j,j),Qi(ct),fe(new Ji)}catch(Ot){fe(Ot)}}),Ue}}function Qi(d){typeof d.cancel=="function"&&d.cancel()}function qi(d,h){if(d==null)return!1;if(h!==void 0){if(gr(d)===!1||!d[R].values.has(h))return!1;var O=wr(d,h);return mn(O)}return mn(d)}function bl(d){return arguments.length>1?P(!1):qi(d)}function Ol(d,h){return typeof h!="string"?P(!1):qi(d,h)}function On(d,h){return d==null?!1:h!==void 0?gr(d)?d[R].values.has(h):!1:gr(d)||!!d[R]||Q(d)||vo(d)||mn(d)}function En(d){return arguments.length!==1&&P(!1),On(d)}function xn(d){return gr(d)?d[R].getKeys():kt(d)||cr(d)?Array.from(d.keys()):Rr(d)?d.map(function(h,O){return O}):P(!1)}function El(d){return gr(d)?xn(d).map(function(h){return d[h]}):kt(d)?xn(d).map(function(h){return d.get(h)}):cr(d)?Array.from(d.values()):Rr(d)?d.slice():P(!1)}function xl(d){return gr(d)?xn(d).map(function(h){return[h,d[h]]}):kt(d)?xn(d).map(function(h){return[h,d.get(h)]}):cr(d)?Array.from(d.entries()):Rr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function ea(d,h,O){if(arguments.length===2&&!cr(d)){At();var N=h;try{for(var F in N)ea(d,F,N[F])}finally{vr()}return}if(gr(d)){var K=d[R],fe=K.values.get(h);fe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if(kt(d))d.set(h,O);else if(cr(d))d.add(h);else if(Rr(d))typeof h!="number"&&(h=parseInt(h,10)),M(h>=0,"Not a valid index: '"+h+"'"),At(),h>=d.length&&(d.length=h+1),d[h]=O,vr();else return P(!1)}function Sl(d,h,O,N){return typeof O=="function"?Pl(d,h,O,N):yo(d,h,O)}function yo(d,h,O){return Zn(d).observe(h,O)}function Pl(d,h,O,N){return Zn(d,h).observe(O,N)}var Al={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Sn(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Yr(d,h,O){if(!h.recurseEverything&&!En(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if($n(d))return Yr(d.get(),h,O);En(d)&&xn(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(Rr(d)||Array.isArray(d)){var F=Sn(O,d,[],h),K=d.map(function(Bt){return Yr(Bt,h,O)});F.length=K.length;for(var fe=0,Ae=K.length;fe<Ae;fe++)F[fe]=K[fe];return F}if(cr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var Ue=Sn(O,d,new Set,h);return d.forEach(function(Bt){Ue.add(Yr(Bt,h,O))}),Ue}else{var ft=Sn(O,d,[],h);return d.forEach(function(Bt){ft.push(Yr(Bt,h,O))}),ft}if(kt(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=Sn(O,d,new Map,h);return d.forEach(function(Bt,Xt){ct.set(Xt,Yr(Bt,h,O))}),ct}else{var Ot=Sn(O,d,{},h);return d.forEach(function(Bt,Xt){Ot[Xt]=Yr(Bt,h,O)}),Ot}var xt=Sn(O,d,{},h);return z(d).forEach(function(Bt){xt[Bt]=Yr(d[Bt],h,O)}),xt}function Tl(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Al),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Yr(d,h,O)}function Ml(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=wl(d);if(!N)return P(!1);N.isTracing===Pt.NONE&&""+N.name,N.isTracing=O?Pt.BREAK:Pt.LOG}function wl(d){switch(d.length){case 0:return He.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Ar(d,h){h===void 0&&(h=void 0),At();try{return d.apply(h)}finally{vr()}}function Pn(d,h,O){return arguments.length===1||h&&typeof h=="object"?Nl(d,h):Wn(d,h,O||{})}function Wn(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!K[R].isDisposed){K();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+S();var F=kr(O.name+"-effect",h),K=jr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),F())},O);return K}function Nl(d,h){var O,N=new Promise(function(F,K){var fe=Wn(d,F,Ve(Ve({},h),{onError:K}));O=function(){fe(),K("WHEN_CANCELLED")}});return N.cancel=O,N}function go(d){return d[R]}function mo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var An={has:function(d,h){if(h===R||h==="constructor"||h===ke)return!0;var O=go(d);return mo(h)?O.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===ke)return d[h];var O=go(d),N=O.values.get(h);if(N instanceof W){var F=N.get();return F===void 0&&O.has(h),F}return mo(h)&&O.has(h),d[h]},set:function(d,h,O){return mo(h)?(ea(d,h,O),!0):!1},deleteProperty:function(d,h){if(!mo(h))return!1;var O=go(d);return O.remove(h),!0},ownKeys:function(d){var h=go(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function Tn(d){var h=new Proxy(d,An);return d[R].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Kn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),A(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Mr(d,h){var O=re();try{for(var N=Ie(d.interceptors||[]),F=0,K=N.length;F<K&&(h=N[F](h),M(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{Me(O)}}function yr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Vn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),A(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function qt(d,h){var O=re(),N=d.changeListeners;if(!!N){N=N.slice();for(var F=0,K=N.length;F<K;F++)N[F](h);Me(O)}}var Dl=1e4,jl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?Cr.get.call(d,h):typeof h=="string"&&!isNaN(h)?Cr.get.call(d,parseInt(h)):Cr.hasOwnProperty(h)?Cr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[R].setArrayLength(O),typeof h=="number"&&Cr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:Cr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Cl(d,h,O,N){O===void 0&&(O="ObservableArray@"+S()),N===void 0&&(N=!1);var F=new ta(O,h,N);ee(F.values,R,F);var K=new Proxy(F.values,jl);if(F.proxy=K,d&&d.length){var fe=yn(!0);F.spliceWithArray(0,0,d),Xn(fe)}return K}var ta=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+S()),this.enhancer=function(F,K){return O(F,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Vn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),F=0;F<h-O;F++)N[F]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var F=this;Je(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),N===void 0&&(N=b),Tr(this)){var fe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function(Ue){return F.enhancer(Ue,void 0)});var Ae=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Ae),this.dehanceValues(Ae)},d.prototype.spliceItemsIntoValues=function(h,O,N){var F;if(N.length<Dl)return(F=this.values).splice.apply(F,Ie([h,O],N));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,N){var F=!this.owned&&Rt(),K=yr(this),fe=K||F?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),K&&qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var F=!this.owned&&Rt(),K=yr(this),fe=K||F?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&qt(this,fe)},d}(),Cr={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[R];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[R];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[R];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[R],N=O.values;if(d<N.length){Je(O.atom);var F=N[d];if(Tr(O)){var K=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,F);var fe=h!==F;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,F))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Cr[d]=function(){var h=this[R];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Cr[d]=function(h,O){var N=this,F=this[R];F.atom.reportObserved();var K=F.dehanceValues(F.values);return K[d](function(fe,Ae){return h.call(O,fe,Ae,N)},O)})}),["reduce","reduceRight"].forEach(function(d){Cr[d]=function(){var h=this,O=this[R];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(F,K,fe){return K=O.dehanceValue(K),N(F,K,fe,h)},O.values[d].apply(O.values,arguments)}});var Rl=ie("ObservableArrayAdministration",ta);function Rr(d){return B(d)&&Rl(d[R])}var ra,na={},ni=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableMap@"+S()),this.enhancer=O,this.name=N,this[ra]=na,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!He.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var F=N=new un(this._has(h),nt,this.name+"."+U(h)+"?",!1);this._hasMap.set(h,F),ti(F,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Tr(this)){var F=Mr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!F)return this;O=F.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Tr(this)){var N=Mr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var F=Rt(),K=yr(this),N=K||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Ar(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Ae=O._data.get(h);Ae.setNewValue(void 0),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==He.UNCHANGED){var F=Rt(),K=yr(this),fe=K||F?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),K&&qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Ar(function(){var Ae=new un(O,N.enhancer,N.name+"."+U(h),!1);N._data.set(h,Ae),O=Ae.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var F=Rt(),K=yr(this),fe=K||F?{type:"add",object:this,name:h,newValue:O}:null;K&&qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return Oo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return Oo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:[K,h.get(K)]}}})},d.prototype[ra=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Ae=Se(fe.value,2),Ue=Ae[0],ft=Ae[1];h.call(O,ft,Ue,this)}}catch(ct){N={error:ct}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return kt(h)&&(h=h.toJS()),Ar(function(){var N=yn(!0);try{_(h)?z(h).forEach(function(F){return O.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var K=Se(F,2),fe=K[0],Ae=K[1];return O.set(fe,Ae)}):J(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,K){return O.set(K,F)})):h!=null&&P("Cannot initialize map from "+h)}finally{Xn(N)}}),this},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h.keys()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Ae){O={error:Ae}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Ar(function(){var N,F,K,fe,Ae=X(h),Ue=new Map,ft=!1;try{for(var ct=Be(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var xt=Ot.value;if(!Ae.has(xt)){var Bt=O.delete(xt);if(Bt)ft=!0;else{var Xt=O._data.get(xt);Ue.set(xt,Xt)}}}}catch(ln){N={error:ln}}finally{try{Ot&&!Ot.done&&(F=ct.return)&&F.call(ct)}finally{if(N)throw N.error}}try{for(var Tt=Be(Ae.entries()),mr=Tt.next();!mr.done;mr=Tt.next()){var Mn=Se(mr.value,2),xt=Mn[0],Xt=Mn[1],pa=O._data.has(xt);if(O.set(xt,Xt),O._data.has(xt)){var ha=O._data.get(xt);Ue.set(xt,ha),pa||(ft=!0)}}}catch(ln){K={error:ln}}finally{try{mr&&!mr.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==Ue.size)O._keysAtom.reportChanged();else for(var va=O._data.keys(),ya=Ue.keys(),ai=va.next(),wn=ya.next();!ai.done;){if(ai.value!==wn.value){O._keysAtom.reportChanged();break}ai=va.next(),wn=ya.next()}O._data=Ue}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var F=Be(this),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Ae=fe[0],Ue=fe[1];N[typeof Ae=="symbol"?Ae:U(Ae)]=Ue}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return U(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d}(),kt=ie("ObservableMap",ni),oa,Il={},ia=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableSet@"+S()),this.name=N,this[oa]=Il,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,K){return O(F,K,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h._data.values()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Ae){O={error:Ae}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Ae=fe.value;h.call(O,Ae,Ae,this)}}catch(Ue){N={error:Ue}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Tr(this)){var N=Mr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Ar(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var F=Rt(),K=yr(this),N=K||F?{type:"add",object:this,newValue:h}:null;K&&qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var N=Mr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var F=Rt(),K=yr(this),N=K||F?{type:"delete",object:this,oldValue:h}:null;return Ar(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return Oo({next:function(){var F=h;return h+=1,F<N.length?{value:[O[F],N[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return Oo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return cr(h)&&(h=h.toJS()),Ar(function(){var N=yn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):le(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):h!=null&&P("Cannot initialize set from "+h)}finally{Xn(N)}}),this},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[oa=R,Symbol.iterator]=function(){return this.values()},d}(),cr=ie("ObservableSet",ia),aa=function(){function d(h,O,N,F){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=F,this.keysAtom=new W(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,F=this.values.get(h);if(F instanceof gn){F.set(O);return}if(Tr(this)){var K=Mr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=F.prepareNewValue(O),O!==He.UNCHANGED){var fe=yr(this),Ae=Rt(),K=fe||Ae?{type:"update",object:this.proxy||N,oldValue:F.value,name:h,newValue:O}:null;F.setNewValue(O),fe&&qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var F=!!this.values.get(h);return N=new un(F,nt,this.name+"."+U(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var F=this.target;if(Tr(this)){var K=Mr(this,{object:this.proxy||F,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var fe=new un(O,N,this.name+"."+U(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(F,h,Bl(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var F=this.target;N.name=N.name||this.name+"."+U(O),this.values.set(O,new gn(N)),(h===F||ne(h,O))&&Object.defineProperty(h,O,Ll(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Tr(this)){var N=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{At();var F=yr(this),K=Rt(),fe=this.values.get(h),Ae=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var Ue=this.pendingKeys.get(h);Ue&&Ue.set(!1)}delete this.target[h];var N=F||K?{type:"remove",object:this.proxy||O,oldValue:Ae,name:h}:null;F&&qt(this,N)}finally{vr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=yr(this),F=Rt(),K=N||F?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&qt(this,K),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var F=Be(this.values),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Ae=fe[0],Ue=fe[1];Ue instanceof un&&N.push(Ae)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d}();function oi(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];_(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var N=new aa(d,new Map,U(h),O);return $(d,R,N),N}var ua=Object.create(null),sa=Object.create(null);function Bl(d){return ua[d]||(ua[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function la(d){var h=d[R];return h||(xe(d),d[R])}function Ll(d){return sa[d]||(sa[d]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return la(this).read(d)},set:function(h){la(this).write(d,h)}})}var _l=ie("ObservableObjectAdministration",aa);function gr(d){return B(d)?(xe(d),_l(d[R])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Rr(d))return h!==void 0&&P(!1),d[R].atom;if(cr(d))return d[R];if(kt(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||P(!1),N}if(xe(d),h&&!d[R]&&d[h],gr(d)){if(!h)return P(!1);var N=d[R].values.get(h);return N||P(!1),N}if(Q(d)||mn(d)||vo(d))return d}else if(typeof d=="function"&&vo(d[R]))return d[R];return P(!1)}function Zn(d,h){if(d||P("Expecting some object"),h!==void 0)return Zn(wr(d,h));if(Q(d)||mn(d)||vo(d)||kt(d)||cr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function zl(d,h){var O;return h!==void 0?O=wr(d,h):gr(d)||kt(d)||cr(d)?O=Zn(d):O=wr(d),O.name}var fa=Object.prototype.toString;function bo(d,h,O){return O===void 0&&(O=-1),Jn(d,h,O)}function Jn(d,h,O,N,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var fe=fa.call(d);if(fe!==fa.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=ca(d),h=ca(h);var Ae=fe==="[object Array]";if(!Ae){if(typeof d!="object"||typeof h!="object")return!1;var Ue=d.constructor,ft=h.constructor;if(Ue!==ft&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],F=F||[];for(var ct=N.length;ct--;)if(N[ct]===d)return F[ct]===h;if(N.push(d),F.push(h),Ae){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Jn(d[ct],h[ct],O-1,N,F))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(xt=Ot[ct],!(Fl(h,xt)&&Jn(d[xt],h[xt],O-1,N,F)))return!1}return N.pop(),F.pop(),!0}function ca(d){return Rr(d)?d.slice():J(d)||kt(d)||le(d)||cr(d)?Array.from(d.entries()):d}function Fl(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function Oo(d){return d[Symbol.iterator]=ii,d}function ii(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(d){var da=co();typeof l=="undefined"&&(da.process={}),da.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Xi,extras:{getDebugName:zl},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return ne}),i.d(c,"b",function(){return ee}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return ke}),i.d(c,"e",function(){return _}),i.d(c,"f",function(){return $}),i.d(c,"g",function(){return _}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Be}),i.d(c,"k",function(){return w});var l,f,y,b,x,S,P,M={},A=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,Y){for(var q in Y)k[q]=Y[q];return k}function B(k){var Y=k.parentNode;Y&&Y.removeChild(k)}function _(k,Y,q){var he,xe,pe,ze={};for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];if(arguments.length>2&&(ze.children=arguments.length>3?l.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)ze[pe]===void 0&&(ze[pe]=k.defaultProps[pe]);return X(k,ze,he,xe,null)}function X(k,Y,q,he,xe){var pe={type:k,props:Y,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++y:xe};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function $(){return{current:null}}function ee(k){return k.children}function ne(k,Y){this.props=k,this.context=Y}function ie(k,Y){if(Y==null)return k.__?ie(k.__,k.__.__k.indexOf(k)+1):null;for(var q;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?ie(k):null}function J(k){var Y,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,Y=0;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return J(k)}}function le(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!z.__r++||S!==f.debounceRendering)&&((S=f.debounceRendering)||x)(z)}function z(){for(var k;z.__r=b.length;)k=b.sort(function(Y,q){return Y.__v.__b-q.__v.__b}),b=[],k.some(function(Y){var q,he,xe,pe,ze,tt;Y.__d&&(ze=(pe=(q=Y).__v).__e,(tt=q.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,Oe(tt,pe,xe,q.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[ze]:null,he,ze==null?ie(pe):ze,pe.__h),Pe(he,pe),pe.__e!=ze&&J(pe)))})}function U(k,Y,q,he,xe,pe,ze,tt,Ye,nt){var ve,ut,rt,Le,Qe,wt,dt,bt=he&&he.__k||A,oe=bt.length;for(q.__k=[],ve=0;ve<Y.length;ve++)if((Le=q.__k[ve]=(Le=Y[ve])==null||typeof Le=="boolean"?null:typeof Le=="string"||typeof Le=="number"||typeof Le=="bigint"?X(null,Le,null,null,Le):Array.isArray(Le)?X(ee,{children:Le},null,null,null):Le.__b>0?X(Le.type,Le.props,Le.key,null,Le.__v):Le)!=null){if(Le.__=q,Le.__b=q.__b+1,(rt=bt[ve])===null||rt&&Le.key==rt.key&&Le.type===rt.type)bt[ve]=void 0;else for(ut=0;ut<oe;ut++){if((rt=bt[ut])&&Le.key==rt.key&&Le.type===rt.type){bt[ut]=void 0;break}rt=null}Oe(k,Le,rt=rt||M,xe,pe,ze,tt,Ye,nt),Qe=Le.__e,(ut=Le.ref)&&rt.ref!=ut&&(dt||(dt=[]),rt.ref&&dt.push(rt.ref,null,Le),dt.push(ut,Le.__c||Qe,Le)),Qe!=null?(wt==null&&(wt=Qe),typeof Le.type=="function"&&Le.__k===rt.__k?Le.__d=Ye=I(Le,Ye,k):Ye=R(k,Le,rt,bt,Qe,Ye),typeof q.type=="function"&&(q.__d=Ye)):Ye&&rt.__e==Ye&&Ye.parentNode!=k&&(Ye=ie(rt))}for(q.__e=wt,ve=oe;ve--;)bt[ve]!=null&&(typeof q.type=="function"&&bt[ve].__e!=null&&bt[ve].__e==q.__d&&(q.__d=ie(he,ve+1)),_e(bt[ve],bt[ve]));if(dt)for(ve=0;ve<dt.length;ve++)Ne(dt[ve],dt[++ve],dt[++ve])}function I(k,Y,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,Y=typeof he.type=="function"?I(he,Y,q):R(q,he,he,xe,he.__e,Y));return Y}function w(k,Y){return Y=Y||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){w(q,Y)}):Y.push(k)),Y}function R(k,Y,q,he,xe,pe){var ze,tt,Ye;if(Y.__d!==void 0)ze=Y.__d,Y.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),ze=null;else{for(tt=pe,Ye=0;(tt=tt.nextSibling)&&Ye<he.length;Ye+=2)if(tt==xe)break e;k.insertBefore(xe,pe),ze=pe}return ze!==void 0?ze:xe.nextSibling}function W(k,Y,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in Y||ce(k,pe,null,q[pe],he);for(pe in Y)xe&&typeof Y[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===Y[pe]||ce(k,pe,Y[pe],q[pe],he)}function Q(k,Y,q){Y[0]==="-"?k.setProperty(Y,q):k[Y]=q==null?"":typeof q!="number"||j.test(Y)?q:q+"px"}function ce(k,Y,q,he,xe){var pe;e:if(Y==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(Y in he)q&&Y in q||Q(k.style,Y,"");if(q)for(Y in q)he&&q[Y]===he[Y]||Q(k.style,Y,q[Y])}else if(Y[0]==="o"&&Y[1]==="n")pe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in k?Y.toLowerCase().slice(2):Y.slice(2),k.l||(k.l={}),k.l[Y+pe]=q,q?he||k.addEventListener(Y,pe?me:Te,pe):k.removeEventListener(Y,pe?me:Te,pe);else if(Y!=="dangerouslySetInnerHTML"){if(xe)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in k)try{k[Y]=q==null?"":q;break e}catch(ze){}typeof q=="function"||(q!=null&&(q!==!1||Y[0]==="a"&&Y[1]==="r")?k.setAttribute(Y,q):k.removeAttribute(Y))}}function Te(k){this.l[k.type+!1](f.event?f.event(k):k)}function me(k){this.l[k.type+!0](f.event?f.event(k):k)}function Oe(k,Y,q,he,xe,pe,ze,tt,Ye){var nt,ve,ut,rt,Le,Qe,wt,dt,bt,oe,Ct,St=Y.type;if(Y.constructor!==void 0)return null;q.__h!=null&&(Ye=q.__h,tt=Y.__e=q.__e,Y.__h=null,pe=[tt]),(nt=f.__b)&&nt(Y);try{e:if(typeof St=="function"){if(dt=Y.props,bt=(nt=St.contextType)&&he[nt.__c],oe=nt?bt?bt.props.value:nt.__:he,q.__c?wt=(ve=Y.__c=q.__c).__=ve.__E:("prototype"in St&&St.prototype.render?Y.__c=ve=new St(dt,oe):(Y.__c=ve=new ne(dt,oe),ve.constructor=St,ve.render=Ve),bt&&bt.sub(ve),ve.props=dt,ve.state||(ve.state={}),ve.context=oe,ve.__n=he,ut=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,St.getDerivedStateFromProps(dt,ve.__s))),rt=ve.props,Le=ve.state,ut)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&dt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(dt,oe),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(dt,ve.__s,oe)===!1||Y.__v===q.__v){ve.props=dt,ve.state=ve.__s,Y.__v!==q.__v&&(ve.__d=!1),ve.__v=Y,Y.__e=q.__e,Y.__k=q.__k,Y.__k.forEach(function(mt){mt&&(mt.__=Y)}),ve.__h.length&&ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(dt,ve.__s,oe),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,Le,Qe)})}ve.context=oe,ve.props=dt,ve.state=ve.__s,(nt=f.__r)&&nt(Y),ve.__d=!1,ve.__v=Y,ve.__P=k,nt=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),ut||ve.getSnapshotBeforeUpdate==null||(Qe=ve.getSnapshotBeforeUpdate(rt,Le)),Ct=nt!=null&&nt.type===ee&&nt.key==null?nt.props.children:nt,U(k,Array.isArray(Ct)?Ct:[Ct],Y,q,he,xe,pe,ze,tt,Ye),ve.base=Y.__e,Y.__h=null,ve.__h.length&&ze.push(ve),wt&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&Y.__v===q.__v?(Y.__k=q.__k,Y.__e=q.__e):Y.__e=Ee(q.__e,Y,q,he,xe,pe,ze,Ye);(nt=f.diffed)&&nt(Y)}catch(mt){Y.__v=null,(Ye||pe!=null)&&(Y.__e=tt,Y.__h=!!Ye,pe[pe.indexOf(tt)]=null),f.__e(mt,Y,q)}}function Pe(k,Y){f.__c&&f.__c(Y,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){f.__e(he,q.__v)}})}function Ee(k,Y,q,he,xe,pe,ze,tt){var Ye,nt,ve,ut=q.props,rt=Y.props,Le=Y.type,Qe=0;if(Le==="svg"&&(xe=!0),pe!=null){for(;Qe<pe.length;Qe++)if((Ye=pe[Qe])&&"setAttribute"in Ye==!!Le&&(Le?Ye.localName===Le:Ye.nodeType===3)){k=Ye,pe[Qe]=null;break}}if(k==null){if(Le===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",Le):document.createElement(Le,rt.is&&rt),pe=null,tt=!1}if(Le===null)ut===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&l.call(k.childNodes),nt=(ut=q.props||M).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(ut={},Qe=0;Qe<k.attributes.length;Qe++)ut[k.attributes[Qe].name]=k.attributes[Qe].value;(ve||nt)&&(ve&&(nt&&ve.__html==nt.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,ut,xe,tt),ve)Y.__k=[];else if(Qe=Y.props.children,U(k,Array.isArray(Qe)?Qe:[Qe],Y,q,he,xe&&Le!=="foreignObject",pe,ze,pe?pe[0]:q.__k&&ie(q,0),tt),pe!=null)for(Qe=pe.length;Qe--;)pe[Qe]!=null&&B(pe[Qe]);tt||("value"in rt&&(Qe=rt.value)!==void 0&&(Qe!==ut.value||Qe!==k.value||Le==="progress"&&!Qe)&&ce(k,"value",Qe,ut.value,!1),"checked"in rt&&(Qe=rt.checked)!==void 0&&Qe!==k.checked&&ce(k,"checked",Qe,ut.checked,!1))}return k}function Ne(k,Y,q){try{typeof k=="function"?k(Y):k.current=Y}catch(he){f.__e(he,q)}}function _e(k,Y,q){var he,xe;if(f.unmount&&f.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ne(he,null,Y)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,Y)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&_e(he[xe],Y,typeof k.type!="function");q||k.__e==null||B(k.__e),k.__e=k.__d=void 0}function Ve(k,Y,q){return this.constructor(k,q)}function Be(k,Y,q){var he,xe,pe;f.__&&f.__(k,Y),xe=(he=typeof q=="function")?null:q&&q.__k||Y.__k,pe=[],Oe(Y,k=(!he&&q||Y).__k=_(ee,null,[k]),xe||M,M,Y.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:Y.firstChild?l.call(Y.childNodes):null,pe,!he&&q?q:xe?xe.__e:Y.firstChild,he),Pe(pe,k)}function Se(k,Y){Be(k,Y,Se)}function Ie(k,Y,q){var he,xe,pe,ze=C({},k.props);for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];return arguments.length>2&&(ze.children=arguments.length>3?l.call(arguments,2):q),X(k.type,ze,he||k.key,xe||k.ref,null)}function ke(k,Y){var q={__c:Y="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[Y]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&xe.some(le)},this.sub=function(ze){xe.push(ze);var tt=ze.componentWillUnmount;ze.componentWillUnmount=function(){xe.splice(xe.indexOf(ze),1),tt&&tt.call(ze)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}l=A.slice,f={__e:function(k,Y){for(var q,he,xe;Y=Y.__;)if((q=Y.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,ne.prototype.setState=function(k,Y){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},q),this.props)),k&&C(q,k),k!=null&&this.__v&&(Y&&this.__h.push(Y),le(this))},ne.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),le(this))},ne.prototype.render=ee,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,P=0},function(u,c,i){var l=i(116),f=i(44),y=i(178);l||f(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var l=i(39),f=i(83),y=i(70),b=i(56),x=i(111),S="Array Iterator",P=b.set,M=b.getterFor(S);u.exports=x(Array,"Array",function(A,j){P(this,{type:S,target:l(A),index:0,kind:j})},function(){var A=M(this),j=A.target,C=A.kind,B=A.index++;return!j||B>=j.length?(A.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:B,done:!1}:C=="values"?{value:j[B],done:!1}:{value:[B,j[B]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var l=i(7),f=i(147),y=i(148),b=i(3),x=i(57),S=i(27),P=S("iterator"),M=S("toStringTag"),A=b.values,j=function(B,_){if(B){if(B[P]!==A)try{x(B,P,A)}catch($){B[P]=A}if(B[M]||x(B,M,_),f[_]){for(var X in b)if(B[X]!==b[X])try{x(B,X,b[X])}catch($){B[X]=b[X]}}}};for(var C in f)j(l[C]&&l[C].prototype,C);j(y,"DOMTokenList")},function(u,c,i){var l=i(16),f=i(7),y=i(46),b=i(76),x=i(35),S=i(15),P=i(64),M=i(36),A=i(109),j=i(18),C=i(34),B=i(99),_=i(28),X=i(33),$=i(58),ee=i(88),ne=i(32),ie=i(38),J=i(39),le=i(87),z=i(40),U=i(71),I=i(54),w=i(66),R=i(72),W=i(139),Q=i(112),ce=i(51),Te=i(37),me=i(93),Oe=i(101),Pe=i(44),Ee=i(84),Ne=i(91),_e=i(69),Ve=i(85),Be=i(27),Se=i(149),Ie=i(150),ke=i(73),k=i(56),Y=i(74).forEach,q=Ne("hidden"),he="Symbol",xe="prototype",pe=Be("toPrimitive"),ze=k.set,tt=k.getterFor(he),Ye=Object[xe],nt=f.Symbol,ve=nt&&nt[xe],ut=f.TypeError,rt=f.QObject,Le=y("JSON","stringify"),Qe=ce.f,wt=Te.f,dt=W.f,bt=me.f,oe=S([].push),Ct=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Yt=Ee("symbol-to-string-registry"),hr=Ee("wks"),Zt=!rt||!rt[xe]||!rt[xe].findChild,Sr=M&&j(function(){return I(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(te,re,Me){var De=Qe(Ye,re);De&&delete Ye[re],wt(te,re,Me),De&&te!==Ye&&wt(Ye,re,De)}:wt,qe=function(te,re){var Me=Ct[te]=I(ve);return ze(Me,{type:he,tag:te,description:re}),M||(Me.description=re),Me},Pt=function(re,Me,De){re===Ye&&Pt(St,Me,De),ne(re);var Xe=le(Me);return ne(De),C(Ct,Xe)?(De.enumerable?(C(re,q)&&re[q][Xe]&&(re[q][Xe]=!1),De=I(De,{enumerable:U(0,!1)})):(C(re,q)||wt(re,q,U(1,{})),re[q][Xe]=!0),Sr(re,Xe,De)):wt(re,Xe,De)},nr=function(re,Me){ne(re);var De=J(Me),Xe=w(De).concat(lt(De));return Y(Xe,function(vt){(!M||x($e,De,vt))&&Pt(re,vt,De[vt])}),re},je=function(re,Me){return Me===void 0?I(re):nr(I(re),Me)},$e=function(re){var Me=le(re),De=x(bt,this,Me);return this===Ye&&C(Ct,Me)&&!C(St,Me)?!1:De||!C(this,Me)||!C(Ct,Me)||C(this,q)&&this[q][Me]?De:!0},ot=function(re,Me){var De=J(re),Xe=le(Me);if(!(De===Ye&&C(Ct,Xe)&&!C(St,Xe))){var vt=Qe(De,Xe);return vt&&C(Ct,Xe)&&!(C(De,q)&&De[q][Xe])&&(vt.enumerable=!0),vt}},Je=function(re){var Me=dt(J(re)),De=[];return Y(Me,function(Xe){!C(Ct,Xe)&&!C(_e,Xe)&&oe(De,Xe)}),De},lt=function(re){var Me=re===Ye,De=dt(Me?St:J(re)),Xe=[];return Y(De,function(vt){C(Ct,vt)&&(!Me||C(Ye,vt))&&oe(Xe,Ct[vt])}),Xe};if(A||(nt=function(){if($(ve,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:z(arguments[0]),Me=Ve(re),De=function(Xe){this===Ye&&x(De,St,Xe),C(this,q)&&C(this[q],Me)&&(this[q][Me]=!1),Sr(this,Me,U(1,Xe))};return M&&Zt&&Sr(Ye,Me,{configurable:!0,set:De}),qe(Me,re)},ve=nt[xe],Pe(ve,"toString",function(){return tt(this).tag}),Pe(nt,"withoutSetter",function(te){return qe(Ve(te),te)}),me.f=$e,Te.f=Pt,ce.f=ot,R.f=W.f=Je,Q.f=lt,Se.f=function(te){return qe(Be(te),te)},M&&(wt(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Pe(Ye,"propertyIsEnumerable",$e,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:nt}),Y(w(hr),function(te){Ie(te)}),l({target:he,stat:!0,forced:!A},{for:function(te){var re=z(te);if(C(mt,re))return mt[re];var Me=nt(re);return mt[re]=Me,Yt[Me]=re,Me},keyFor:function(re){if(!ee(re))throw ut(re+" is not a symbol");if(C(Yt,re))return Yt[re]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),l({target:"Object",stat:!0,forced:!A,sham:!M},{create:je,defineProperty:Pt,defineProperties:nr,getOwnPropertyDescriptor:ot}),l({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),l({target:"Object",stat:!0,forced:j(function(){Q.f(1)})},{getOwnPropertySymbols:function(re){return Q.f(ie(re))}}),Le){var G=!A||j(function(){var te=nt();return Le([te])!="[null]"||Le({a:te})!="{}"||Le(Object(te))!="{}"});l({target:"JSON",stat:!0,forced:G},{stringify:function(re,Me,De){var Xe=Oe(arguments),vt=Me;if(!(!X(Me)&&re===void 0||ee(re)))return B(Me)||(Me=function(Jt,Qt){if(_(vt)&&(Qt=x(vt,this,Jt,Qt)),!ee(Qt))return Qt}),Xe[1]=Me,b(Le,null,Xe)}})}if(!ve[pe]){var V=ve.valueOf;Pe(ve,pe,function(te){return x(V,this)})}ke(nt,he),_e[q]=!0},function(u,c,i){var l=i(146).charAt,f=i(40),y=i(56),b=i(111),x="String Iterator",S=y.set,P=y.getterFor(x);b(String,"String",function(M){S(this,{type:x,string:f(M),index:0})},function(){var A=P(this),j=A.string,C=A.index,B;return C>=j.length?{value:void 0,done:!0}:(B=l(j,C),A.index+=B.length,{value:B,done:!1})})},function(u,c,i){(function(l){var f=function(y){return y&&y.Math==Math&&y};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var l=i(16),f=i(36),y=i(7),b=i(15),x=i(34),S=i(28),P=i(58),M=i(40),A=i(37).f,j=i(134),C=y.Symbol,B=C&&C.prototype;if(f&&S(C)&&(!("description"in B)||C().description!==void 0)){var _={},X=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),I=P(B,this)?new C(U):U===void 0?C():C(U);return U===""&&(_[I]=!0),I};j(X,C),X.prototype=B,B.constructor=X;var $=String(C("test"))=="Symbol(test)",ee=b(B.toString),ne=b(B.valueOf),ie=/^Symbol\((.*)\)[^)]+$/,J=b("".replace),le=b("".slice);A(B,"description",{configurable:!0,get:function(){var U=ne(this),I=ee(U);if(x(_,U))return"";var w=$?le(I,7,-1):J(I,ie,"$1");return w===""?void 0:w}}),l({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var l=i(150);l("iterator")},function(u,c,i){i.d(c,"a",function(){return l.a}),i.d(c,"c",function(){return l.e}),i.d(c,"h",function(){return le}),i.d(c,"i",function(){return $}),i.d(c,"j",function(){return _}),i.d(c,"b",function(){return Pe}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return $e});var l=i(1),f,y,b,x=0,S=[],P=l.i.__b,M=l.i.__r,A=l.i.diffed,j=l.i.__c,C=l.i.unmount;function B(G,V){l.i.__h&&l.i.__h(y,G,x||V),x=0;var te=y.__H||(y.__H={__:[],__h:[]});return G>=te.__.length&&te.__.push({}),te.__[G]}function _(G){return x=1,X(Te,G)}function X(G,V,te){var re=B(f++,2);return re.t=G,re.__c||(re.__=[te?te(V):Te(void 0,V),function(Me){var De=re.t(re.__[0],Me);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=y),re.__}function $(G,V){var te=B(f++,3);!l.i.__s&&ce(te.__H,V)&&(te.__=G,te.__H=V,y.__H.__h.push(te))}function ee(G,V){var te=B(f++,4);!l.i.__s&&ce(te.__H,V)&&(te.__=G,te.__H=V,y.__h.push(te))}function ne(G){return x=5,J(function(){return{current:G}},[])}function ie(G,V,te){x=6,ee(function(){typeof G=="function"?G(V()):G&&(G.current=V())},te==null?te:te.concat(G))}function J(G,V){var te=B(f++,7);return ce(te.__H,V)&&(te.__=G(),te.__H=V,te.__h=G),te.__}function le(G,V){return x=8,J(function(){return G},V)}function z(G){var V=y.context[G.__c],te=B(f++,9);return te.c=G,V?(te.__==null&&(te.__=!0,V.sub(y)),V.props.value):G.__}function U(G,V){l.i.useDebugValue&&l.i.useDebugValue(V?V(G):G)}function I(){var G;for(S.sort(function(V,te){return V.__v.__b-te.__v.__b});G=S.pop();)if(G.__P)try{G.__H.__h.forEach(W),G.__H.__h.forEach(Q),G.__H.__h=[]}catch(V){G.__H.__h=[],l.i.__e(V,G.__v)}}l.i.__b=function(G){y=null,P&&P(G)},l.i.__r=function(G){M&&M(G),f=0;var V=(y=G.__c).__H;V&&(V.__h.forEach(W),V.__h.forEach(Q),V.__h=[])},l.i.diffed=function(G){A&&A(G);var V=G.__c;V&&V.__H&&V.__H.__h.length&&(S.push(V)!==1&&b===l.i.requestAnimationFrame||((b=l.i.requestAnimationFrame)||R)(I)),y=null},l.i.__c=function(G,V){V.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||Q(re)})}catch(re){V.some(function(Me){Me.__h&&(Me.__h=[])}),V=[],l.i.__e(re,te.__v)}}),j&&j(G,V)},l.i.unmount=function(G){C&&C(G);var V,te=G.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(Me){V=Me}}),V&&l.i.__e(V,te.__v))};var w=typeof requestAnimationFrame=="function";function R(G){var V,te=function(){clearTimeout(re),w&&cancelAnimationFrame(V),setTimeout(G)},re=setTimeout(te,100);w&&(V=requestAnimationFrame(te))}function W(G){var V=y,te=G.__c;typeof te=="function"&&(G.__c=void 0,te()),y=V}function Q(G){var V=y;G.__c=G.__(),y=V}function ce(G,V){return!G||G.length!==V.length||V.some(function(te,re){return te!==G[re]})}function Te(G,V){return typeof V=="function"?V(G):V}function me(G,V){for(var te in V)G[te]=V[te];return G}function Oe(G,V){for(var te in G)if(te!=="__source"&&!(te in V))return!0;for(var re in V)if(re!=="__source"&&G[re]!==V[re])return!0;return!1}function Pe(G){this.props=G}function Ee(G,V){function te(Me){var De=this.props.ref,Xe=De==Me.ref;return!Xe&&De&&(De.call?De(null):De.current=null),V?!V(this.props,Me)||!Xe:Oe(this.props,Me)}function re(Me){return this.shouldComponentUpdate=te,Object(l.e)(G,Me)}return re.displayName="Memo("+(G.displayName||G.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Pe.prototype=new l.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(G,V){return Oe(this.props,G)||Oe(this.state,V)};var Ne=l.i.__b;l.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),Ne&&Ne(G)};var _e=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(G){function V(te,re){var Me=me({},te);return delete Me.ref,G(Me,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return V.$$typeof=_e,V.render=V,V.prototype.isReactComponent=V.__f=!0,V.displayName="ForwardRef("+(G.displayName||G.name)+")",V}var Be=function(G,V){return G==null?null:Object(l.k)(Object(l.k)(G).map(V))},Se={map:Be,forEach:Be,count:function(G){return G?Object(l.k)(G).length:0},only:function(G){var V=Object(l.k)(G);if(V.length!==1)throw"Children.only";return V[0]},toArray:l.k},Ie=l.i.__e;l.i.__e=function(G,V,te){if(G.then){for(var re,Me=V;Me=Me.__;)if((re=Me.__c)&&re.__c)return V.__e==null&&(V.__e=te.__e,V.__k=te.__k),re.__c(G,V)}Ie(G,V,te)};var ke=l.i.unmount;function k(G,V,te){return G&&(G.__c&&G.__c.__H&&(G.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),G.__c.__H=null),(G=me({},G)).__c!=null&&(G.__c.__P===te&&(G.__c.__P=V),G.__c=null),G.__k=G.__k&&G.__k.map(function(re){return k(re,V,te)})),G}function Y(G,V,te){return G&&(G.__v=null,G.__k=G.__k&&G.__k.map(function(re){return Y(re,V,te)}),G.__c&&G.__c.__P===V&&(G.__e&&te.insertBefore(G.__e,G.__d),G.__c.__e=!0,G.__c.__P=te)),G}function q(){this.__u=0,this.t=null,this.__b=null}function he(G){var V=G.__.__c;return V&&V.__e&&V.__e(G)}function xe(G){var V,te,re;function Me(De){if(V||(V=G()).then(function(Xe){te=Xe.default||Xe},function(Xe){re=Xe}),re)throw re;if(!te)throw V;return Object(l.e)(te,De)}return Me.displayName="Lazy",Me.__f=!0,Me}function pe(){this.u=null,this.o=null}l.i.unmount=function(G){var V=G.__c;V&&V.__R&&V.__R(),V&&G.__h===!0&&(G.type=null),ke&&ke(G)},(q.prototype=new l.a).__c=function(G,V){var te=V.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var Me=he(re.__v),De=!1,Xe=function(){De||(De=!0,te.__R=null,Me?Me(vt):vt())};te.__R=Xe;var vt=function(){if(!--re.__u){if(re.state.__e){var Qt=re.state.__e;re.__v.__k[0]=Y(Qt,Qt.__c.__P,Qt.__c.__O)}var kn;for(re.setState({__e:re.__b=null});kn=re.t.pop();)kn.forceUpdate()}},Jt=V.__h===!0;re.__u++||Jt||re.setState({__e:re.__b=re.__v.__k[0]}),G.then(Xe,Xe)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(G,V){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var Me=V.__e&&Object(l.e)(l.b,null,G.fallback);return Me&&(Me.__h=null),[Object(l.e)(l.b,null,V.__e?null:G.children),Me]};var ze=function(G,V,te){if(++te[1]===te[0]&&G.o.delete(V),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(te=G.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;G.u=te=te[2]}};function tt(G){return this.getChildContext=function(){return G.context},G.children}function Ye(G){var V=this,te=G.i;V.componentWillUnmount=function(){Object(l.j)(null,V.l),V.l=null,V.i=null},V.i&&V.i!==te&&V.componentWillUnmount(),G.__v?(V.l||(V.i=te,V.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),V.i.appendChild(re)},insertBefore:function(re,Me){this.childNodes.push(re),V.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),V.i.removeChild(re)}}),Object(l.j)(Object(l.e)(tt,{context:V.context},G.__v),V.l)):V.l&&V.componentWillUnmount()}function nt(G,V){return Object(l.e)(Ye,{__v:G,i:V})}(pe.prototype=new l.a).__e=function(G){var V=this,te=he(V.__v),re=V.o.get(G);return re[0]++,function(Me){var De=function(){V.props.revealOrder?(re.push(Me),ze(V,G,re)):Me()};te?te(De):De()}},pe.prototype.render=function(G){this.u=null,this.o=new Map;var V=Object(l.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&V.reverse();for(var te=V.length;te--;)this.o.set(V[te],this.u=[1,0,this.u]);return G.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(V,te){ze(G,te,V)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document!="undefined",Le=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};function Qe(G,V,te){return V.__k==null&&(V.textContent=""),Object(l.j)(G,V),typeof te=="function"&&te(),G?G.__c:null}function wt(G,V,te){return Object(l.h)(G,V),typeof te=="function"&&te(),G?G.__c:null}l.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(l.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(V){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:V})}})});var dt=l.i.event;function bt(){}function oe(){return this.cancelBubble}function Ct(){return this.defaultPrevented}l.i.event=function(G){return dt&&(G=dt(G)),G.persist=bt,G.isPropagationStopped=oe,G.isDefaultPrevented=Ct,G.nativeEvent=G};var St,mt={configurable:!0,get:function(){return this.class}},Yt=l.i.vnode;l.i.vnode=function(G){var V=G.type,te=G.props,re=te;if(typeof V=="string"){var Me=V.indexOf("-")===-1;for(var De in re={},te){var Xe=te[De];rt&&De==="children"&&V==="noscript"||De==="value"&&"defaultValue"in te&&Xe==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+V)&&!Le(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():Me&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),re[De]=Xe)}V=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(l.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),V=="select"&&re.defaultValue!=null&&(re.value=Object(l.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),G.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}G.$$typeof=ve,Yt&&Yt(G)};var hr=l.i.__r;l.i.__r=function(G){hr&&hr(G),St=G.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(G){return St.__n[G.__c].props.value}}}};function Sr(G){return l.e.bind(null,G)}function qe(G){return!!G&&G.$$typeof===ve}function Pt(G){return qe(G)?l.c.apply(null,arguments):G}function nr(G){return!!G.__k&&(Object(l.j)(null,G),!0)}function je(G){return G&&(G.base||G.nodeType===1&&G)||null}var $e=function(G,V){return G(V)},ot=function(G,V){return G(V)},Je=l.b,lt={useState:_,useReducer:X,useEffect:$,useLayoutEffect:ee,useRef:ne,useImperativeHandle:ie,useMemo:J,useCallback:le,useContext:z,useDebugValue:U,version:"17.0.2",Children:Se,render:Qe,hydrate:wt,unmountComponentAtNode:nr,createPortal:nt,createElement:l.e,createContext:l.d,createFactory:Sr,cloneElement:Pt,createRef:l.f,Fragment:l.b,isValidElement:qe,findDOMNode:je,Component:l.a,PureComponent:Pe,memo:Ee,forwardRef:Ve,flushSync:ot,unstable_batchedUpdates:$e,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};c.d=lt},function(u,c,i){var l=i(7),f=i(147),y=i(148),b=i(179),x=i(57),S=function(M){if(M&&M.forEach!==b)try{x(M,"forEach",b)}catch(A){M.forEach=b}};for(var P in f)f[P]&&S(l[P]&&l[P].prototype);S(y)},function(u,c,i){var l=i(16),f=i(97);l({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var l=i(16),f=i(18),y=i(38),b=i(96),x=i(137),S=f(function(){b(1)});l({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(M){return b(y(M))}})},function(u,c,i){var l=i(16),f=i(46),y=i(76),b=i(199),x=i(157),S=i(32),P=i(33),M=i(54),A=i(18),j=f("Reflect","construct"),C=Object.prototype,B=[].push,_=A(function(){function ee(){}return!(j(function(){},[],ee)instanceof ee)}),X=!A(function(){j(function(){})}),$=_||X;l({target:"Reflect",stat:!0,forced:$,sham:$},{construct:function(ne,ie){x(ne),S(ie);var J=arguments.length<3?ne:x(arguments[2]);if(X&&!_)return j(ne,ie,J);if(ne==J){switch(ie.length){case 0:return new ne;case 1:return new ne(ie[0]);case 2:return new ne(ie[0],ie[1]);case 3:return new ne(ie[0],ie[1],ie[2]);case 4:return new ne(ie[0],ie[1],ie[2],ie[3])}var le=[null];return y(B,le,ie),new(y(b,ne,le))}var z=J.prototype,U=M(P(z)?z:C),I=y(ne,U,ie);return P(I)?I:U}})},function(u,c){var i=Function.prototype,l=i.bind,f=i.call,y=l&&l.bind(f);u.exports=l?function(b){return b&&y(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var l=i(7),f=i(51).f,y=i(57),b=i(44),x=i(108),S=i(134),P=i(95);u.exports=function(M,A){var j=M.target,C=M.global,B=M.stat,_,X,$,ee,ne,ie;if(C?X=l:B?X=l[j]||x(j,{}):X=(l[j]||{}).prototype,X)for($ in A){if(ne=A[$],M.noTargetGet?(ie=f(X,$),ee=ie&&ie.value):ee=X[$],_=P(C?$:j+(B?".":"#")+$,M.forced),!_&&ee!==void 0){if(typeof ne==typeof ee)continue;S(ne,ee)}(M.sham||ee&&ee.sham)&&y(ne,"sham",!0),b(X,$,ne,M)}}},function(u,c,i){var l=i(16),f=i(7),y=i(99),b=i(100),x=i(33),S=i(67),P=i(43),M=i(39),A=i(61),j=i(27),C=i(75),B=i(101),_=C("slice"),X=j("species"),$=f.Array,ee=Math.max;l({target:"Array",proto:!0,forced:!_},{slice:function(ie,J){var le=M(this),z=P(le),U=S(ie,z),I=S(J===void 0?z:J,z),w,R,W;if(y(le)&&(w=le.constructor,b(w)&&(w===$||y(w.prototype))?w=void 0:x(w)&&(w=w[X],w===null&&(w=void 0)),w===$||w===void 0))return B(le,U,I);for(R=new(w===void 0?$:w)(ee(I-U,0)),W=0;U<I;U++,W++)U in le&&A(R,W,le[U]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch(l){return!0}}},function(u,c,i){var l=i(16),f=i(102);l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var l=i(16),f=i(38),y=i(66),b=i(18),x=b(function(){y(1)});l({target:"Object",stat:!0,forced:x},{keys:function(P){return y(f(P))}})},function(u,c,i){var l=i(16),f=i(18),y=i(39),b=i(51).f,x=i(36),S=f(function(){b(1)}),P=!x||S;l({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(A,j){return b(y(A),j)}})},function(u,c,i){var l=i(16),f=i(74).filter,y=i(75),b=y("filter");l({target:"Array",proto:!0,forced:!b},{filter:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(16),f=i(36),y=i(135),b=i(39),x=i(51),S=i(61);l({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(M){for(var A=b(M),j=x.f,C=y(A),B={},_=0,X,$;C.length>_;)$=j(A,X=C[_++]),$!==void 0&&S(B,X,$);return B}})},function(u,c,i){var l=i(36),f=i(94).EXISTS,y=i(15),b=i(37).f,x=Function.prototype,S=y(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=y(P.exec),A="name";l&&!f&&b(x,A,{configurable:!0,get:function(){try{return M(P,S(this))[1]}catch(j){return""}}})},function(u,c,i){var l=i(16),f=i(182),y=i(118),b=!y(function(x){Array.from(x)});l({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var l=i(7),f=i(84),y=i(34),b=i(85),x=i(109),S=i(128),P=f("wks"),M=l.Symbol,A=M&&M.for,j=S?M:M&&M.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(x||typeof P[C]=="string")){var B="Symbol."+C;x&&y(M,C)?P[C]=M[C]:S&&A?P[C]=A(B):P[C]=j(B)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var l=i(16),f=i(7),y=i(18),b=i(99),x=i(33),S=i(38),P=i(43),M=i(61),A=i(119),j=i(75),C=i(27),B=i(65),_=C("isConcatSpreadable"),X=9007199254740991,$="Maximum allowed index exceeded",ee=f.TypeError,ne=B>=51||!y(function(){var z=[];return z[_]=!1,z.concat()[0]!==z}),ie=j("concat"),J=function(z){if(!x(z))return!1;var U=z[_];return U!==void 0?!!U:b(z)},le=!ne||!ie;l({target:"Array",proto:!0,forced:le},{concat:function(U){var I=S(this),w=A(I,0),R=0,W,Q,ce,Te,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],J(me)){if(Te=P(me),R+Te>X)throw ee($);for(Q=0;Q<Te;Q++,R++)Q in me&&M(w,R,me[Q])}else{if(R>=X)throw ee($);M(w,R++,me)}return w.length=R,w}})},function(u,c,i){var l=i(16),f=i(198);l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var l=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=l.a||f||Function("return this")();c.a=y},function(u,c,i){var l=i(7),f=i(33),y=l.String,b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not an object")}},function(u,c,i){var l=i(28);u.exports=function(f){return typeof f=="object"?f!==null:l(f)}},function(u,c,i){var l=i(15),f=i(38),y=l({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return y(f(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var l=i(7),f=i(36),y=i(129),b=i(32),x=i(87),S=l.TypeError,P=Object.defineProperty;c.f=f?P:function(A,j,C){if(b(A),j=x(j),b(C),y)try{return P(A,j,C)}catch(B){}if("get"in C||"set"in C)throw S("Accessors not supported");return"value"in C&&(A[j]=C.value),A}},function(u,c,i){var l=i(7),f=i(45),y=l.Object;u.exports=function(b){return y(f(b))}},function(u,c,i){var l=i(81),f=i(45);u.exports=function(y){return l(f(y))}},function(u,c,i){var l=i(7),f=i(98),y=l.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var l=i(16),f=i(74).map,y=i(75),b=y("map");l({target:"Array",proto:!0,forced:!b},{map:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(l){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return M});var f=i(10),y=function(A,j){var C=typeof Symbol=="function"&&A[Symbol.iterator];if(!C)return A;var B=C.call(A),_,X=[],$;try{for(;(j===void 0||j-- >0)&&!(_=B.next()).done;)X.push(_.value)}catch(ee){$={error:ee}}finally{try{_&&!_.done&&(C=B.return)&&C.call(B)}finally{if($)throw $.error}}return X};function b(){var A=y(Object(f.j)(0),2),j=A[1],C=Object(f.h)(function(){j(function(B){return B+1})},[]);return C}function x(A){if(!A||typeof A!="object")return!1;var j=Object.getPrototypeOf(A);return!j||j===Object.prototype}function S(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var P={};function M(){return typeof window!="undefined"?window:typeof l!="undefined"?l:typeof self!="undefined"?self:P}}).call(this,i(82))},function(u,c,i){var l=i(90);u.exports=function(f){return l(f.length)}},function(u,c,i){var l=i(7),f=i(28),y=i(34),b=i(57),x=i(108),S=i(92),P=i(56),M=i(94).CONFIGURABLE,A=P.get,j=P.enforce,C=String(String).split("String");(u.exports=function(B,_,X,$){var ee=$?!!$.unsafe:!1,ne=$?!!$.enumerable:!1,ie=$?!!$.noTargetGet:!1,J=$&&$.name!==void 0?$.name:_,le;if(f(X)&&(String(J).slice(0,7)==="Symbol("&&(J="["+String(J).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||M&&X.name!==J)&&b(X,"name",J),le=j(X),le.source||(le.source=C.join(typeof J=="string"?J:""))),B===l){ne?B[_]=X:x(_,X);return}else ee?!ie&&B[_]&&(ne=!0):delete B[_];ne?B[_]=X:b(B,_,X)})(Function.prototype,"toString",function(){return f(this)&&A(this).source||S(this)})},function(u,c,i){var l=i(7),f=l.TypeError;u.exports=function(y){if(y==null)throw f("Can't call method on "+y);return y}},function(u,c,i){var l=i(7),f=i(28),y=function(b){return f(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?y(l[b]):l[b]&&l[b][x]}},function(u,c,i){var l=i(16),f=i(35),y=i(33),b=i(32),x=i(200),S=i(51),P=i(96);function M(A,j){var C=arguments.length<3?A:arguments[2],B,_;if(b(A)===C)return A[j];if(B=S.f(A,j),B)return x(B)?B.value:B.get===void 0?void 0:f(B.get,C);if(y(_=P(A)))return M(_,j,C)}l({target:"Reflect",stat:!0},{get:M})},function(u,c,i){(function(l){var f=i(31),y=i(165),b=v&&!v.nodeType&&v,x=b&&typeof l=="object"&&l&&!l.nodeType&&l,S=x&&x.exports===b,P=S?f.a.Buffer:void 0,M=P?P.isBuffer:void 0,A=M||y.a;c.a=A}).call(this,i(121)(u))},function(u,c,i){(function(l){var f=i(105),y=v&&!v.nodeType&&v,b=y&&typeof l=="object"&&l&&!l.nodeType&&l,x=b&&b.exports===y,S=x&&f.a.process,P=function(){try{var M=b&&b.require&&b.require("util").types;return M||S&&S.binding&&S.binding("util")}catch(A){}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var l=i(15),f=l({}.toString),y=l("".slice);u.exports=function(b){return y(f(b),8,-1)}},function(u,c,i){var l=i(36),f=i(35),y=i(93),b=i(71),x=i(39),S=i(87),P=i(34),M=i(129),A=Object.getOwnPropertyDescriptor;c.f=l?A:function(C,B){if(C=x(C),B=S(B),M)try{return A(C,B)}catch(_){}if(P(C,B))return b(!f(y.f,C,B),C[B])}},function(u,c,i){var l=i(16),f=i(213).entries;l({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var l=i(46);u.exports=l("navigator","userAgent")||""},function(u,c,i){var l=i(32),f=i(168),y=i(110),b=i(69),x=i(133),S=i(86),P=i(91),M=">",A="<",j="prototype",C="script",B=P("IE_PROTO"),_=function(){},X=function(J){return A+C+M+J+A+"/"+C+M},$=function(J){J.write(X("")),J.close();var le=J.parentWindow.Object;return J=null,le},ee=function(){var J=S("iframe"),le="java"+C+":",z;return J.style.display="none",x.appendChild(J),J.src=String(le),z=J.contentWindow.document,z.open(),z.write(X("document.F=Object")),z.close(),z.F},ne,ie=function(){try{ne=new ActiveXObject("htmlfile")}catch(le){}ie=typeof document!="undefined"?document.domain&&ne?$(ne):ee():$(ne);for(var J=y.length;J--;)delete ie[j][y[J]];return ie()};b[B]=!0,u.exports=Object.create||function(le,z){var U;return le!==null?(_[j]=l(le),U=new _,_[j]=null,U[B]=le):U=ie(),z===void 0?U:f(U,z)}},function(u,c,i){var l=i(7),f=i(28),y=i(89),b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not a function")}},function(u,c,i){var l=i(170),f=i(7),y=i(15),b=i(33),x=i(57),S=i(34),P=i(107),M=i(91),A=i(69),j="Object already initialized",C=f.TypeError,B=f.WeakMap,_,X,$,ee=function(I){return $(I)?X(I):_(I,{})},ne=function(I){return function(w){var R;if(!b(w)||(R=X(w)).type!==I)throw C("Incompatible receiver, "+I+" required");return R}};if(l||P.state){var ie=P.state||(P.state=new B),J=y(ie.get),le=y(ie.has),z=y(ie.set);_=function(I,w){if(le(ie,I))throw new C(j);return w.facade=I,z(ie,I,w),w},X=function(I){return J(ie,I)||{}},$=function(I){return le(ie,I)}}else{var U=M("state");A[U]=!0,_=function(I,w){if(S(I,U))throw new C(j);return w.facade=I,x(I,U,w),w},X=function(I){return S(I,U)?I[U]:{}},$=function(I){return S(I,U)}}u.exports={set:_,get:X,has:$,enforce:ee,getterFor:ne}},function(u,c,i){var l=i(36),f=i(37),y=i(71);u.exports=l?function(b,x,S){return f.f(b,x,y(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var l=i(15);u.exports=l({}.isPrototypeOf)},function(u,c,i){var l=i(55);u.exports=function(f,y){var b=f[y];return b==null?void 0:l(b)}},function(u,c,i){var l=i(173),f=i(177);l("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var l=i(87),f=i(37),y=i(71);u.exports=function(b,x,S){var P=l(x);P in b?f.f(b,P,y(0,S)):b[P]=S}},function(u,c,i){var l=i(15),f=i(55),y=l(l.bind);u.exports=function(b,x){return f(b),x===void 0?b:y?y(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var l=i(16),f=i(214),y=i(83);l({target:"Array",proto:!0},{fill:f}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var l=i(7),f=i(53),y=l.process,b=l.Deno,x=y&&y.versions||b&&b.version,S=x&&x.v8,P,M;S&&(P=S.split("."),M=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(M=+P[1]))),u.exports=M},function(u,c,i){var l=i(131),f=i(110);u.exports=Object.keys||function(b){return l(b,f)}},function(u,c,i){var l=i(68),f=Math.max,y=Math.min;u.exports=function(b,x){var S=l(b);return S<0?f(S+x,0):y(S,x)}},function(u,c){var i=Math.ceil,l=Math.floor;u.exports=function(f){var y=+f;return y!==y||y===0?0:(y>0?l:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,l){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:l}}},function(u,c,i){var l=i(131),f=i(110),y=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return l(x,y)}},function(u,c,i){var l=i(37).f,f=i(34),y=i(27),b=y("toStringTag");u.exports=function(x,S,P){x&&!f(x=P?x:x.prototype,b)&&l(x,b,{configurable:!0,value:S})}},function(u,c,i){var l=i(62),f=i(15),y=i(81),b=i(38),x=i(43),S=i(119),P=f([].push),M=function(A){var j=A==1,C=A==2,B=A==3,_=A==4,X=A==6,$=A==7,ee=A==5||X;return function(ne,ie,J,le){for(var z=b(ne),U=y(z),I=l(ie,J),w=x(U),R=0,W=le||S,Q=j?W(ne,w):C||$?W(ne,0):void 0,ce,Te;w>R;R++)if((ee||R in U)&&(ce=U[R],Te=I(ce,R,z),A))if(j)Q[R]=Te;else if(Te)switch(A){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Q,ce)}else switch(A){case 4:return!1;case 7:P(Q,ce)}return X?-1:B||_?_:Q}};u.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(u,c,i){var l=i(18),f=i(27),y=i(65),b=f("species");u.exports=function(x){return y>=51||!l(function(){var S=[],P=S.constructor={};return P[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,l=i.apply,f=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(l):function(){return y.apply(l,arguments)})},function(u,c,i){var l=i(16),f=i(15),y=i(81),b=i(39),x=i(120),S=f([].join),P=y!=Object,M=x("join",",");l({target:"Array",proto:!0,forced:P||!M},{join:function(j){return S(b(this),j===void 0?",":j)}})},function(u,c,i){var l=i(76),f=i(35),y=i(15),b=i(122),x=i(154),S=i(32),P=i(45),M=i(156),A=i(123),j=i(90),C=i(40),B=i(59),_=i(113),X=i(124),$=i(102),ee=i(151),ne=i(18),ie=ee.UNSUPPORTED_Y,J=4294967295,le=Math.min,z=[].push,U=y(/./.exec),I=y(z),w=y("".slice),R=!ne(function(){var W=/(?:)/,Q=W.exec;W.exec=function(){return Q.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Q,ce){var Te;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Te=function(me,Oe){var Pe=C(P(this)),Ee=Oe===void 0?J:Oe>>>0;if(Ee===0)return[];if(me===void 0)return[Pe];if(!x(me))return f(Q,Pe,me,Ee);for(var Ne=[],_e=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Be=new RegExp(me.source,_e+"g"),Se,Ie,ke;(Se=f($,Be,Pe))&&(Ie=Be.lastIndex,!(Ie>Ve&&(I(Ne,w(Pe,Ve,Se.index)),Se.length>1&&Se.index<Pe.length&&l(z,Ne,_(Se,1)),ke=Se[0].length,Ve=Ie,Ne.length>=Ee)));)Be.lastIndex===Se.index&&Be.lastIndex++;return Ve===Pe.length?(ke||!U(Be,""))&&I(Ne,""):I(Ne,w(Pe,Ve)),Ne.length>Ee?_(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Te=function(me,Oe){return me===void 0&&Oe===0?[]:f(Q,this,me,Oe)}:Te=Q,[function(Oe,Pe){var Ee=P(this),Ne=Oe==null?void 0:B(Oe,W);return Ne?f(Ne,Oe,Ee,Pe):f(Te,C(Ee),Oe,Pe)},function(me,Oe){var Pe=S(this),Ee=C(me),Ne=ce(Te,Pe,Ee,Oe,Te!==Q);if(Ne.done)return Ne.value;var _e=M(Pe,RegExp),Ve=Pe.unicode,Be=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(ie?"g":"y"),Se=new _e(ie?"^(?:"+Pe.source+")":Pe,Be),Ie=Oe===void 0?J:Oe>>>0;if(Ie===0)return[];if(Ee.length===0)return X(Se,Ee)===null?[Ee]:[];for(var ke=0,k=0,Y=[];k<Ee.length;){Se.lastIndex=ie?0:k;var q=X(Se,ie?w(Ee,k):Ee),he;if(q===null||(he=le(j(Se.lastIndex+(ie?k:0)),Ee.length))===ke)k=A(Ee,k,Ve);else{if(I(Y,w(Ee,ke,k)),Y.length===Ie)return Y;for(var xe=1;xe<=q.length-1;xe++)if(I(Y,q[xe]),Y.length===Ie)return Y;k=ke=he}}return I(Y,w(Ee,ke)),Y}]},!R,ie)},function(u,c,i){var l=i(36),f=i(7),y=i(15),b=i(95),x=i(44),S=i(34),P=i(143),M=i(58),A=i(88),j=i(130),C=i(18),B=i(72).f,_=i(51).f,X=i(37).f,$=i(196),ee=i(159).trim,ne="Number",ie=f[ne],J=ie.prototype,le=f.TypeError,z=y("".slice),U=y("".charCodeAt),I=function(Te){var me=j(Te,"number");return typeof me=="bigint"?me:w(me)},w=function(Te){var me=j(Te,"number"),Oe,Pe,Ee,Ne,_e,Ve,Be,Se;if(A(me))throw le("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ee(me),Oe=U(me,0),Oe===43||Oe===45){if(Pe=U(me,2),Pe===88||Pe===120)return NaN}else if(Oe===48){switch(U(me,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+me}for(_e=z(me,2),Ve=_e.length,Be=0;Be<Ve;Be++)if(Se=U(_e,Be),Se<48||Se>Ne)return NaN;return parseInt(_e,Ee)}}return+me};if(b(ne,!ie(" 0o1")||!ie("0b1")||ie("+0x1"))){for(var R=function(me){var Oe=arguments.length<1?0:ie(I(me)),Pe=this;return M(J,Pe)&&C(function(){$(Pe)})?P(Object(Oe),Pe,R):Oe},W=l?B(ie):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Q=0,ce;W.length>Q;Q++)S(ie,ce=W[Q])&&!S(R,ce)&&X(R,ce,_(ie,ce));R.prototype=J,J.constructor=R,x(f,ne,R)}},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var l=i(7),f=i(15),y=i(18),b=i(50),x=l.Object,S=f("".split);u.exports=y(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?S(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(l){typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var l=i(27),f=i(54),y=i(37),b=l("unscopables"),x=Array.prototype;x[b]==null&&y.f(x,b,{configurable:!0,value:f(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var l=i(64),f=i(107);(u.exports=function(y,b){return f[y]||(f[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var l=i(15),f=0,y=Math.random(),b=l(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++f+y,36)}},function(u,c,i){var l=i(7),f=i(33),y=l.document,b=f(y)&&f(y.createElement);u.exports=function(x){return b?y.createElement(x):{}}},function(u,c,i){var l=i(130),f=i(88);u.exports=function(y){var b=l(y,"string");return f(b)?b:b+""}},function(u,c,i){var l=i(7),f=i(46),y=i(28),b=i(58),x=i(128),S=l.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var M=f("Symbol");return y(M)&&b(M.prototype,S(P))}},function(u,c,i){var l=i(7),f=l.String;u.exports=function(y){try{return f(y)}catch(b){return"Object"}}},function(u,c,i){var l=i(68),f=Math.min;u.exports=function(y){return y>0?f(l(y),9007199254740991):0}},function(u,c,i){var l=i(84),f=i(85),y=l("keys");u.exports=function(b){return y[b]||(y[b]=f(b))}},function(u,c,i){var l=i(15),f=i(28),y=i(107),b=l(Function.toString);f(y.inspectSource)||(y.inspectSource=function(x){return b(x)}),u.exports=y.inspectSource},function(u,c,i){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!l.call({1:2},1);c.f=y?function(x){var S=f(this,x);return!!S&&S.enumerable}:l},function(u,c,i){var l=i(36),f=i(34),y=Function.prototype,b=l&&Object.getOwnPropertyDescriptor,x=f(y,"name"),S=x&&function(){}.name==="something",P=x&&(!l||l&&b(y,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:P}},function(u,c,i){var l=i(18),f=i(28),y=/#|\.prototype\./,b=function(A,j){var C=S[x(A)];return C==M?!0:C==P?!1:f(j)?l(j):!!j},x=b.normalize=function(A){return String(A).replace(y,".").toLowerCase()},S=b.data={},P=b.NATIVE="N",M=b.POLYFILL="P";u.exports=b},function(u,c,i){var l=i(7),f=i(34),y=i(28),b=i(38),x=i(91),S=i(137),P=x("IE_PROTO"),M=l.Object,A=M.prototype;u.exports=S?M.getPrototypeOf:function(j){var C=b(j);if(f(C,P))return C[P];var B=C.constructor;return y(B)&&C instanceof B?B.prototype:C instanceof M?A:null}},function(u,c,i){var l=i(15),f=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch(P){}return function(M,A){return f(M),y(A),b?S(M,A):M.__proto__=A,M}}():void 0)},function(u,c,i){var l=i(7),f=i(116),y=i(28),b=i(50),x=i(27),S=x("toStringTag"),P=l.Object,M=b(function(){return arguments}())=="Arguments",A=function(j,C){try{return j[C]}catch(B){}};u.exports=f?b:function(j){var C,B,_;return j===void 0?"Undefined":j===null?"Null":typeof(B=A(C=P(j),S))=="string"?B:M?b(C):(_=b(C))=="Object"&&y(C.callee)?"Arguments":_}},function(u,c,i){var l=i(50);u.exports=Array.isArray||function(y){return l(y)=="Array"}},function(u,c,i){var l=i(15),f=i(18),y=i(28),b=i(98),x=i(46),S=i(92),P=function(){},M=[],A=x("Reflect","construct"),j=/^\s*(?:class|function)\b/,C=l(j.exec),B=!j.exec(P),_=function($){if(!y($))return!1;try{return A(P,M,$),!0}catch(ee){return!1}},X=function($){if(!y($))return!1;switch(b($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!C(j,S($))};u.exports=!A||f(function(){var $;return _(_.call)||!_(Object)||!_(function(){$=!0})||$})?X:_},function(u,c,i){var l=i(15);u.exports=l([].slice)},function(u,c,i){var l=i(35),f=i(15),y=i(40),b=i(184),x=i(151),S=i(84),P=i(54),M=i(56).get,A=i(185),j=i(186),C=S("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,_=B,X=f("".charAt),$=f("".indexOf),ee=f("".replace),ne=f("".slice),ie=function(){var U=/a/,I=/b*/g;return l(B,U,"a"),l(B,I,"a"),U.lastIndex!==0||I.lastIndex!==0}(),J=x.BROKEN_CARET,le=/()??/.exec("")[1]!==void 0,z=ie||le||J||A||j;z&&(_=function(I){var w=this,R=M(w),W=y(I),Q=R.raw,ce,Te,me,Oe,Pe,Ee,Ne;if(Q)return Q.lastIndex=w.lastIndex,ce=l(_,Q,W),w.lastIndex=Q.lastIndex,ce;var _e=R.groups,Ve=J&&w.sticky,Be=l(b,w),Se=w.source,Ie=0,ke=W;if(Ve&&(Be=ee(Be,"y",""),$(Be,"g")===-1&&(Be+="g"),ke=ne(W,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&X(W,w.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",ke=" "+ke,Ie++),Te=new RegExp("^(?:"+Se+")",Be)),le&&(Te=new RegExp("^"+Se+"$(?!\\s)",Be)),ie&&(me=w.lastIndex),Oe=l(B,Ve?Te:w,ke),Ve?Oe?(Oe.input=ne(Oe.input,Ie),Oe[0]=ne(Oe[0],Ie),Oe.index=w.lastIndex,w.lastIndex+=Oe[0].length):w.lastIndex=0:ie&&Oe&&(w.lastIndex=w.global?Oe.index+Oe[0].length:me),le&&Oe&&Oe.length>1&&l(C,Oe[0],Te,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(Oe[Pe]=void 0)}),Oe&&_e)for(Oe.groups=Ee=P(null),Pe=0;Pe<_e.length;Pe++)Ne=_e[Pe],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=_},function(u,c,i){var l=i(16),f=i(7),y=i(67),b=i(68),x=i(43),S=i(38),P=i(119),M=i(61),A=i(75),j=A("splice"),C=f.TypeError,B=Math.max,_=Math.min,X=9007199254740991,$="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!j},{splice:function(ne,ie){var J=S(this),le=x(J),z=y(ne,le),U=arguments.length,I,w,R,W,Q,ce;if(U===0?I=w=0:U===1?(I=0,w=le-z):(I=U-2,w=_(B(b(ie),0),le-z)),le+I-w>X)throw C($);for(R=P(J,w),W=0;W<w;W++)Q=z+W,Q in J&&M(R,W,J[Q]);if(R.length=w,I<w){for(W=z;W<le-w;W++)Q=W+w,ce=W+I,Q in J?J[ce]=J[Q]:delete J[ce];for(W=le;W>le-w+I;W--)delete J[W-1]}else if(I>w)for(W=le-w;W>z;W--)Q=W+w-1,ce=W+I-1,Q in J?J[ce]=J[Q]:delete J[ce];for(W=0;W<I;W++)J[W+z]=arguments[W+2];return J.length=le-w+I,R}})},function(u,c,i){var l=i(16),f=i(201),y=i(202);l({target:"String",proto:!0,forced:y("anchor")},{anchor:function(x){return f(this,"a","name",x)}})},function(u,c,i){(function(l){var f=typeof l=="object"&&l&&l.Object===Object&&l;c.a=f}).call(this,i(82))},function(u,c,i){(function(l){var f=i(31),y=v&&!v.nodeType&&v,b=y&&typeof l=="object"&&l&&!l.nodeType&&l,x=b&&b.exports===y,S=x?f.a.Buffer:void 0,P=S?S.allocUnsafe:void 0;function M(A,j){if(j)return A.slice();var C=A.length,B=P?P(C):new A.constructor(C);return A.copy(B),B}c.a=M}).call(this,i(121)(u))},function(u,c,i){var l=i(7),f=i(108),y="__core-js_shared__",b=l[y]||f(y,{});u.exports=b},function(u,c,i){var l=i(7),f=Object.defineProperty;u.exports=function(y,b){try{f(l,y,{value:b,configurable:!0,writable:!0})}catch(x){l[y]=b}return b}},function(u,c,i){var l=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var l=i(16),f=i(35),y=i(64),b=i(94),x=i(28),S=i(171),P=i(96),M=i(97),A=i(73),j=i(57),C=i(44),B=i(27),_=i(70),X=i(136),$=b.PROPER,ee=b.CONFIGURABLE,ne=X.IteratorPrototype,ie=X.BUGGY_SAFARI_ITERATORS,J=B("iterator"),le="keys",z="values",U="entries",I=function(){return this};u.exports=function(w,R,W,Q,ce,Te,me){S(W,R,Q);var Oe=function(k){if(k===ce&&Ve)return Ve;if(!ie&&k in Ne)return Ne[k];switch(k){case le:return function(){return new W(this,k)};case z:return function(){return new W(this,k)};case U:return function(){return new W(this,k)}}return function(){return new W(this)}},Pe=R+" Iterator",Ee=!1,Ne=w.prototype,_e=Ne[J]||Ne["@@iterator"]||ce&&Ne[ce],Ve=!ie&&_e||Oe(ce),Be=R=="Array"&&Ne.entries||_e,Se,Ie,ke;if(Be&&(Se=P(Be.call(new w)),Se!==Object.prototype&&Se.next&&(!y&&P(Se)!==ne&&(M?M(Se,ne):x(Se[J])||C(Se,J,I)),A(Se,Pe,!0,!0),y&&(_[Pe]=I))),$&&ce==z&&_e&&_e.name!==z&&(!y&&ee?j(Ne,"name",z):(Ee=!0,Ve=function(){return f(_e,this)})),ce)if(Ie={values:Oe(z),keys:Te?Ve:Oe(le),entries:Oe(U)},me)for(ke in Ie)(ie||Ee||!(ke in Ne))&&C(Ne,ke,Ie[ke]);else l({target:R,proto:!0,forced:ie||Ee},Ie);return(!y||me)&&Ne[J]!==Ve&&C(Ne,J,Ve,{name:ce}),_[R]=Ve,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var l=i(7),f=i(67),y=i(43),b=i(61),x=l.Array,S=Math.max;u.exports=function(P,M,A){for(var j=y(P),C=f(M,j),B=f(A===void 0?j:A,j),_=x(S(B-C,0)),X=0;C<B;C++,X++)b(_,X,P[C]);return _.length=X,_}},function(u,c,i){var l=i(7),f=i(62),y=i(35),b=i(32),x=i(89),S=i(140),P=i(43),M=i(58),A=i(141),j=i(115),C=i(142),B=l.TypeError,_=function($,ee){this.stopped=$,this.result=ee},X=_.prototype;u.exports=function($,ee,ne){var ie=ne&&ne.that,J=!!(ne&&ne.AS_ENTRIES),le=!!(ne&&ne.IS_ITERATOR),z=!!(ne&&ne.INTERRUPTED),U=f(ee,ie),I,w,R,W,Q,ce,Te,me=function(Pe){return I&&C(I,"normal",Pe),new _(!0,Pe)},Oe=function(Pe){return J?(b(Pe),z?U(Pe[0],Pe[1],me):U(Pe[0],Pe[1])):z?U(Pe,me):U(Pe)};if(le)I=$;else{if(w=j($),!w)throw B(x($)+" is not iterable");if(S(w)){for(R=0,W=P($);W>R;R++)if(Q=Oe($[R]),Q&&M(X,Q))return Q;return new _(!1)}I=A($,w)}for(ce=I.next;!(Te=y(ce,I)).done;){try{Q=Oe(Te.value)}catch(Pe){C(I,"throw",Pe)}if(typeof Q=="object"&&Q&&M(X,Q))return Q}return new _(!1)}},function(u,c,i){var l=i(98),f=i(59),y=i(70),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return f(S,x)||f(S,"@@iterator")||y[l(S)]}},function(u,c,i){var l=i(27),f=l("toStringTag"),y={};y[f]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var l=i(7),f=i(58),y=l.TypeError;u.exports=function(b,x){if(f(x,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var l=i(27),f=l("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch(S){}u.exports=function(S,P){if(!P&&!y)return!1;var M=!1;try{var A={};A[f]=function(){return{next:function(){return{done:M=!0}}}},S(A)}catch(j){}return M}},function(u,c,i){var l=i(180);u.exports=function(f,y){return new(l(f))(y===0?0:y)}},function(u,c,i){var l=i(18);u.exports=function(f,y){var b=[][f];return!!b&&l(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var l=Object.create(i);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(u,c,i){i(19);var l=i(15),f=i(44),y=i(102),b=i(18),x=i(27),S=i(57),P=x("species"),M=RegExp.prototype;u.exports=function(A,j,C,B){var _=x(A),X=!b(function(){var ie={};return ie[_]=function(){return 7},""[A](ie)!=7}),$=X&&!b(function(){var ie=!1,J=/a/;return A==="split"&&(J={},J.constructor={},J.constructor[P]=function(){return J},J.flags="",J[_]=/./[_]),J.exec=function(){return ie=!0,null},J[_](""),!ie});if(!X||!$||C){var ee=l(/./[_]),ne=j(_,""[A],function(ie,J,le,z,U){var I=l(ie),w=J.exec;return w===y||w===M.exec?X&&!U?{done:!0,value:ee(J,le,z)}:{done:!0,value:I(le,J,z)}:{done:!1}});f(String.prototype,A,ne[0]),f(M,_,ne[1])}B&&S(M[_],"sham",!0)}},function(u,c,i){var l=i(146).charAt;u.exports=function(f,y,b){return y+(b?l(f,y).length:1)}},function(u,c,i){var l=i(7),f=i(35),y=i(32),b=i(28),x=i(50),S=i(102),P=l.TypeError;u.exports=function(M,A){var j=M.exec;if(b(j)){var C=f(j,M,A);return C!==null&&y(C),C}if(x(M)==="RegExp")return f(S,M,A);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var l=i(76),f=i(35),y=i(15),b=i(122),x=i(18),S=i(32),P=i(28),M=i(68),A=i(90),j=i(40),C=i(45),B=i(123),_=i(59),X=i(197),$=i(124),ee=i(27),ne=ee("replace"),ie=Math.max,J=Math.min,le=y([].concat),z=y([].push),U=y("".indexOf),I=y("".slice),w=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[ne]?/./[ne]("a","$0")==="":!1}(),Q=!x(function(){var ce=/./;return ce.exec=function(){var Te=[];return Te.groups={a:"7"},Te},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Te,me){var Oe=W?"$":"$0";return[function(Ee,Ne){var _e=C(this),Ve=Ee==null?void 0:_(Ee,ne);return Ve?f(Ve,Ee,_e,Ne):f(Te,j(_e),Ee,Ne)},function(Pe,Ee){var Ne=S(this),_e=j(Pe);if(typeof Ee=="string"&&U(Ee,Oe)===-1&&U(Ee,"$<")===-1){var Ve=me(Te,Ne,_e,Ee);if(Ve.done)return Ve.value}var Be=P(Ee);Be||(Ee=j(Ee));var Se=Ne.global;if(Se){var Ie=Ne.unicode;Ne.lastIndex=0}for(var ke=[];;){var k=$(Ne,_e);if(k===null||(z(ke,k),!Se))break;var Y=j(k[0]);Y===""&&(Ne.lastIndex=B(_e,A(Ne.lastIndex),Ie))}for(var q="",he=0,xe=0;xe<ke.length;xe++){k=ke[xe];for(var pe=j(k[0]),ze=ie(J(M(k.index),_e.length),0),tt=[],Ye=1;Ye<k.length;Ye++)z(tt,w(k[Ye]));var nt=k.groups;if(Be){var ve=le([pe],tt,ze,_e);nt!==void 0&&z(ve,nt);var ut=j(l(Ee,void 0,ve))}else ut=X(pe,_e,ze,tt,nt,Ee);ze>=he&&(q+=I(_e,he,ze)+ut,he=ze+pe.length)}return q+I(_e,he)}]},!Q||!R||W)},function(u,c,i){var l=i(50),f=i(7);u.exports=l(f.process)=="process"},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var l=i(109);u.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var l=i(36),f=i(18),y=i(86);u.exports=!l&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var l=i(7),f=i(35),y=i(33),b=i(88),x=i(59),S=i(169),P=i(27),M=l.TypeError,A=P("toPrimitive");u.exports=function(j,C){if(!y(j)||b(j))return j;var B=x(j,A),_;if(B){if(C===void 0&&(C="default"),_=f(B,j,C),!y(_)||b(_))return _;throw M("Can't convert object to primitive value")}return C===void 0&&(C="number"),S(j,C)}},function(u,c,i){var l=i(15),f=i(34),y=i(39),b=i(132).indexOf,x=i(69),S=l([].push);u.exports=function(P,M){var A=y(P),j=0,C=[],B;for(B in A)!f(x,B)&&f(A,B)&&S(C,B);for(;M.length>j;)f(A,B=M[j++])&&(~b(C,B)||S(C,B));return C}},function(u,c,i){var l=i(39),f=i(67),y=i(43),b=function(x){return function(S,P,M){var A=l(S),j=y(A),C=f(M,j),B;if(x&&P!=P){for(;j>C;)if(B=A[C++],B!=B)return!0}else for(;j>C;C++)if((x||C in A)&&A[C]===P)return x||C||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var l=i(46);u.exports=l("document","documentElement")},function(u,c,i){var l=i(34),f=i(135),y=i(51),b=i(37);u.exports=function(x,S){for(var P=f(S),M=b.f,A=y.f,j=0;j<P.length;j++){var C=P[j];l(x,C)||M(x,C,A(S,C))}}},function(u,c,i){var l=i(46),f=i(15),y=i(72),b=i(112),x=i(32),S=f([].concat);u.exports=l("Reflect","ownKeys")||function(M){var A=y.f(x(M)),j=b.f;return j?S(A,j(M)):A}},function(u,c,i){var l=i(18),f=i(28),y=i(54),b=i(96),x=i(44),S=i(27),P=i(64),M=S("iterator"),A=!1,j,C,B;[].keys&&(B=[].keys(),"next"in B?(C=b(b(B)),C!==Object.prototype&&(j=C)):A=!0);var _=j==null||l(function(){var X={};return j[M].call(X)!==X});_?j={}:P&&(j=y(j)),f(j[M])||x(j,M,function(){return this}),u.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:A}},function(u,c,i){var l=i(18);u.exports=!l(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var l=i(16),f=i(15),y=i(69),b=i(33),x=i(34),S=i(37).f,P=i(72),M=i(139),A=i(174),j=i(85),C=i(176),B=!1,_=j("meta"),X=0,$=function(z){S(z,_,{value:{objectID:"O"+X++,weakData:{}}})},ee=function(z,U){if(!b(z))return typeof z=="symbol"?z:(typeof z=="string"?"S":"P")+z;if(!x(z,_)){if(!A(z))return"F";if(!U)return"E";$(z)}return z[_].objectID},ne=function(z,U){if(!x(z,_)){if(!A(z))return!0;if(!U)return!1;$(z)}return z[_].weakData},ie=function(z){return C&&B&&A(z)&&!x(z,_)&&$(z),z},J=function(){le.enable=function(){},B=!0;var z=P.f,U=f([].splice),I={};I[_]=1,z(I).length&&(P.f=function(w){for(var R=z(w),W=0,Q=R.length;W<Q;W++)if(R[W]===_){U(R,W,1);break}return R},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},le=u.exports={enable:J,fastKey:ee,getWeakData:ne,onFreeze:ie};y[_]=!0},function(u,c,i){var l=i(50),f=i(39),y=i(72).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(P){try{return y(P)}catch(M){return b(x)}};u.exports.f=function(M){return x&&l(M)=="Window"?S(M):y(f(M))}},function(u,c,i){var l=i(27),f=i(70),y=l("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(f.Array===x||b[y]===x)}},function(u,c,i){var l=i(7),f=i(35),y=i(55),b=i(32),x=i(89),S=i(115),P=l.TypeError;u.exports=function(M,A){var j=arguments.length<2?S(M):A;if(y(j))return b(f(j,M));throw P(x(M)+" is not iterable")}},function(u,c,i){var l=i(35),f=i(32),y=i(59);u.exports=function(b,x,S){var P,M;f(b);try{if(P=y(b,"return"),!P){if(x==="throw")throw S;return S}P=l(P,b)}catch(A){M=!0,P=A}if(x==="throw")throw S;if(M)throw P;return f(P),S}},function(u,c,i){var l=i(28),f=i(33),y=i(97);u.exports=function(b,x,S){var P,M;return y&&l(P=x.constructor)&&P!==S&&f(M=P.prototype)&&M!==S.prototype&&y(b,M),b}},function(u,c,i){var l=i(44);u.exports=function(f,y,b){for(var x in y)l(f,x,y[x],b);return f}},function(u,c,i){var l=i(46),f=i(37),y=i(27),b=i(36),x=y("species");u.exports=function(S){var P=l(S),M=f.f;b&&P&&!P[x]&&M(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var l=i(15),f=i(68),y=i(40),b=i(45),x=l("".charAt),S=l("".charCodeAt),P=l("".slice),M=function(A){return function(j,C){var B=y(b(j)),_=f(C),X=B.length,$,ee;return _<0||_>=X?A?"":void 0:($=S(B,_),$<55296||$>56319||_+1===X||(ee=S(B,_+1))<56320||ee>57343?A?x(B,_):$:A?P(B,_,_+2):($-55296<<10)+(ee-56320)+65536)}};u.exports={codeAt:M(!1),charAt:M(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var l=i(86),f=l("span").classList,y=f&&f.constructor&&f.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var l=i(27);c.f=l},function(u,c,i){var l=i(181),f=i(34),y=i(149),b=i(37).f;u.exports=function(x){var S=l.Symbol||(l.Symbol={});f(S,x)||b(S,x,{value:y.f(x)})}},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp,b=l(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||l(function(){return!y("a","y").sticky}),S=b||l(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var l=i(16),f=i(132).includes,y=i(83);l({target:"Array",proto:!0},{includes:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var l=i(16),f=i(15),y=i(193),b=i(45),x=i(40),S=i(194),P=f("".indexOf);l({target:"String",proto:!0,forced:!S("includes")},{includes:function(A){return!!~P(x(b(this)),x(y(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(33),f=i(50),y=i(27),b=y("match");u.exports=function(x){var S;return l(x)&&((S=x[b])!==void 0?!!S:f(x)=="RegExp")}},function(u,c){var i=u.exports={},l,f;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=y}catch($){l=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch($){f=b}})();function x($){if(l===setTimeout)return setTimeout($,0);if((l===y||!l)&&setTimeout)return l=setTimeout,setTimeout($,0);try{return l($,0)}catch(ee){try{return l.call(null,$,0)}catch(ne){return l.call(this,$,0)}}}function S($){if(f===clearTimeout)return clearTimeout($);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout($);try{return f($)}catch(ee){try{return f.call(null,$)}catch(ne){return f.call(this,$)}}}var P=[],M=!1,A,j=-1;function C(){!M||!A||(M=!1,A.length?P=A.concat(P):j=-1,P.length&&B())}function B(){if(!M){var $=x(C);M=!0;for(var ee=P.length;ee;){for(A=P,P=[];++j<ee;)A&&A[j].run();j=-1,ee=P.length}A=null,M=!1,S($)}}i.nextTick=function($){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)ee[ne-1]=arguments[ne];P.push(new _($,ee)),P.length===1&&!M&&x(B)};function _($,ee){this.fun=$,this.array=ee}_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function($){return[]},i.binding=function($){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function($){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var l=i(32),f=i(157),y=i(27),b=y("species");u.exports=function(x,S){var P=l(x).constructor,M;return P===void 0||(M=l(P)[b])==null?S:f(M)}},function(u,c,i){var l=i(7),f=i(100),y=i(89),b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not a constructor")}},function(u,c,i){var l=i(16),f=i(159).trim,y=i(195);l({target:"String",proto:!0,forced:y("trim")},{trim:function(){return f(this)}})},function(u,c,i){var l=i(15),f=i(45),y=i(40),b=i(160),x=l("".replace),S="["+b+"]",P=RegExp("^"+S+S+"*"),M=RegExp(S+S+"*$"),A=function(j){return function(C){var B=y(f(C));return j&1&&(B=x(B,P,"")),j&2&&(B=x(B,M,"")),B}};u.exports={start:A(1),end:A(2),trim:A(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var l=i(35),f=i(122),y=i(32),b=i(90),x=i(40),S=i(45),P=i(59),M=i(123),A=i(124);f("match",function(j,C,B){return[function(X){var $=S(this),ee=X==null?void 0:P(X,j);return ee?l(ee,X,$):new RegExp(X)[j](x($))},function(_){var X=y(this),$=x(_),ee=B(C,X,$);if(ee.done)return ee.value;if(!X.global)return A(X,$);var ne=X.unicode;X.lastIndex=0;for(var ie=[],J=0,le;(le=A(X,$))!==null;){var z=x(le[0]);ie[J]=z,z===""&&(X.lastIndex=M($,b(X.lastIndex),ne)),J++}return J===0?null:ie}]})},function(u,c,i){var l=i(7),f=i(76),y=i(62),b=i(28),x=i(34),S=i(18),P=i(133),M=i(101),A=i(86),j=i(163),C=i(126),B=l.setImmediate,_=l.clearImmediate,X=l.process,$=l.Dispatch,ee=l.Function,ne=l.MessageChannel,ie=l.String,J=0,le={},z="onreadystatechange",U,I,w,R;try{U=l.location}catch(me){}var W=function(me){if(x(le,me)){var Oe=le[me];delete le[me],Oe()}},Q=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Te=function(me){l.postMessage(ie(me),U.protocol+"//"+U.host)};(!B||!_)&&(B=function(Oe){var Pe=M(arguments,1);return le[++J]=function(){f(b(Oe)?Oe:ee(Oe),void 0,Pe)},I(J),J},_=function(Oe){delete le[Oe]},C?I=function(me){X.nextTick(Q(me))}:$&&$.now?I=function(me){$.now(Q(me))}:ne&&!j?(w=new ne,R=w.port2,w.port1.onmessage=ce,I=y(R.postMessage,R)):l.addEventListener&&b(l.postMessage)&&!l.importScripts&&U&&U.protocol!=="file:"&&!S(Te)?(I=Te,l.addEventListener("message",ce,!1)):z in A("script")?I=function(me){P.appendChild(A("script"))[z]=function(){P.removeChild(this),W(me)}}:I=function(me){setTimeout(Q(me),0)}),u.exports={set:B,clear:_}},function(u,c,i){var l=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(u,c,i){var l=i(55),f=function(y){var b,x;this.promise=new y(function(S,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=P}),this.resolve=l(b),this.reject=l(x)};u.exports.f=function(y){return new f(y)}},function(u,c,i){function l(){return!1}c.a=l},function(u,c,i){(function(l){i.d(c,"a",function(){return J});var f=i(0);function y(z){throw new Error("[mobx-utils] "+z)}function b(z,U){U===void 0&&(U="Illegal state"),z||y(U)}var x=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(x(Object.getPrototypeOf(z))||[])},S=function(z){var U=x(z),I=U.filter(function(w,R){return U.indexOf(w)===R});return I},P=function(z){return S(z).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},M="pending",A="fulfilled",j="rejected";function C(z){switch(this.state){case M:return z.pending&&z.pending(this.value);case j:return z.rejected&&z.rejected(this.value);case A:return z.fulfilled?z.fulfilled(this.value):this.value}}function B(z,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var I=z;z.then(Object(f.k)("observableFromPromise-resolve",function(R){I.value=R,I.state=A}),Object(f.k)("observableFromPromise-reject",function(R){I.value=R,I.state=j})),I.isPromiseBasedObservable=!0,I.case=C;var w=U&&U.state===A?U.value:void 0;return Object(f.q)(I,{value:w,state:M},{},{deep:!1}),I}(function(z){z.reject=Object(f.k)("fromPromise.reject",function(I){var w=z(Promise.reject(I));return w.state=j,w.value=I,w});function U(I){I===void 0&&(I=void 0);var w=z(Promise.resolve(I));return w.state=A,w.value=I,w}z.resolve=Object(f.k)("fromPromise.resolve",U)})(B||(B={}));var _=function(z,U,I,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,I):w,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,U,I,w);else for(var ce=z.length-1;ce>=0;ce--)(Q=z[ce])&&(W=(R<3?Q(W):R>3?Q(U,I,W):Q(U,I))||W);return R>3&&W&&Object.defineProperty(U,I,W),W};(function(){function z(U,I){var w=this;Object(f.G)(function(){w.current=I,w.subscription=U.subscribe(w)})}return z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(U){this.current=U},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(U){this.current=U,this.dispose()},_([f.C.ref],z.prototype,"current",void 0),_([f.k.bound],z.prototype,"next",null),_([f.k.bound],z.prototype,"complete",null),_([f.k.bound],z.prototype,"error",null),z})();var X=function(){return X=Object.assign||function(z){for(var U,I=1,w=arguments.length;I<w;I++){U=arguments[I];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(z[R]=U[R])}return z},X.apply(this,arguments)},$=function(z,U,I,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,I):w,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,U,I,w);else for(var ce=z.length-1;ce>=0;ce--)(Q=z[ce])&&(W=(R<3?Q(W):R>3?Q(U,I,W):Q(U,I))||W);return R>3&&W&&Object.defineProperty(U,I,W),W},ee=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(U){var I=this;this.model=U,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(w){return I.localValues.has(w)},b(Object(f.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(w){if(!(w===f.a||w==="__mobxDidRunLazyInitializers")){if(b(ee.indexOf(w)===-1,"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(f.w)(U,w)){var R=Object(f.h)(U,w).derivation;I.localComputedValues.set(w,Object(f.m)(R.bind(I)))}var W=Object.getOwnPropertyDescriptor(U,w),Q=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,w,X(X({},Q),{configurable:!0,get:function(){return Object(f.w)(U,w)?I.localComputedValues.get(w).get():I.isPropertyDirty(w)?I.localValues.get(w):I.model[w]},set:Object(f.k)(function(ce){ce!==I.model[w]?I.localValues.set(w,ce):I.localValues.delete(w)})}))}})}return Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var U=this;Object(f.B)(this.localValues).forEach(function(I){var w=U.localValues.get(I),R=U.model[I];Object(f.y)(R)?R.replace(w):Object(f.z)(R)?(R.clear(),R.merge(w)):Object(f.v)(w)||(U.model[I]=w)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(U){this.localValues.delete(U)},$([f.m],z.prototype,"isDirty",null),$([f.m],z.prototype,"changedValues",null),$([f.k.bound],z.prototype,"submit",null),$([f.k.bound],z.prototype,"reset",null),$([f.k.bound],z.prototype,"resetProperty",null),z})();function ne(z){if(!z)return"ROOT";for(var U=[];z.parent;)U.push(z.path),z=z.parent;return U.reverse().join("/")}function ie(z){return Object(f.A)(z)||Object(f.y)(z)||Object(f.z)(z)}function J(z,U){var I=new WeakMap;function w(ce){var Te=I.get(ce.object);R(ce,Te),U(ce,ne(Te),z)}function R(ce,Te){switch(ce.type){case"add":W(ce.newValue,Te,ce.name);break;case"update":Q(ce.oldValue),W(ce.newValue,Te,ce.name||""+ce.index);break;case"remove":case"delete":Q(ce.oldValue);break;case"splice":ce.removed.map(Q),ce.added.forEach(function(Pe,Ee){return W(Pe,Te,""+(ce.index+Ee))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(ie(ce.object[me])){var Oe=I.get(ce.object[me]);Oe&&(Oe.path=""+me)}break}}function W(ce,Te,me){if(ie(ce)){var Oe=I.get(ce);if(Oe){if(Oe.parent!==Te||Oe.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ne(Te)+"/"+me+"',")+(" but it already exists at '"+ne(Oe.parent)+"/"+Oe.path+"'"))}else{var Pe={parent:Te,path:me,dispose:Object(f.D)(ce,w)};I.set(ce,Pe),Object(f.p)(ce).forEach(function(Ee){var Ne=Ee[0],_e=Ee[1];return W(_e,Pe,Ne)})}}}function Q(ce){if(ie(ce)){var Te=I.get(ce);if(!Te)return;I.delete(ce),Te.dispose(),Object(f.L)(ce).forEach(Q)}}return W(z,void 0,""),function(){Q(z)}}var le=function(){var z=function(U,I){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var W in R)R.hasOwnProperty(W)&&(w[W]=R[W])},z(U,I)};return function(U,I){z(U,I);function w(){this.constructor=U}U.prototype=I===null?Object.create(I):(w.prototype=I.prototype,new w)}}();(function(z){le(U,z);function U(I,w,R){var W=R===void 0?{}:R,Q=W.name,ce=Q===void 0?"ogm"+(Math.random()*1e3|0):Q,Te=W.keyToName,me=Te===void 0?function(Ee){return""+Ee}:Te,Oe=z.call(this)||this;Oe._keyToName=me,Oe._groupBy=w,Oe._ogmInfoKey=Symbol("ogmInfo"+ce),Oe._base=I;for(var Pe=0;Pe<I.length;Pe++)Oe._addItem(I[Pe]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,_e=Ee.removed;Ne<_e.length;Ne++){var Ve=_e[Ne];Oe._removeItem(Ve)}for(var Be=0,Se=Ee.added;Be<Se.length;Be++){var Ie=Se[Be];Oe._addItem(Ie)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(I){throw new Error("not supported")},U.prototype.set=function(I,w){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var w=this._base[I],R=w[this._ogmInfoKey];R.reaction(),delete w[this._ogmInfoKey]}},U.prototype._getGroupArr=function(I){var w=z.prototype.get.call(this,I);return w===void 0&&(w=Object(f.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),z.prototype.set.call(this,I,w)),w},U.prototype._removeFromGroupArr=function(I,w){var R=z.prototype.get.call(this,I);R.length===1?z.prototype.delete.call(this,I):(w===R.length-1||(R[w]=R[R.length-1],R[w][this._ogmInfoKey].groupArrIndex=w),R.length--)},U.prototype._addItem=function(I){var w=this,R=this._groupBy(I),W=this._getGroupArr(R),Q={groupByValue:R,groupArrIndex:W.length,reaction:Object(f.F)(function(){return w._groupBy(I)},function(ce,Te){var me=I[w._ogmInfoKey];w._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var Oe=w._getGroupArr(ce),Pe=Oe.length;Oe.push(I),me.groupByValue=ce,me.groupArrIndex=Pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Q}),W.push(I)},U.prototype._removeItem=function(I){var w=I[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete I[this._ogmInfoKey]},U})(f.b),Promise.resolve(),typeof queueMicrotask!="undefined"||typeof l!="undefined"&&l.nextTick}).call(this,i(155))},function(u,c,i){var l;(function(f,y,b){if(!f)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A,j=1;j<20;++j)x[111+j]="f"+j;for(j=0;j<=9;++j)x[j+96]=j.toString();function C(w,R,W){if(w.addEventListener){w.addEventListener(R,W,!1);return}w.attachEvent("on"+R,W)}function B(w){if(w.type=="keypress"){var R=String.fromCharCode(w.which);return w.shiftKey||(R=R.toLowerCase()),R}return x[w.which]?x[w.which]:S[w.which]?S[w.which]:String.fromCharCode(w.which).toLowerCase()}function _(w,R){return w.sort().join(",")===R.sort().join(",")}function X(w){var R=[];return w.shiftKey&&R.push("shift"),w.altKey&&R.push("alt"),w.ctrlKey&&R.push("ctrl"),w.metaKey&&R.push("meta"),R}function $(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function ee(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function ne(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function ie(){if(!A){A={};for(var w in x)w>95&&w<112||x.hasOwnProperty(w)&&(A[x[w]]=w)}return A}function J(w,R,W){return W||(W=ie()[w]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function le(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function z(w,R){var W,Q,ce,Te=[];for(W=le(w),ce=0;ce<W.length;++ce)Q=W[ce],M[Q]&&(Q=M[Q]),R&&R!="keypress"&&P[Q]&&(Q=P[Q],Te.push("shift")),ne(Q)&&Te.push(Q);return R=J(Q,Te,R),{key:Q,modifiers:Te,action:R}}function U(w,R){return w===null||w===y?!1:w===R?!0:U(w.parentNode,R)}function I(w){var R=this;if(w=w||y,!(R instanceof I))return new I(w);R.target=w,R._callbacks={},R._directMap={};var W={},Q,ce=!1,Te=!1,me=!1;function Oe(Se){Se=Se||{};var Ie=!1,ke;for(ke in W){if(Se[ke]){Ie=!0;continue}W[ke]=0}Ie||(me=!1)}function Pe(Se,Ie,ke,k,Y,q){var he,xe,pe=[],ze=ke.type;if(!R._callbacks[Se])return[];for(ze=="keyup"&&ne(Se)&&(Ie=[Se]),he=0;he<R._callbacks[Se].length;++he)if(xe=R._callbacks[Se][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&ze==xe.action&&(ze=="keypress"&&!ke.metaKey&&!ke.ctrlKey||_(Ie,xe.modifiers))){var tt=!k&&xe.combo==Y,Ye=k&&xe.seq==k&&xe.level==q;(tt||Ye)&&R._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Ie,ke,k){R.stopCallback(Ie,Ie.target||Ie.srcElement,ke,k)||Se(Ie,ke)===!1&&($(Ie),ee(Ie))}R._handleKey=function(Se,Ie,ke){var k=Pe(Se,Ie,ke),Y,q={},he=0,xe=!1;for(Y=0;Y<k.length;++Y)k[Y].seq&&(he=Math.max(he,k[Y].level));for(Y=0;Y<k.length;++Y){if(k[Y].seq){if(k[Y].level!=he)continue;xe=!0,q[k[Y].seq]=1,Ee(k[Y].callback,ke,k[Y].combo,k[Y].seq);continue}xe||Ee(k[Y].callback,ke,k[Y].combo)}var pe=ke.type=="keypress"&&Te;ke.type==me&&!ne(Se)&&!pe&&Oe(q),Te=xe&&ke.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=B(Se);if(!!Ie){if(Se.type=="keyup"&&ce===Ie){ce=!1;return}R.handleKey(Ie,X(Se),Se)}}function _e(){clearTimeout(Q),Q=setTimeout(Oe,1e3)}function Ve(Se,Ie,ke,k){W[Se]=0;function Y(ze){return function(){me=ze,++W[Se],_e()}}function q(ze){Ee(ke,ze,Se),k!=="keyup"&&(ce=B(ze)),setTimeout(Oe,10)}for(var he=0;he<Ie.length;++he){var xe=he+1===Ie.length,pe=xe?q:Y(k||z(Ie[he+1]).action);Be(Ie[he],pe,k,Se,he)}}function Be(Se,Ie,ke,k,Y){R._directMap[Se+":"+ke]=Ie,Se=Se.replace(/\s+/g," ");var q=Se.split(" "),he;if(q.length>1){Ve(Se,q,Ie,ke);return}he=z(Se,ke),R._callbacks[he.key]=R._callbacks[he.key]||[],Pe(he.key,he.modifiers,{type:he.action},k,Se,Y),R._callbacks[he.key][k?"unshift":"push"]({callback:Ie,modifiers:he.modifiers,action:he.action,seq:k,level:Y,combo:Se})}R._bindMultiple=function(Se,Ie,ke){for(var k=0;k<Se.length;++k)Be(Se[k],Ie,ke)},C(w,"keypress",Ne),C(w,"keydown",Ne),C(w,"keyup",Ne)}I.prototype.bind=function(w,R,W){var Q=this;return w=w instanceof Array?w:[w],Q._bindMultiple.call(Q,w,R,W),Q},I.prototype.unbind=function(w,R){var W=this;return W.bind.call(W,w,function(){},R)},I.prototype.trigger=function(w,R){var W=this;return W._directMap[w+":"+R]&&W._directMap[w+":"+R]({},w),W},I.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},I.prototype.stopCallback=function(w,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||U(R,W.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var Q=w.composedPath()[0];Q!==w.target&&(R=Q)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},I.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},I.addKeycodes=function(w){for(var R in w)w.hasOwnProperty(R)&&(x[R]=w[R]);A=null},I.init=function(){var w=I(y);for(var R in w)R.charAt(0)!=="_"&&(I[R]=function(W){return function(){return w[W].apply(w,arguments)}}(R))},I.init(),f.Mousetrap=I,u.exports&&(u.exports=I),l=function(){return I}.call(c,i,c,u),l!==b&&(u.exports=l)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(u,c,i){var l=i(36),f=i(37),y=i(32),b=i(39),x=i(66);u.exports=l?Object.defineProperties:function(P,M){y(P);for(var A=b(M),j=x(M),C=j.length,B=0,_;C>B;)f.f(P,_=j[B++],A[_]);return P}},function(u,c,i){var l=i(7),f=i(35),y=i(28),b=i(33),x=l.TypeError;u.exports=function(S,P){var M,A;if(P==="string"&&y(M=S.toString)&&!b(A=f(M,S))||y(M=S.valueOf)&&!b(A=f(M,S))||P!=="string"&&y(M=S.toString)&&!b(A=f(M,S)))return A;throw x("Can't convert object to primitive value")}},function(u,c,i){var l=i(7),f=i(28),y=i(92),b=l.WeakMap;u.exports=f(b)&&/native code/.test(y(b))},function(u,c,i){var l=i(136).IteratorPrototype,f=i(54),y=i(71),b=i(73),x=i(70),S=function(){return this};u.exports=function(P,M,A,j){var C=M+" Iterator";return P.prototype=f(l,{next:y(+!j,A)}),b(P,C,!1,!0),x[C]=S,P}},function(u,c,i){var l=i(7),f=i(28),y=l.String,b=l.TypeError;u.exports=function(x){if(typeof x=="object"||f(x))return x;throw b("Can't set "+y(x)+" as a prototype")}},function(u,c,i){var l=i(16),f=i(7),y=i(15),b=i(95),x=i(44),S=i(138),P=i(114),M=i(117),A=i(28),j=i(33),C=i(18),B=i(118),_=i(73),X=i(143);u.exports=function($,ee,ne){var ie=$.indexOf("Map")!==-1,J=$.indexOf("Weak")!==-1,le=ie?"set":"add",z=f[$],U=z&&z.prototype,I=z,w={},R=function(Pe){var Ee=y(U[Pe]);x(U,Pe,Pe=="add"?function(_e){return Ee(this,_e===0?0:_e),this}:Pe=="delete"?function(Ne){return J&&!j(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Pe=="get"?function(_e){return J&&!j(_e)?void 0:Ee(this,_e===0?0:_e)}:Pe=="has"?function(_e){return J&&!j(_e)?!1:Ee(this,_e===0?0:_e)}:function(_e,Ve){return Ee(this,_e===0?0:_e,Ve),this})},W=b($,!A(z)||!(J||U.forEach&&!C(function(){new z().entries().next()})));if(W)I=ne.getConstructor(ee,$,ie,le),S.enable();else if(b($,!0)){var Q=new I,ce=Q[le](J?{}:-0,1)!=Q,Te=C(function(){Q.has(1)}),me=B(function(Pe){new z(Pe)}),Oe=!J&&C(function(){for(var Pe=new z,Ee=5;Ee--;)Pe[le](Ee,Ee);return!Pe.has(-0)});me||(I=ee(function(Pe,Ee){M(Pe,U);var Ne=X(new z,Pe,I);return Ee!=null&&P(Ee,Ne[le],{that:Ne,AS_ENTRIES:ie}),Ne}),I.prototype=U,U.constructor=I),(Te||Oe)&&(R("delete"),R("has"),ie&&R("get")),(Oe||ce)&&R(le),J&&U.clear&&delete U.clear}return w[$]=I,l({global:!0,forced:I!=z},w),_(I,$),J||ne.setStrong(I,$,ie),I}},function(u,c,i){var l=i(18),f=i(33),y=i(50),b=i(175),x=Object.isExtensible,S=l(function(){});u.exports=S||b?function(M){return!f(M)||b&&y(M)=="ArrayBuffer"?!1:x?x(M):!0}:x},function(u,c,i){var l=i(18);u.exports=l(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var l=i(37).f,f=i(54),y=i(144),b=i(62),x=i(117),S=i(114),P=i(111),M=i(145),A=i(36),j=i(138).fastKey,C=i(56),B=C.set,_=C.getterFor;u.exports={getConstructor:function(X,$,ee,ne){var ie=X(function(I,w){x(I,J),B(I,{type:$,index:f(null),first:void 0,last:void 0,size:0}),A||(I.size=0),w!=null&&S(w,I[ne],{that:I,AS_ENTRIES:ee})}),J=ie.prototype,le=_($),z=function(I,w,R){var W=le(I),Q=U(I,w),ce,Te;return Q?Q.value=R:(W.last=Q={index:Te=j(w,!0),key:w,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Q),ce&&(ce.next=Q),A?W.size++:I.size++,Te!=="F"&&(W.index[Te]=Q)),I},U=function(I,w){var R=le(I),W=j(w),Q;if(W!=="F")return R.index[W];for(Q=R.first;Q;Q=Q.next)if(Q.key==w)return Q};return y(J,{clear:function(){for(var w=this,R=le(w),W=R.index,Q=R.first;Q;)Q.removed=!0,Q.previous&&(Q.previous=Q.previous.next=void 0),delete W[Q.index],Q=Q.next;R.first=R.last=void 0,A?R.size=0:w.size=0},delete:function(I){var w=this,R=le(w),W=U(w,I);if(W){var Q=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Q),Q&&(Q.previous=ce),R.first==W&&(R.first=Q),R.last==W&&(R.last=ce),A?R.size--:w.size--}return!!W},forEach:function(w){for(var R=le(this),W=b(w,arguments.length>1?arguments[1]:void 0),Q;Q=Q?Q.next:R.first;)for(W(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(w){return!!U(this,w)}}),y(J,ee?{get:function(w){var R=U(this,w);return R&&R.value},set:function(w,R){return z(this,w===0?0:w,R)}}:{add:function(w){return z(this,w=w===0?0:w,w)}}),A&&l(J,"size",{get:function(){return le(this).size}}),ie},setStrong:function(X,$,ee){var ne=$+" Iterator",ie=_($),J=_(ne);P(X,$,function(le,z){B(this,{type:ne,target:le,state:ie(le),kind:z,last:void 0})},function(){for(var le=J(this),z=le.kind,U=le.last;U&&U.removed;)U=U.previous;return!le.target||!(le.last=U=U?U.next:le.state.first)?(le.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:U.key,done:!1}:z=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},ee?"entries":"values",!ee,!0),M($)}}},function(u,c,i){var l=i(116),f=i(98);u.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var l=i(74).forEach,f=i(120),y=f("forEach");u.exports=y?[].forEach:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var l=i(7),f=i(99),y=i(100),b=i(33),x=i(27),S=x("species"),P=l.Array;u.exports=function(M){var A;return f(M)&&(A=M.constructor,y(A)&&(A===P||f(A.prototype))?A=void 0:b(A)&&(A=A[S],A===null&&(A=void 0))),A===void 0?P:A}},function(u,c,i){var l=i(7);u.exports=l},function(u,c,i){var l=i(7),f=i(62),y=i(35),b=i(38),x=i(183),S=i(140),P=i(100),M=i(43),A=i(61),j=i(141),C=i(115),B=l.Array;u.exports=function(X){var $=b(X),ee=P(this),ne=arguments.length,ie=ne>1?arguments[1]:void 0,J=ie!==void 0;J&&(ie=f(ie,ne>2?arguments[2]:void 0));var le=C($),z=0,U,I,w,R,W,Q;if(le&&!(this==B&&S(le)))for(R=j($,le),W=R.next,I=ee?new this:[];!(w=y(W,R)).done;z++)Q=J?x(R,ie,[w.value,z],!0):w.value,A(I,z,Q);else for(U=M($),I=ee?new this(U):B(U);U>z;z++)Q=J?ie($[z],z):$[z],A(I,z,Q);return I.length=z,I}},function(u,c,i){var l=i(32),f=i(142);u.exports=function(y,b,x,S){try{return S?b(l(x)[0],x[1]):b(x)}catch(P){f(y,"throw",P)}}},function(u,c,i){var l=i(32);u.exports=function(){var f=l(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp;u.exports=l(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp;u.exports=l(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var l=i(16),f=i(15),y=i(55),b=i(38),x=i(43),S=i(40),P=i(18),M=i(188),A=i(120),j=i(189),C=i(190),B=i(65),_=i(191),X=[],$=f(X.sort),ee=f(X.push),ne=P(function(){X.sort(void 0)}),ie=P(function(){X.sort(null)}),J=A("sort"),le=!P(function(){if(B)return B<70;if(!(j&&j>3)){if(C)return!0;if(_)return _<603;var I="",w,R,W,Q;for(w=65;w<76;w++){switch(R=String.fromCharCode(w),w){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Q=0;Q<47;Q++)X.push({k:R+Q,v:W})}for(X.sort(function(ce,Te){return Te.v-ce.v}),Q=0;Q<X.length;Q++)R=X[Q].k.charAt(0),I.charAt(I.length-1)!==R&&(I+=R);return I!=="DGBEFHACIJK"}}),z=ne||!ie||!J||!le,U=function(I){return function(w,R){return R===void 0?-1:w===void 0?1:I!==void 0?+I(w,R)||0:S(w)>S(R)?1:-1}};l({target:"Array",proto:!0,forced:z},{sort:function(w){w!==void 0&&y(w);var R=b(this);if(le)return w===void 0?$(R):$(R,w);var W=[],Q=x(R),ce,Te;for(Te=0;Te<Q;Te++)Te in R&&ee(W,R[Te]);for(M(W,U(w)),ce=W.length,Te=0;Te<ce;)R[Te]=W[Te++];for(;Te<Q;)delete R[Te++];return R}})},function(u,c,i){var l=i(113),f=Math.floor,y=function(S,P){var M=S.length,A=f(M/2);return M<8?b(S,P):x(S,y(l(S,0,A),P),y(l(S,A),P),P)},b=function(S,P){for(var M=S.length,A=1,j,C;A<M;){for(C=A,j=S[A];C&&P(S[C-1],j)>0;)S[C]=S[--C];C!==A++&&(S[C]=j)}return S},x=function(S,P,M,A){for(var j=P.length,C=M.length,B=0,_=0;B<j||_<C;)S[B+_]=B<j&&_<C?A(P[B],M[_])<=0?P[B++]:M[_++]:B<j?P[B++]:M[_++];return S};u.exports=y},function(u,c,i){var l=i(53),f=l.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(53);u.exports=/MSIE|Trident/.test(l)},function(u,c,i){var l=i(53),f=l.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(16),f=i(74).find,y=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),l({target:"Array",proto:!0,forced:x},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var l=i(7),f=i(154),y=l.TypeError;u.exports=function(b){if(f(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var l=i(27),f=l("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch(x){try{return b[f]=!1,"/./"[y](b)}catch(S){}}return!1}},function(u,c,i){var l=i(94).PROPER,f=i(18),y=i(160),b="\u200B\x85\u180E";u.exports=function(x){return f(function(){return!!y[x]()||b[x]()!==b||l&&y[x].name!==x})}},function(u,c,i){var l=i(15);u.exports=l(1 .valueOf)},function(u,c,i){var l=i(15),f=i(38),y=Math.floor,b=l("".charAt),x=l("".replace),S=l("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;u.exports=function(A,j,C,B,_,X){var $=C+A.length,ee=B.length,ne=M;return _!==void 0&&(_=f(_),ne=P),x(X,ne,function(ie,J){var le;switch(b(J,0)){case"$":return"$";case"&":return A;case"`":return S(j,0,C);case"'":return S(j,$);case"<":le=_[S(J,1,-1)];break;default:var z=+J;if(z===0)return ie;if(z>ee){var U=y(z/10);return U===0?ie:U<=ee?B[U-1]===void 0?b(J,1):B[U-1]+b(J,1):ie}le=B[z-1]}return le===void 0?"":le})}},function(u,c,i){var l=i(36),f=i(15),y=i(35),b=i(18),x=i(66),S=i(112),P=i(93),M=i(38),A=i(81),j=Object.assign,C=Object.defineProperty,B=f([].concat);u.exports=!j||b(function(){if(l&&j({b:1},j(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var _={},X={},$=Symbol(),ee="abcdefghijklmnopqrst";return _[$]=7,ee.split("").forEach(function(ne){X[ne]=ne}),j({},_)[$]!=7||x(j({},X)).join("")!=ee})?function(X,$){for(var ee=M(X),ne=arguments.length,ie=1,J=S.f,le=P.f;ne>ie;)for(var z=A(arguments[ie++]),U=J?B(x(z),J(z)):x(z),I=U.length,w=0,R;I>w;)R=U[w++],(!l||y(le,z,R))&&(ee[R]=z[R]);return ee}:j},function(u,c,i){var l=i(7),f=i(15),y=i(55),b=i(33),x=i(34),S=i(101),P=l.Function,M=f([].concat),A=f([].join),j={},C=function(B,_,X){if(!x(j,_)){for(var $=[],ee=0;ee<_;ee++)$[ee]="a["+ee+"]";j[_]=P("C,a","return new C("+A($,",")+")")}return j[_](B,X)};u.exports=P.bind||function(_){var X=y(this),$=X.prototype,ee=S(arguments,1),ne=function(){var J=M(ee,S(arguments));return this instanceof ne?C(X,J.length,J):X.apply(_,J)};return b($)&&(ne.prototype=$),ne}},function(u,c,i){var l=i(34);u.exports=function(f){return f!==void 0&&(l(f,"value")||l(f,"writable"))}},function(u,c,i){var l=i(15),f=i(45),y=i(40),b=/"/g,x=l("".replace);u.exports=function(S,P,M,A){var j=y(f(S)),C="<"+P;return M!==""&&(C+=" "+M+'="'+x(y(A),b,"&quot;")+'"'),C+">"+j+"</"+P+">"}},function(u,c,i){var l=i(18);u.exports=function(f){return l(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var l=i(16),f=Math.hypot,y=Math.abs,b=Math.sqrt,x=!!f&&f(1/0,NaN)!==1/0;l({target:"Math",stat:!0,forced:x},{hypot:function(P,M){for(var A=0,j=0,C=arguments.length,B=0,_,X;j<C;)_=y(arguments[j++]),B<_?(X=B/_,A=A*X*X+1,B=_):_>0?(X=_/B,A+=X*X):A+=_;return B===1/0?1/0:B*b(A)}})},function(u,c,i){var l=i(16),f=i(64),y=i(7),b=i(46),x=i(35),S=i(205),P=i(44),M=i(144),A=i(97),j=i(73),C=i(145),B=i(55),_=i(28),X=i(33),$=i(117),ee=i(92),ne=i(114),ie=i(118),J=i(156),le=i(162).set,z=i(206),U=i(209),I=i(210),w=i(164),R=i(211),W=i(56),Q=i(95),ce=i(27),Te=i(212),me=i(126),Oe=i(65),Pe=ce("species"),Ee="Promise",Ne=W.getterFor(Ee),_e=W.set,Ve=W.getterFor(Ee),Be=S&&S.prototype,Se=S,Ie=Be,ke=y.TypeError,k=y.document,Y=y.process,q=w.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=_(y.PromiseRejectionEvent),ze="unhandledrejection",tt="rejectionhandled",Ye=0,nt=1,ve=2,ut=1,rt=2,Le=!1,Qe,wt,dt,bt,oe=Q(Ee,function(){var je=ee(Se),$e=je!==String(Se);if(!$e&&Oe===66||f&&!Ie.finally)return!0;if(Oe>=51&&/native code/.test(je))return!1;var ot=new Se(function(G){G(1)}),Je=function(G){G(function(){},function(){})},lt=ot.constructor={};return lt[Pe]=Je,Le=ot.then(function(){})instanceof Je,Le?!$e&&Te&&!pe:!0}),Ct=oe||!ie(function(je){Se.all(je).catch(function(){})}),St=function(je){var $e;return X(je)&&_($e=je.then)?$e:!1},mt=function(je,$e){if(!je.notified){je.notified=!0;var ot=je.reactions;z(function(){for(var Je=je.value,lt=je.state==nt,G=0;ot.length>G;){var V=ot[G++],te=lt?V.ok:V.fail,re=V.resolve,Me=V.reject,De=V.domain,Xe,vt,Jt;try{te?(lt||(je.rejection===rt&&Sr(je),je.rejection=ut),te===!0?Xe=Je:(De&&De.enter(),Xe=te(Je),De&&(De.exit(),Jt=!0)),Xe===V.promise?Me(ke("Promise-chain cycle")):(vt=St(Xe))?x(vt,Xe,re,Me):re(Xe)):Me(Je)}catch(Qt){De&&!Jt&&De.exit(),Me(Qt)}}je.reactions=[],je.notified=!1,$e&&!je.rejection&&hr(je)})}},Yt=function(je,$e,ot){var Je,lt;xe?(Je=k.createEvent("Event"),Je.promise=$e,Je.reason=ot,Je.initEvent(je,!1,!0),y.dispatchEvent(Je)):Je={promise:$e,reason:ot},!pe&&(lt=y["on"+je])?lt(Je):je===ze&&I("Unhandled promise rejection",ot)},hr=function(je){x(le,y,function(){var $e=je.facade,ot=je.value,Je=Zt(je),lt;if(Je&&(lt=R(function(){me?Y.emit("unhandledRejection",ot,$e):Yt(ze,$e,ot)}),je.rejection=me||Zt(je)?rt:ut,lt.error))throw lt.value})},Zt=function(je){return je.rejection!==ut&&!je.parent},Sr=function(je){x(le,y,function(){var $e=je.facade;me?Y.emit("rejectionHandled",$e):Yt(tt,$e,je.value)})},qe=function(je,$e,ot){return function(Je){je($e,Je,ot)}},Pt=function(je,$e,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=$e,je.state=ve,mt(je,!0))},nr=function(je,$e,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===$e)throw ke("Promise can't be resolved itself");var Je=St($e);Je?z(function(){var lt={done:!1};try{x(Je,$e,qe(nr,lt,je),qe(Pt,lt,je))}catch(G){Pt(lt,G,je)}}):(je.value=$e,je.state=nt,mt(je,!1))}catch(lt){Pt({done:!1},lt,je)}}};if(oe&&(Se=function($e){$(this,Ie),B($e),x(Qe,this);var ot=Ne(this);try{$e(qe(nr,ot),qe(Pt,ot))}catch(Je){Pt(ot,Je)}},Ie=Se.prototype,Qe=function($e){_e(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ye,value:void 0})},Qe.prototype=M(Ie,{then:function($e,ot){var Je=Ve(this),lt=Je.reactions,G=q(J(this,Se));return G.ok=_($e)?$e:!0,G.fail=_(ot)&&ot,G.domain=me?Y.domain:void 0,Je.parent=!0,lt[lt.length]=G,Je.state!=Ye&&mt(Je,!1),G.promise},catch:function(je){return this.then(void 0,je)}}),wt=function(){var je=new Qe,$e=Ne(je);this.promise=je,this.resolve=qe(nr,$e),this.reject=qe(Pt,$e)},w.f=q=function(je){return je===Se||je===dt?new wt(je):he(je)},!f&&_(S)&&Be!==Object.prototype)){bt=Be.then,Le||(P(Be,"then",function($e,ot){var Je=this;return new Se(function(lt,G){x(bt,Je,lt,G)}).then($e,ot)},{unsafe:!0}),P(Be,"catch",Ie.catch,{unsafe:!0}));try{delete Be.constructor}catch(je){}A&&A(Be,Ie)}l({global:!0,wrap:!0,forced:oe},{Promise:Se}),j(Se,Ee,!1,!0),C(Ee),dt=b(Ee),l({target:Ee,stat:!0,forced:oe},{reject:function($e){var ot=q(this);return x(ot.reject,void 0,$e),ot.promise}}),l({target:Ee,stat:!0,forced:f||oe},{resolve:function($e){return U(f&&this===dt?Se:this,$e)}}),l({target:Ee,stat:!0,forced:Ct},{all:function($e){var ot=this,Je=q(ot),lt=Je.resolve,G=Je.reject,V=R(function(){var te=B(ot.resolve),re=[],Me=0,De=1;ne($e,function(Xe){var vt=Me++,Jt=!1;De++,x(te,ot,Xe).then(function(Qt){Jt||(Jt=!0,re[vt]=Qt,--De||lt(re))},G)}),--De||lt(re)});return V.error&&G(V.value),Je.promise},race:function($e){var ot=this,Je=q(ot),lt=Je.reject,G=R(function(){var V=B(ot.resolve);ne($e,function(te){x(V,ot,te).then(Je.resolve,lt)})});return G.error&&lt(G.value),Je.promise}})},function(u,c,i){var l=i(7);u.exports=l.Promise},function(u,c,i){var l=i(7),f=i(62),y=i(51).f,b=i(162).set,x=i(163),S=i(207),P=i(208),M=i(126),A=l.MutationObserver||l.WebKitMutationObserver,j=l.document,C=l.process,B=l.Promise,_=y(l,"queueMicrotask"),X=_&&_.value,$,ee,ne,ie,J,le,z,U;X||($=function(){var I,w;for(M&&(I=C.domain)&&I.exit();ee;){w=ee.fn,ee=ee.next;try{w()}catch(R){throw ee?ie():ne=void 0,R}}ne=void 0,I&&I.enter()},!x&&!M&&!P&&A&&j?(J=!0,le=j.createTextNode(""),new A($).observe(le,{characterData:!0}),ie=function(){le.data=J=!J}):!S&&B&&B.resolve?(z=B.resolve(void 0),z.constructor=B,U=f(z.then,z),ie=function(){U($)}):M?ie=function(){C.nextTick($)}:(b=f(b,l),ie=function(){b($)})),u.exports=X||function(I){var w={fn:I,next:void 0};ne&&(ne.next=w),ee||(ee=w,ie()),ne=w}},function(u,c,i){var l=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(l)&&f.Pebble!==void 0},function(u,c,i){var l=i(53);u.exports=/web0s(?!.*chrome)/i.test(l)},function(u,c,i){var l=i(32),f=i(33),y=i(164);u.exports=function(b,x){if(l(b),f(x)&&x.constructor===b)return x;var S=y.f(b),P=S.resolve;return P(x),S.promise}},function(u,c,i){var l=i(7);u.exports=function(f,y){var b=l.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(l){return{error:!0,value:l}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var l=i(36),f=i(15),y=i(66),b=i(39),x=i(93).f,S=f(x),P=f([].push),M=function(A){return function(j){for(var C=b(j),B=y(C),_=B.length,X=0,$=[],ee;_>X;)ee=B[X++],(!l||S(C,ee))&&P($,A?[ee,C[ee]]:C[ee]);return $}};u.exports={entries:M(!0),values:M(!1)}},function(u,c,i){var l=i(38),f=i(67),y=i(43);u.exports=function(x){for(var S=l(this),P=y(S),M=arguments.length,A=f(M>1?arguments[1]:void 0,P),j=M>2?arguments[2]:void 0,C=j===void 0?P:f(j,P);C>A;)S[A++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Ur}),i.d(c,"LogicFlow",function(){return ed}),i.d(c,"h",function(){return oe.g}),i.d(c,"LogicFlowUtil",function(){return l}),i.d(c,"BaseNode",function(){return hn}),i.d(c,"RectNode",function(){return vc}),i.d(c,"CircleNode",function(){return mc}),i.d(c,"PolygonNode",function(){return Ec}),i.d(c,"DiamondNode",function(){return Pc}),i.d(c,"EllipseNode",function(){return Mc}),i.d(c,"TextNode",function(){return Nc}),i.d(c,"HtmlNode",function(){return Cc}),i.d(c,"BaseEdge",function(){return Si}),i.d(c,"LineEdge",function(){return Hc}),i.d(c,"PolylineEdge",function(){return kc}),i.d(c,"BezierEdge",function(){return $c}),i.d(c,"Arrow",function(){return vj}),i.d(c,"BaseEdgeModel",function(){return vf}),i.d(c,"BezierEdgeModel",function(){return kf}),i.d(c,"LineEdgeModel",function(){return mf}),i.d(c,"PolylineEdgeModel",function(){return Ef}),i.d(c,"BaseNodeModel",function(){return dn}),i.d(c,"CircleNodeModel",function(){return Yf}),i.d(c,"DiamondNodeModel",function(){return Vf}),i.d(c,"EllipseNodeModel",function(){return Jf}),i.d(c,"PolygonNodeModel",function(){return ec}),i.d(c,"RectNodeModel",function(){return nc}),i.d(c,"TextNodeModel",function(){return ic}),i.d(c,"HtmlNodeModel",function(){return uc}),i.d(c,"EditConfigModel",function(){return lp}),i.d(c,"GraphModel",function(){return iv}),i.d(c,"SnaplineModel",function(){return ag}),i.d(c,"Keyboard",function(){return vm}),i.d(c,"get",function(){return Gv}),i.d(c,"defaults",function(){return Hv});var l={};i.r(l),i.d(l,"createUuid",function(){return to}),i.d(l,"refreshGraphId",function(){return xP}),i.d(l,"createDrag",function(){return Tf}),i.d(l,"StepDrag",function(){return ro});var f=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function P(e){e||(e=S),Object(f.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function M(e){return Object(f.t)(e)}function A(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,C=1e4,B=new Set,_;function X(){_===void 0&&(_=setTimeout(ne,C))}function $(e){B.add(e),X()}function ee(e){B.delete(e)}function ne(){_=void 0;var e=Date.now();B.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,B.delete(r))}),B.size>0&&X()}var ie=!1,J=[];function le(e){return function(){ie?J.push(e):e()}}function z(e){ie=!0,J=[];try{var r=e();ie=!1;var t=J.length>0?J:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ie=!1}}var U={};function I(e){return"observer"+e}function w(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,o=n(),a=le(o),s=y.d.useRef(null);if(!s.current){var p=new f.c(I(r),function(){g.mounted?a():(p.dispose(),s.current=null)}),g=A(p);s.current=g,$(s)}var E=s.current.reaction;return y.d.useDebugValue(E,M),y.d.useEffect(function(){return ee(s),s.current?s.current.mounted=!0:(s.current={reaction:new f.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}},[]),z(function(){var T,D;if(E.track(function(){try{T=e()}catch(L){D=L}}),D)throw D;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,p){return w(function(){return e(s,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Q={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Te(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:w(n)}Te.propTypes={children:me,render:me},Te.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",s=typeof e[r]=="function",p=typeof e[a]=="function";return s&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var Oe=0;function Pe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Pe(e)),Ee[e]}function _e(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Ie=Ne("patchedDefinition");function ke(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var s;return e!=null&&(s=e.apply(this,o)),s}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function Y(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=ke(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],s=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,s)}}function he(e,r,t,n,o){var a,s=Y(o,n);return a={},a[Ie]=!0,a.get=function(){return s},a.set=function(g){if(this===e)s=Y(g,n);else{var E=he(this,r,t,n,g);Object.defineProperty(this,r,E)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),ze=Ne("isUnmounted"),tt=Ne("skipRender"),Ye=Ne("isForcingUpdate");function nt(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Le(r,"props"),Le(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[ze]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;Be(this,tt,!1),Be(this,Ye,!1);var t=ve(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[ze]!==!0)){var p=!0;try{Be(r,Ye,!0),r[tt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Be(r,Ye,!1),p&&a.dispose()}}});a.reactComponent=this,s[xe]=a,this.render=s;function s(){o=!1;var p=void 0,g=void 0;if(a.track(function(){try{g=Object(f.d)(!1,n)}catch(E){p=E}}),p)throw p;return g}return s.call(this)}function rt(e,r){return this.state!==r?!0:!_e(this.props,e)}function Le(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||Be(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return f.f&&f.e&&(s=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(s),this[t]},set:function(s){!this[Ye]&&!_e(this[t],s)?(Be(this,t,s),Be(this,tt,!0),o.call(this).reportChanged(),Be(this,tt,!1)):Be(this,t,s)}})}var Qe=typeof Symbol=="function"&&Symbol.for,wt=Qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,dt=Qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),dt&&e.$$typeof===dt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&e.$$typeof===wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Te,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):nt(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var oe=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=Ct;function mt(){this.__data__=[],this.size=0}var Yt=mt;function hr(e,r){return e===r||e!==e&&r!==r}var Zt=hr;function Sr(e,r){for(var t=e.length;t--;)if(Zt(e[t][0],r))return t;return-1}var qe=Sr,Pt=Array.prototype,nr=Pt.splice;function je(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var $e=je;function ot(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=ot;function lt(e){return qe(this.__data__,e)>-1}var G=lt;function V(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=V;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Yt,re.prototype.delete=$e,re.prototype.get=Je,re.prototype.has=G,re.prototype.set=te;var Me=re;function De(){this.__data__=new Me,this.size=0}var Xe=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Jt=vt;function Qt(e){return this.__data__.get(e)}var kn=Qt;function kr(e){return this.__data__.has(e)}var Li=kr,Pr=i(31),_i=Pr.a.Symbol,fr=_i,yn=Object.prototype,Xn=yn.hasOwnProperty,un=yn.toString,$n=fr?fr.toStringTag:void 0;function gn(e){var r=Xn.call(e,$n),t=e[$n];try{e[$n]=void 0;var n=!0}catch(a){}var o=un.call(e);return n&&(r?e[$n]=t:delete e[$n]),o}var mn=gn,fo=Object.prototype,tl=fo.toString;function co(e){return tl.call(e)}var po=co,zi="[object Null]",He="[object Undefined]",Fi=fr?fr.toStringTag:void 0;function rl(e){return e==null?e===void 0?He:zi:Fi&&Fi in Object(e)?mn(e):po(e)}var Xr=rl;function Gi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var At=Gi,vr="[object AsyncFunction]",Hi="[object Function]",nl="[object GeneratorFunction]",ol="[object Proxy]";function il(e){if(!At(e))return!1;var r=Xr(e);return r==Hi||r==nl||r==vr||r==ol}var ho=il,Ui=Pr.a["__core-js_shared__"],sn=Ui,Qo=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qo(e){return!!Qo&&Qo in e}var ki=qo,al=Function.prototype,vo=al.toString;function ul(e){if(e!=null){try{return vo.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var Rt=ul,vd=/[\\^$.*+?()[\]{}|]/g,yd=/^\[object .+?Constructor\]$/,gd=Function.prototype,Xi=Object.prototype,sl=gd.toString,$i=Xi.hasOwnProperty,ll=RegExp("^"+sl.call($i).replace(vd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fl(e){if(!At(e)||ki(e))return!1;var r=ho(e)?ll:yd;return r.test(Rt(e))}var $r=fl;function cl(e,r){return e==null?void 0:e[r]}var dl=cl;function ei(e,r){var t=dl(e,r);return $r(t)?t:void 0}var jr=ei,pl=jr(Pr.a,"Map"),bn=pl,hl=jr(Object,"create"),Yn=hl;function vl(){this.__data__=Yn?Yn(null):{},this.size=0}var ti=vl;function Yi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var yl=Yi,ri="__lodash_hash_undefined__",Wi=Object.prototype,Ki=Wi.hasOwnProperty;function Vi(e){var r=this.__data__;if(Yn){var t=r[e];return t===ri?void 0:t}return Ki.call(r,e)?r[e]:void 0}var Zi=Vi,gl=Object.prototype,Ji=gl.hasOwnProperty;function ml(e){var r=this.__data__;return Yn?r[e]!==void 0:Ji.call(r,e)}var Qi=ml,qi="__lodash_hash_undefined__";function bl(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Yn&&r===void 0?qi:r,this}var Ol=bl;function On(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}On.prototype.clear=ti,On.prototype.delete=yl,On.prototype.get=Zi,On.prototype.has=Qi,On.prototype.set=Ol;var En=On;function xn(){this.size=0,this.__data__={hash:new En,map:new(bn||Me),string:new En}}var El=xn;function xl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ea=xl;function Sl(e,r){var t=e.__data__;return ea(r)?t[typeof r=="string"?"string":"hash"]:t.map}var yo=Sl;function Pl(e){var r=yo(this,e).delete(e);return this.size-=r?1:0,r}var Al=Pl;function Sn(e){return yo(this,e).get(e)}var Yr=Sn;function Tl(e){return yo(this,e).has(e)}var Ml=Tl;function wl(e,r){var t=yo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Ar=wl;function Pn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Pn.prototype.clear=El,Pn.prototype.delete=Al,Pn.prototype.get=Yr,Pn.prototype.has=Ml,Pn.prototype.set=Ar;var Wn=Pn,Nl=200;function go(e,r){var t=this.__data__;if(t instanceof Me){var n=t.__data__;if(!bn||n.length<Nl-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Wn(n)}return t.set(e,r),this.size=t.size,this}var mo=go;function An(e){var r=this.__data__=new Me(e);this.size=r.size}An.prototype.clear=Xe,An.prototype.delete=Jt,An.prototype.get=kn,An.prototype.has=Li,An.prototype.set=mo;var Tn=An,Tr="__lodash_hash_undefined__";function Kn(e){return this.__data__.set(e,Tr),this}var Mr=Kn;function yr(e){return this.__data__.has(e)}var Vn=yr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Wn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Mr,qt.prototype.has=Vn;var Dl=qt;function jl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Cl=jl;function ta(e,r){return e.has(r)}var Cr=ta,Rl=1,Rr=2;function ra(e,r,t,n,o,a){var s=t&Rl,p=e.length,g=r.length;if(p!=g&&!(s&&g>p))return!1;var E=a.get(e),T=a.get(r);if(E&&T)return E==r&&T==e;var D=-1,L=!0,H=t&Rr?new Dl:void 0;for(a.set(e,r),a.set(r,e);++D<p;){var Z=e[D],ae=r[D];if(n)var ue=s?n(ae,Z,D,r,e,a):n(Z,ae,D,e,r,a);if(ue!==void 0){if(ue)continue;L=!1;break}if(H){if(!Cl(r,function(se,we){if(!Cr(H,we)&&(Z===se||o(Z,se,t,n,a)))return H.push(we)})){L=!1;break}}else if(!(Z===ae||o(Z,ae,t,n,a))){L=!1;break}}return a.delete(e),a.delete(r),L}var na=ra,ni=Pr.a.Uint8Array,kt=ni;function oa(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Il=oa;function ia(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var cr=ia,aa=1,oi=2,ua="[object Boolean]",sa="[object Date]",Bl="[object Error]",la="[object Map]",Ll="[object Number]",_l="[object RegExp]",gr="[object Set]",wr="[object String]",Zn="[object Symbol]",zl="[object ArrayBuffer]",fa="[object DataView]",bo=fr?fr.prototype:void 0,Jn=bo?bo.valueOf:void 0;function ca(e,r,t,n,o,a,s){switch(t){case fa:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case zl:return!(e.byteLength!=r.byteLength||!a(new kt(e),new kt(r)));case ua:case sa:case Ll:return Zt(+e,+r);case Bl:return e.name==r.name&&e.message==r.message;case _l:case wr:return e==r+"";case la:var p=Il;case gr:var g=n&aa;if(p||(p=cr),e.size!=r.size&&!g)return!1;var E=s.get(e);if(E)return E==r;n|=oi,s.set(e,r);var T=na(p(e),p(r),n,o,a,s);return s.delete(e),T;case Zn:if(Jn)return Jn.call(e)==Jn.call(r)}return!1}var Fl=ca;function Oo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ii=Oo,da=Array.isArray,d=da;function h(e,r,t){var n=r(e);return d(e)?n:ii(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var s=e[t];r(s,t,e)&&(a[o++]=s)}return a}var F=N;function K(){return[]}var fe=K,Ae=Object.prototype,Ue=Ae.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),F(ft(e),function(r){return Ue.call(e,r)}))}:fe,Ot=ct;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=xt;function Xt(e){return e!=null&&typeof e=="object"}var Tt=Xt,mr="[object Arguments]";function Mn(e){return Tt(e)&&Xr(e)==mr}var pa=Mn,ha=Object.prototype,va=ha.hasOwnProperty,ya=ha.propertyIsEnumerable,ai=pa(function(){return arguments}())?pa:function(e){return Tt(e)&&va.call(e,"callee")&&!ya.call(e,"callee")},wn=ai,ln=i(48),Nb=9007199254740991,Db=/^(?:0|[1-9]\d*)$/;function jb(e,r){var t=typeof e;return r=r==null?Nb:r,!!r&&(t=="number"||t!="symbol"&&Db.test(e))&&e>-1&&e%1==0&&e<r}var ga=jb,Cb=9007199254740991;function Rb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cb}var Gl=Rb,Ib="[object Arguments]",Bb="[object Array]",Lb="[object Boolean]",_b="[object Date]",zb="[object Error]",Fb="[object Function]",Gb="[object Map]",Hb="[object Number]",Ub="[object Object]",kb="[object RegExp]",Xb="[object Set]",$b="[object String]",Yb="[object WeakMap]",Wb="[object ArrayBuffer]",Kb="[object DataView]",Vb="[object Float32Array]",Zb="[object Float64Array]",Jb="[object Int8Array]",Qb="[object Int16Array]",qb="[object Int32Array]",eO="[object Uint8Array]",tO="[object Uint8ClampedArray]",rO="[object Uint16Array]",nO="[object Uint32Array]",Nt={};Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=Nt[nO]=!0,Nt[Ib]=Nt[Bb]=Nt[Wb]=Nt[Lb]=Nt[Kb]=Nt[_b]=Nt[zb]=Nt[Fb]=Nt[Gb]=Nt[Hb]=Nt[Ub]=Nt[kb]=Nt[Xb]=Nt[$b]=Nt[Yb]=!1;function oO(e){return Tt(e)&&Gl(e.length)&&!!Nt[Xr(e)]}var iO=oO;function aO(e){return function(r){return e(r)}}var Hl=aO,Eo=i(49),md=Eo.a&&Eo.a.isTypedArray,uO=md?Hl(md):iO,Ul=uO,sO=Object.prototype,lO=sO.hasOwnProperty;function fO(e,r){var t=d(e),n=!t&&wn(e),o=!t&&!n&&Object(ln.a)(e),a=!t&&!n&&!o&&Ul(e),s=t||n||o||a,p=s?Bt(e.length,String):[],g=p.length;for(var E in e)(r||lO.call(e,E))&&!(s&&(E=="length"||o&&(E=="offset"||E=="parent")||a&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||ga(E,g)))&&p.push(E);return p}var bd=fO,cO=Object.prototype;function dO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||cO;return e===t}var ma=dO;function pO(e,r){return function(t){return e(r(t))}}var Od=pO,hO=Od(Object.keys,Object),vO=hO,yO=Object.prototype,gO=yO.hasOwnProperty;function mO(e){if(!ma(e))return vO(e);var r=[];for(var t in Object(e))gO.call(e,t)&&t!="constructor"&&r.push(t);return r}var bO=mO;function OO(e){return e!=null&&Gl(e.length)&&!ho(e)}var Qn=OO;function EO(e){return Qn(e)?bd(e):bO(e)}var xo=EO;function xO(e){return O(e,xo,Ot)}var kl=xO,SO=1,PO=Object.prototype,AO=PO.hasOwnProperty;function TO(e,r,t,n,o,a){var s=t&SO,p=kl(e),g=p.length,E=kl(r),T=E.length;if(g!=T&&!s)return!1;for(var D=g;D--;){var L=p[D];if(!(s?L in r:AO.call(r,L)))return!1}var H=a.get(e),Z=a.get(r);if(H&&Z)return H==r&&Z==e;var ae=!0;a.set(e,r),a.set(r,e);for(var ue=s;++D<g;){L=p[D];var se=e[L],we=r[L];if(n)var ge=s?n(we,se,L,r,e,a):n(se,we,L,e,r,a);if(!(ge===void 0?se===we||o(se,we,t,n,a):ge)){ae=!1;break}ue||(ue=L=="constructor")}if(ae&&!ue){var be=e.constructor,Fe=r.constructor;be!=Fe&&"constructor"in e&&"constructor"in r&&!(typeof be=="function"&&be instanceof be&&typeof Fe=="function"&&Fe instanceof Fe)&&(ae=!1)}return a.delete(e),a.delete(r),ae}var MO=TO,wO=jr(Pr.a,"DataView"),Xl=wO,NO=jr(Pr.a,"Promise"),$l=NO,DO=jr(Pr.a,"Set"),Yl=DO,jO=jr(Pr.a,"WeakMap"),Wl=jO,Ed="[object Map]",CO="[object Object]",xd="[object Promise]",Sd="[object Set]",Pd="[object WeakMap]",Ad="[object DataView]",RO=Rt(Xl),IO=Rt(bn),BO=Rt($l),LO=Rt(Yl),_O=Rt(Wl),qn=Xr;(Xl&&qn(new Xl(new ArrayBuffer(1)))!=Ad||bn&&qn(new bn)!=Ed||$l&&qn($l.resolve())!=xd||Yl&&qn(new Yl)!=Sd||Wl&&qn(new Wl)!=Pd)&&(qn=function(e){var r=Xr(e),t=r==CO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case RO:return Ad;case IO:return Ed;case BO:return xd;case LO:return Sd;case _O:return Pd}return r});var ui=qn,zO=1,Td="[object Arguments]",Md="[object Array]",ba="[object Object]",FO=Object.prototype,wd=FO.hasOwnProperty;function GO(e,r,t,n,o,a){var s=d(e),p=d(r),g=s?Md:ui(e),E=p?Md:ui(r);g=g==Td?ba:g,E=E==Td?ba:E;var T=g==ba,D=E==ba,L=g==E;if(L&&Object(ln.a)(e)){if(!Object(ln.a)(r))return!1;s=!0,T=!1}if(L&&!T)return a||(a=new Tn),s||Ul(e)?na(e,r,t,n,o,a):Fl(e,r,g,t,n,o,a);if(!(t&zO)){var H=T&&wd.call(e,"__wrapped__"),Z=D&&wd.call(r,"__wrapped__");if(H||Z){var ae=H?e.value():e,ue=Z?r.value():r;return a||(a=new Tn),o(ae,ue,t,n,a)}}return L?(a||(a=new Tn),MO(e,r,t,n,o,a)):!1}var HO=GO;function Nd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:HO(e,r,t,n,Nd,o)}var Kl=Nd,UO=1,kO=2;function XO(e,r,t,n){var o=t.length,a=o,s=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(s&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var g=p[0],E=e[g],T=p[1];if(s&&p[2]){if(E===void 0&&!(g in e))return!1}else{var D=new Tn;if(n)var L=n(E,T,g,e,r,D);if(!(L===void 0?Kl(T,E,UO|kO,n,D):L))return!1}}return!0}var $O=XO;function YO(e){return e===e&&!At(e)}var Dd=YO;function WO(e){for(var r=xo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Dd(o)]}return r}var KO=WO;function VO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var jd=VO;function ZO(e){var r=KO(e);return r.length==1&&r[0][2]?jd(r[0][0],r[0][1]):function(t){return t===e||$O(t,e,r)}}var JO=ZO,QO="[object Symbol]";function qO(e){return typeof e=="symbol"||Tt(e)&&Xr(e)==QO}var Oa=qO,eE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tE=/^\w*$/;function rE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Oa(e)?!0:tE.test(e)||!eE.test(e)||r!=null&&e in Object(r)}var Vl=rE,nE="Expected a function";function Zl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(nE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var s=e.apply(this,n);return t.cache=a.set(o,s)||a,s};return t.cache=new(Zl.Cache||Wn),t}Zl.Cache=Wn;var oE=Zl,iE=500;function aE(e){var r=oE(e,function(n){return t.size===iE&&t.clear(),n}),t=r.cache;return r}var uE=aE,sE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lE=/\\(\\)?/g,fE=uE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(sE,function(t,n,o,a){r.push(o?a.replace(lE,"$1"):n||t)}),r}),cE=fE,dE=1/0,Cd=fr?fr.prototype:void 0,Rd=Cd?Cd.toString:void 0;function Id(e){if(typeof e=="string")return e;if(d(e))return St(e,Id)+"";if(Oa(e))return Rd?Rd.call(e):"";var r=e+"";return r=="0"&&1/e==-dE?"-0":r}var pE=Id;function hE(e){return e==null?"":pE(e)}var vE=hE;function yE(e,r){return d(e)?e:Vl(e,r)?[e]:cE(vE(e))}var Ea=yE,gE=1/0;function mE(e){if(typeof e=="string"||Oa(e))return e;var r=e+"";return r=="0"&&1/e==-gE?"-0":r}var si=mE;function bE(e,r){r=Ea(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[si(r[t++])];return t&&t==n?e:void 0}var Jl=bE;function OE(e,r,t){var n=e==null?void 0:Jl(e,r);return n===void 0?t:n}var Bd=OE;function EE(e,r){return e!=null&&r in Object(e)}var xE=EE;function SE(e,r,t){r=Ea(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var s=si(r[n]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Gl(o)&&ga(s,o)&&(d(e)||wn(e)))}var PE=SE;function AE(e,r){return e!=null&&PE(e,r,xE)}var Ld=AE,TE=1,ME=2;function wE(e,r){return Vl(e)&&Dd(r)?jd(si(e),r):function(t){var n=Bd(t,e);return n===void 0&&n===r?Ld(t,e):Kl(r,n,TE|ME)}}var NE=wE;function DE(e){return e}var Ql=DE;function jE(e){return function(r){return r==null?void 0:r[e]}}var CE=jE;function RE(e){return function(r){return Jl(r,e)}}var IE=RE;function BE(e){return Vl(e)?CE(si(e)):IE(e)}var LE=BE;function _E(e){return typeof e=="function"?e:e==null?Ql:typeof e=="object"?d(e)?NE(e[0],e[1]):JO(e):LE(e)}var zE=_E;function FE(e){return function(r,t,n){for(var o=-1,a=Object(r),s=n(r),p=s.length;p--;){var g=s[e?p:++o];if(t(a[g],g,a)===!1)break}return r}}var GE=FE,HE=GE(),_d=HE;function UE(e,r){return e&&_d(e,r,xo)}var kE=UE;function XE(e,r){return function(t,n){if(t==null)return t;if(!Qn(t))return e(t,n);for(var o=t.length,a=r?o:-1,s=Object(t);(r?a--:++a<o)&&n(s[a],a,s)!==!1;);return t}}var $E=XE,YE=$E(kE),WE=YE;function KE(e,r){var t=-1,n=Qn(e)?Array(e.length):[];return WE(e,function(o,a,s){n[++t]=r(o,a,s)}),n}var VE=KE;function ZE(e,r){var t=d(e)?St:VE;return t(e,zE(r))}var xa=ZE,JE=function(){try{var e=jr(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),Sa=JE;function QE(e,r,t){r=="__proto__"&&Sa?Sa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var ql=QE,qE=Object.prototype,ex=qE.hasOwnProperty;function tx(e,r,t){var n=e[r];(!(ex.call(e,r)&&Zt(n,t))||t===void 0&&!(r in e))&&ql(e,r,t)}var Pa=tx;function rx(e,r,t,n){var o=!t;t||(t={});for(var a=-1,s=r.length;++a<s;){var p=r[a],g=n?n(t[p],e[p],p,t,e):void 0;g===void 0&&(g=e[p]),o?ql(t,p,g):Pa(t,p,g)}return t}var So=rx;function nx(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var ox=nx,zd=Math.max;function ix(e,r,t){return r=zd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=zd(n.length-r,0),s=Array(a);++o<a;)s[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(s),ox(e,this,p)}}var Fd=ix;function ax(e){return function(){return e}}var ux=ax,sx=Sa?function(e,r){return Sa(e,"toString",{configurable:!0,enumerable:!1,value:ux(r),writable:!0})}:Ql,lx=sx,fx=800,cx=16,dx=Date.now;function px(e){var r=0,t=0;return function(){var n=dx(),o=cx-(n-t);if(t=n,o>0){if(++r>=fx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var hx=px,vx=hx(lx),Gd=vx;function yx(e,r){return Gd(Fd(e,r,Ql),e+"")}var gx=yx;function mx(e,r,t){if(!At(t))return!1;var n=typeof r;return(n=="number"?Qn(t)&&ga(r,t.length):n=="string"&&r in t)?Zt(t[r],e):!1}var bx=mx;function Ox(e){return gx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,s&&bx(t[0],t[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Hd=Ox,Ex=Object.prototype,xx=Ex.hasOwnProperty,Sx=Hd(function(e,r){if(ma(r)||Qn(r)){So(r,xo(r),e);return}for(var t in r)xx.call(r,t)&&Pa(e,t,r[t])}),or=Sx;function Px(e,r,t,n){if(!At(e))return e;r=Ea(r,e);for(var o=-1,a=r.length,s=a-1,p=e;p!=null&&++o<a;){var g=si(r[o]),E=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=s){var T=p[g];E=n?n(T,g,p):void 0,E===void 0&&(E=At(T)?T:ga(r[o+1])?[]:{})}Pa(p,g,E),p=p[g]}return e}var Ax=Px;function Tx(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var s=r[n],p=Jl(e,s);t(p,s)&&Ax(a,Ea(s,e),p)}return a}var Mx=Tx;function wx(e,r){return Mx(e,r,function(t,n){return Ld(e,n)})}var Nx=wx,Ud=fr?fr.isConcatSpreadable:void 0;function Dx(e){return d(e)||wn(e)||!!(Ud&&e&&e[Ud])}var jx=Dx;function kd(e,r,t,n,o){var a=-1,s=e.length;for(t||(t=jx),o||(o=[]);++a<s;){var p=e[a];r>0&&t(p)?r>1?kd(p,r-1,t,n,o):ii(o,p):n||(o[o.length]=p)}return o}var Cx=kd;function Rx(e){var r=e==null?0:e.length;return r?Cx(e,1):[]}var Ix=Rx;function Bx(e){return Gd(Fd(e,void 0,Ix),e+"")}var Lx=Bx,_x=Lx(function(e,r){return e==null?{}:Nx(e,r)}),li=_x,It,Xd,$d,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip,ap;function Wt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function up(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fx(e,r,t){return r&&up(e.prototype,r),t&&up(e,t),e}function sp(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $t(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Gx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ef=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],lp=(It=function(){function e(r){zx(this,e),Wt(this,"isSilentMode",Xd,this),Wt(this,"stopZoomGraph",$d,this),Wt(this,"stopScrollGraph",Yd,this),Wt(this,"stopMoveGraph",Wd,this),Wt(this,"adjustEdge",Kd,this),Wt(this,"adjustEdgeMiddle",Vd,this),Wt(this,"adjustEdgeStartAndEnd",Zd,this),Wt(this,"adjustNodePosition",Jd,this),Wt(this,"hideAnchors",Qd,this),Wt(this,"hoverOutline",qd,this),Wt(this,"nodeSelectedOutline",ep,this),Wt(this,"edgeSelectedOutline",tp,this),Wt(this,"nodeTextEdit",rp,this),Wt(this,"edgeTextEdit",np,this),Wt(this,"nodeTextDraggable",op,this),Wt(this,"edgeTextDraggable",ip,this),Wt(this,"autoExpand",ap,this),sp(this,"multipleSelectKey",""),sp(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return Fx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var s=li(Gx,ef);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,s)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=li(t,ef);return or(a,p)}},{key:"getConfig",value:function(){return li(this,ef)}}]),e}(),Xd=$t(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$d=$t(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=$t(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=$t(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=$t(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vd=$t(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=$t(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=$t(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qd=$t(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qd=$t(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=$t(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=$t(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=$t(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=$t(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=$t(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=$t(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ap=$t(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$t(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var fp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(fp||(fp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var Gt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Gt||(Gt={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var Hx=9999,br;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(br||(br={}));var Lt,cp,dp,pp,hp,vp,yp,gp;function Aa(e,r){return $x(e)||Xx(e,r)||kx(e,r)||Ux()}function Ux(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kx(e,r){if(!!e){if(typeof e=="string")return mp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mp(e,r)}}function mp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Xx(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function $x(e){if(Array.isArray(e))return e}function eo(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Yx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wx(e,r,t){return r&&bp(e.prototype,r),t&&bp(e,t),e}function tf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Kx=(Lt=function(){function e(r){Yx(this,e),tf(this,"MINI_SCALE_SIZE",.2),tf(this,"MAX_SCALE_SIZE",16),eo(this,"SCALE_X",cp,this),eo(this,"SKEW_Y",dp,this),eo(this,"SKEW_X",pp,this),eo(this,"SCALE_Y",hp,this),eo(this,"TRANSLATE_X",vp,this),eo(this,"TRANSLATE_Y",yp,this),eo(this,"ZOOM_SIZE",gp,this),tf(this,"eventCenter",void 0),this.eventCenter=r}return Wx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Aa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Aa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Aa(t,2),s=a[0],p=a[1];return[s+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var s=this.CanvasPointToHtmlPoint([t,n]),p=Aa(s,2),g=p[0],E=p[1],T=o/2-g,D=a/2-E;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=D,this.emitGraphTransform("focusOn")}}]),e}(),cp=Ir(Lt.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=Ir(Lt.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Ir(Lt.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Ir(Lt.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vp=Ir(Lt.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Ir(Lt.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=Ir(Lt.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Ir(Lt.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),Ir(Lt.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),Ir(Lt.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),Ir(Lt.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt);function Vx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Zx=Vx;function Jx(e,r){return e&&So(r,xo(r),e)}var Qx=Jx;function qx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var eS=qx,tS=Object.prototype,rS=tS.hasOwnProperty;function nS(e){if(!At(e))return eS(e);var r=ma(e),t=[];for(var n in e)n=="constructor"&&(r||!rS.call(e,n))||t.push(n);return t}var oS=nS;function iS(e){return Qn(e)?bd(e,!0):oS(e)}var fi=iS;function aS(e,r){return e&&So(r,fi(r),e)}var uS=aS,Op=i(106);function sS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Ep=sS;function lS(e,r){return So(e,Ot(e),r)}var fS=lS,cS=Od(Object.getPrototypeOf,Object),rf=cS,dS=Object.getOwnPropertySymbols,pS=dS?function(e){for(var r=[];e;)ii(r,Ot(e)),e=rf(e);return r}:fe,xp=pS;function hS(e,r){return So(e,xp(e),r)}var vS=hS;function yS(e){return O(e,fi,xp)}var gS=yS,mS=Object.prototype,bS=mS.hasOwnProperty;function OS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&bS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var ES=OS;function xS(e){var r=new e.constructor(e.byteLength);return new kt(r).set(new kt(e)),r}var nf=xS;function SS(e,r){var t=r?nf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var PS=SS,AS=/\w*$/;function TS(e){var r=new e.constructor(e.source,AS.exec(e));return r.lastIndex=e.lastIndex,r}var MS=TS,Sp=fr?fr.prototype:void 0,Pp=Sp?Sp.valueOf:void 0;function wS(e){return Pp?Object(Pp.call(e)):{}}var NS=wS;function DS(e,r){var t=r?nf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Ap=DS,jS="[object Boolean]",CS="[object Date]",RS="[object Map]",IS="[object Number]",BS="[object RegExp]",LS="[object Set]",_S="[object String]",zS="[object Symbol]",FS="[object ArrayBuffer]",GS="[object DataView]",HS="[object Float32Array]",US="[object Float64Array]",kS="[object Int8Array]",XS="[object Int16Array]",$S="[object Int32Array]",YS="[object Uint8Array]",WS="[object Uint8ClampedArray]",KS="[object Uint16Array]",VS="[object Uint32Array]";function ZS(e,r,t){var n=e.constructor;switch(r){case FS:return nf(e);case jS:case CS:return new n(+e);case GS:return PS(e,t);case HS:case US:case kS:case XS:case $S:case YS:case WS:case KS:case VS:return Ap(e,t);case RS:return new n;case IS:case _S:return new n(e);case BS:return MS(e);case LS:return new n;case zS:return NS(e)}}var JS=ZS,Tp=Object.create,QS=function(){function e(){}return function(r){if(!At(r))return{};if(Tp)return Tp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),qS=QS;function e0(e){return typeof e.constructor=="function"&&!ma(e)?qS(rf(e)):{}}var Mp=e0,t0="[object Map]";function r0(e){return Tt(e)&&ui(e)==t0}var n0=r0,wp=Eo.a&&Eo.a.isMap,o0=wp?Hl(wp):n0,i0=o0,a0="[object Set]";function u0(e){return Tt(e)&&ui(e)==a0}var s0=u0,Np=Eo.a&&Eo.a.isSet,l0=Np?Hl(Np):s0,f0=l0,c0=1,d0=2,p0=4,Dp="[object Arguments]",h0="[object Array]",v0="[object Boolean]",y0="[object Date]",g0="[object Error]",jp="[object Function]",m0="[object GeneratorFunction]",b0="[object Map]",O0="[object Number]",Cp="[object Object]",E0="[object RegExp]",x0="[object Set]",S0="[object String]",P0="[object Symbol]",A0="[object WeakMap]",T0="[object ArrayBuffer]",M0="[object DataView]",w0="[object Float32Array]",N0="[object Float64Array]",D0="[object Int8Array]",j0="[object Int16Array]",C0="[object Int32Array]",R0="[object Uint8Array]",I0="[object Uint8ClampedArray]",B0="[object Uint16Array]",L0="[object Uint32Array]",Mt={};Mt[Dp]=Mt[h0]=Mt[T0]=Mt[M0]=Mt[v0]=Mt[y0]=Mt[w0]=Mt[N0]=Mt[D0]=Mt[j0]=Mt[C0]=Mt[b0]=Mt[O0]=Mt[Cp]=Mt[E0]=Mt[x0]=Mt[S0]=Mt[P0]=Mt[R0]=Mt[I0]=Mt[B0]=Mt[L0]=!0,Mt[g0]=Mt[jp]=Mt[A0]=!1;function Ta(e,r,t,n,o,a){var s,p=r&c0,g=r&d0,E=r&p0;if(t&&(s=o?t(e,n,o,a):t(e)),s!==void 0)return s;if(!At(e))return e;var T=d(e);if(T){if(s=ES(e),!p)return Ep(e,s)}else{var D=ui(e),L=D==jp||D==m0;if(Object(ln.a)(e))return Object(Op.a)(e,p);if(D==Cp||D==Dp||L&&!o){if(s=g||L?{}:Mp(e),!p)return g?vS(e,uS(s,e)):fS(e,Qx(s,e))}else{if(!Mt[D])return o?e:{};s=JS(e,D,p)}}a||(a=new Tn);var H=a.get(e);if(H)return H;a.set(e,s),f0(e)?e.forEach(function(ue){s.add(Ta(ue,r,t,ue,e,a))}):i0(e)&&e.forEach(function(ue,se){s.set(se,Ta(ue,r,t,se,e,a))});var Z=E?g?gS:kl:g?fi:xo,ae=T?void 0:Z(e);return Zx(ae||e,function(ue,se){ae&&(se=ue,ue=e[se]),Pa(s,se,Ta(ue,r,t,se,e,a))}),s}var _0=Ta,z0=1,F0=4;function G0(e){return _0(e,z0|F0)}var jt=G0;function H0(e,r,t){(t!==void 0&&!Zt(e[r],t)||t===void 0&&!(r in e))&&ql(e,r,t)}var of=H0;function U0(e){return Tt(e)&&Qn(e)}var k0=U0,X0="[object Object]",$0=Function.prototype,Y0=Object.prototype,Rp=$0.toString,W0=Y0.hasOwnProperty,K0=Rp.call(Object);function V0(e){if(!Tt(e)||Xr(e)!=X0)return!1;var r=rf(e);if(r===null)return!0;var t=W0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Rp.call(t)==K0}var Z0=V0;function J0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var af=J0;function Q0(e){return So(e,fi(e))}var q0=Q0;function eP(e,r,t,n,o,a,s){var p=af(e,t),g=af(r,t),E=s.get(g);if(E){of(e,t,E);return}var T=a?a(p,g,t+"",e,r,s):void 0,D=T===void 0;if(D){var L=d(g),H=!L&&Object(ln.a)(g),Z=!L&&!H&&Ul(g);T=g,L||H||Z?d(p)?T=p:k0(p)?T=Ep(p):H?(D=!1,T=Object(Op.a)(g,!0)):Z?(D=!1,T=Ap(g,!0)):T=[]:Z0(g)||wn(g)?(T=p,wn(p)?T=q0(p):(!At(p)||ho(p))&&(T=Mp(g))):D=!1}D&&(s.set(g,T),o(T,g,n,a,s),s.delete(g)),of(e,t,T)}var tP=eP;function Ip(e,r,t,n,o){e!==r&&_d(r,function(a,s){if(o||(o=new Tn),At(a))tP(e,r,s,t,Ip,n,o);else{var p=n?n(af(e,s),a,s+"",e,r,o):void 0;p===void 0&&(p=a),of(e,s,p)}},fi)}var rP=Ip,nP=Hd(function(e,r,t){rP(e,r,t)}),Bp=nP,oP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Lp=function(r){var t=jt(oP);return r&&(t=Bp(t,r)),t};i(78),i(158);function iP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aP(e,r,t){return r&&_p(e.prototype,r),t&&_p(e,t),e}function uP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var sP="*",lP=function(){function e(){iP(this,e),uP(this,"_events",{})}return aP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var s=o._events[a]||[],p=o._events[sP]||[],g=function(T){for(var D=T.length,L=0;L<D;L++)if(!!T[L]){var H=T[L],Z=H.callback,ae=H.once;ae&&(T.splice(L,1),T.length===0&&delete o._events[a],D--,L--),Z.apply(o,[n])}};g(s),g(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var s=o._events[a]||[],p=s.length,g=0;g<p;g++)s[g].callback===n&&(s.splice(g,1),p--,g--);s.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Nn(e,r){return r*Math.round(e/r)||e}function zp(e,r){return e%r}function uf(e,r){return pP(e)||dP(e,r)||cP(e,r)||fP()}function fP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cP(e,r){if(!!e){if(typeof e=="string")return Fp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fp(e,r)}}function Fp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function pP(e){if(Array.isArray(e))return e}var sf=function(r,t,n){var o=uf(r,2),a=o[0],s=o[1],p=uf(t,2),g=p[0],E=p[1],T=uf(n,2),D=T[0],L=T[1];return a>g&&a<D&&s>E&&s<L},Gp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Ma,hP=new Uint8Array(16);function vP(){if(!Ma&&(Ma=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ma))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ma(hP)}var yP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function gP(e){return typeof e=="string"&&yP.test(e)}for(var mP=gP,Kt=[],lf=0;lf<256;++lf)Kt.push((lf+256).toString(16).substr(1));function bP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!mP(t))throw TypeError("Stringified UUID is invalid");return t}var OP=bP;function EP(e,r,t){e=e||{};var n=e.random||(e.rng||vP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return OP(n)}var ff=EP,to=function(){var r=ff();return r},xP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+ff(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+ff(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var SP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(s-r.x)*(s-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:s,y:p}:!1},ci=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wa=function(t){return typeof t}:wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}function Hp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Up(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hp(Object(t),!0).forEach(function(n){PP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var cf=function(r){var t=r.anchors;return t},Na=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var s=n[a],p=MP(r,s);if(p){var g=TP(r,s);if(g){var E={node:s,anchorIndex:g.index,anchor:g.anchor};(!o||AP(s,o.node,t))&&(o=E)}}}return o},AP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},TP=function(r,t){for(var n=cf(t),o,a=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var p=Wr(r.x,r.y,n[s].x,n[s].y);p<a&&(a=p,o={index:s,anchor:Up(Up({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Wr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Dn=function(r,t){var n=!1,o=0,a=Or(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},MP=function(r,t){var n=!1,o=5,a=Or(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},Or=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,s={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return s},wP=function(r){var t=r,n=t.x,o=t.y,a=t.width,s=t.height,p=t.radius,g=[{x:n-a/2+p,y:o-s/2+p,r:p},{x:n+a/2-p,y:o-s/2+p,r:p},{x:n-a/2+p,y:o+s/2-p,r:p},{x:n+a/2-p,y:o+s/2-p,r:p}];return g},kp=function(r,t,n){var o=wP(n),a,s=Number.MAX_SAFE_INTEGER;o.forEach(function(g){var E=Wr(r.x,r.y,g.x,g.y);E<s&&(s=E,a=g)});var p=df(r,t,a);return p},df=function(r,t,n){var o,a=n,s=a.x,p=a.y,g=a.r;if(t===Dt.HORIZONTAL){var E=s-Math.sqrt(g*g-(r.y-p)*(r.y-p)),T=s+Math.sqrt(g*g-(r.y-p)*(r.y-p)),D=Math.abs(E-r.x)<Math.abs(T-r.x)?E:T;o={x:D,y:r.y}}else if(t===Dt.VERTICAL){var L=p-Math.sqrt(g*g-(r.x-s)*(r.x-s)),H=p+Math.sqrt(g*g-(r.x-s)*(r.x-s)),Z=Math.abs(L-r.y)<Math.abs(H-r.y)?L:H;o={x:r.x,y:Z}}return o},Xp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},s=n.x,p=n.y,g=n.width,E=n.height;return r.y===p+E/2||r.y===p-E/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===s+g/2||r.x===s-g/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},$p=function(r,t,n){var o,a=n,s=a.x,p=a.y,g=a.rx,E=a.ry;if(t===Dt.HORIZONTAL){var T=s-Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),D=s+Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),L=Math.abs(T-r.x)<Math.abs(D-r.x)?T:D;o={x:L,y:r.y}}else if(t===Dt.VERTICAL){var H=p-Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),Z=p+Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ae=Math.abs(H-r.y)<Math.abs(Z-r.y)?H:Z;o={x:r.x,y:ae}}return o},Da=function(r,t,n){for(var o=n,a=o.pointsPosition,s=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});return g.forEach(function(T){var D=T.start,L=T.end,H=D,Z=L;D.x>L.x&&(H=L,Z=D);var ae={x:r.x,y:r.y};if(H.x===Z.x&&t===Dt.HORIZONTAL&&(ae={x:H.x,y:r.y}),H.y===Z.y&&t===Dt.VERTICAL&&(ae={x:r.x,y:H.y}),H.x!==Z.x&&H.y!==Z.y){var ue=(Z.y-H.y)/(Z.x-H.x),se=(H.x*Z.y-Z.x*H.y)/(H.x-Z.x);t===Dt.HORIZONTAL?ae={x:(r.y-se)/ue,y:r.y}:t===Dt.VERTICAL&&(ae={x:r.x,y:ue*r.x+se})}var we=ci(ae,D,L);if(we){var ge=Wr(ae.x,ae.y,r.x,r.y);ge<s&&(s=ge,p=ae)}}),p},NP=function(r){var t=li(r,["id","type","x","y","text","properties","virtual"]);return t},Yp=function(r,t,n,o){var a=r.x,s=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:a,y:s}},Wp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=a,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var E=document.createElement("div");E.textContent=g,s.appendChild(E)}):s.textContent=t,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},pf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(s){var p=zh(s);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},ja=function(r){return wa(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Kp={node:!1,edge:!1},DP={node:!0,edge:!0},jP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},CP=1e3,RP=999,hf=function(){return++CP},IP=function(){return--RP},ye,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch,dh,ph;function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){Er(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ht(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function BP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LP(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function Er(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var vf=(ye=function(){function e(r,t){BP(this,e),Er(this,"id",to()),Ht(this,"type",Vp,this),Ht(this,"sourceNodeId",Zp,this),Ht(this,"targetNodeId",Jp,this),Ht(this,"startPoint",Qp,this),Ht(this,"endPoint",qp,this),Ht(this,"text",eh,this),Ht(this,"properties",th,this),Ht(this,"points",rh,this),Ht(this,"pointsList",nh,this),Ht(this,"isSelected",oh,this),Ht(this,"isHovered",ih,this),Ht(this,"isHitable",ah,this),Ht(this,"draggable",uh,this),Ht(this,"visible",sh,this),Er(this,"virtual",!1),Ht(this,"isAnimation",lh,this),Er(this,"graphModel",void 0),Ht(this,"zIndex",fh,this),Er(this,"BaseType",Gt.EDGE),Er(this,"modelType",pt.EDGE),Ht(this,"state",ch,this),Er(this,"additionStateData",void 0),Er(this,"sourceAnchorId",""),Er(this,"targetAnchorId",""),Er(this,"menu",void 0),Er(this,"customTextPosition",!1),Er(this,"animationData",jP),Ht(this,"style",dh,this),Ht(this,"arrowConfig",ph,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return LP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,AA(t));var s=this.graphModel.overlapMode;s===br.INCREASE&&(this.zIndex=t.zIndex||hf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Br(Br({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,s=cf(t);return s.forEach(function(p){var g=Hh(p,n);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,s=cf(t);return s.forEach(function(p){var g=Hh(p,n.startPoint);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(s.text={x:n,y:o,value:a}),this.graphModel.overlapMode===br.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Br(Br({},this.properties),er(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Br(Br({},this.style),{},Er({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Br(Br({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Br({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,s=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,draggable:g,x:a+t,y:s+n,editable:E}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Br(Br({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Vp=et(ye.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=et(ye.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=et(ye.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qp=et(ye.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=et(ye.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eh=et(ye.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),th=et(ye.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rh=et(ye.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nh=et(ye.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oh=et(ye.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=et(ye.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=et(ye.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=et(ye.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=et(ye.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=et(ye.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=et(ye.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=et(ye.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dh=et(ye.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ph=et(ye.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),et(ye.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),et(ye.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),et(ye.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),et(ye.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),et(ye.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"deleteProperty"),ye.prototype),et(ye.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),et(ye.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"changeEdgeId"),ye.prototype),et(ye.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyle"),ye.prototype),et(ye.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyles"),ye.prototype),et(ye.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStyles"),ye.prototype),et(ye.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),et(ye.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),et(ye.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),et(ye.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),et(ye.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),et(ye.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),et(ye.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),et(ye.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),et(ye.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),et(ye.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"openEdgeAnimation"),ye.prototype),et(ye.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"closeEdgeAnimation"),ye.prototype),et(ye.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),et(ye.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),et(ye.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveStartPoint"),ye.prototype),et(ye.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),et(ye.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveEndPoint"),ye.prototype),et(ye.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),et(ye.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),et(ye.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),et(ye.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustStart"),ye.prototype),et(ye.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustEnd"),ye.prototype),et(ye.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAfterAdjustStartAndEnd"),ye.prototype),ye),yf=vf;function Ca(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(t){return typeof t}:Ca=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){Oh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zP(e,r,t){return r&&mh(e.prototype,r),t&&mh(e,t),e}function Ra(){return typeof Reflect!="undefined"&&Reflect.get?Ra=Reflect.get:Ra=function(r,t,n){var o=FP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ra.apply(this,arguments)}function FP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Po(e),e!==null););return e}function GP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gf(e,r)}function gf(e,r){return gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gf(e,r)}function HP(e){var r=kP();return function(){var n=Po(e),o;if(r){var a=Po(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return UP(this,o)}}function UP(e,r){if(r&&(Ca(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(e)}function Oh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mf=function(e){GP(t,e);var r=HP(t);function t(){var n;_P(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Oh(bh(n),"modelType",pt.LINE_EDGE),n}return zP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ra(Po(t.prototype),"getEdgeStyle",this).call(this);return gh(gh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(yf);function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(t){return typeof t}:Ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}var at,Eh;function XP(e,r){return KP(e)||WP(e,r)||YP(e,r)||$P()}function $P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YP(e,r){if(!!e){if(typeof e=="string")return xh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xh(e,r)}}function xh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function WP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function KP(e){if(Array.isArray(e))return e}function Sh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ph(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sh(Object(t),!0).forEach(function(n){Of(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function VP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ZP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ah(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JP(e,r,t){return r&&Ah(e.prototype,r),t&&Ah(e,t),e}function Ao(){return typeof Reflect!="undefined"&&Reflect.get?Ao=Reflect.get:Ao=function(r,t,n){var o=QP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ao.apply(this,arguments)}function QP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=jn(e),e!==null););return e}function qP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bf(e,r)}function bf(e,r){return bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bf(e,r)}function eA(e){var r=rA();return function(){var n=jn(e),o;if(r){var a=jn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tA(this,o)}}function tA(e,r){if(r&&(Ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(e)}function Of(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ef=(at=function(e){qP(t,e);var r=eA(t);function t(){var n;ZP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Of(di(n),"modelType",pt.POLYLINE_EDGE),Of(di(n),"draginngPointList",void 0),VP(di(n),"dbClickPosition",Eh,di(n)),n}return JP(t,[{key:"initEdgeData",value:function(o){this.offset=30,Ao(jn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=Ao(jn(t.prototype),"getEdgeStyle",this).call(this);return Ph(Ph({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition,p=s.x,g=s.y;return{x:p,y:g}}var E=To(this.points),T=EA(E),D=XP(T,2),L=D[0],H=D[1];return{x:(L.x+H.x)/2,y:(L.y+H.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var p,g;return s.forEach(function(E){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-E.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-E.x)),(!g||g>T)&&(g=T,p=E)}),p}},{key:"getCorssPoint",value:function(o,a,s){var p;return o===Dt.HORIZONTAL?p={x:s.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:s.y}),p}},{key:"removeCrossPoints",value:function(o,a,s){var p=s.map(function(Re){return Re});if(o===1){var g=p[o],E=p[a],T=p[o-1],D=Ih(T,g,this.sourceNode);if(D){var L=Bh(g,E,this.sourceNode);if(L){var H=Lh(g,E,this.sourceNode);H&&(p[o]=H,p.splice(o-1,1),o--,a--)}}else{var Z=this.sourceNode.anchors;Z.forEach(function(Re){if(Re.x===T.x&&Re.x===g.x||Re.y===T.y&&Re.y===g.y){var Ze=Wr(Re.x,Re.y,g.x,g.y),Ge=Wr(T.x,T.y,g.x,g.y);Ze<Ge&&(p[o-1]=Re)}})}}if(a===s.length-2){var ae=p[o],ue=p[a],se=p[a+1],we=Ih(ue,se,this.targetNode);if(we){var ge=Bh(ae,ue,this.targetNode);if(ge){var be=Lh(ae,ue,this.targetNode);be&&(p[a]=be,p.splice(a+1,1))}}else{var Fe=this.targetNode.anchors;Fe.forEach(function(Re){if(Re.x===se.x&&Re.x===ue.x||Re.y===se.y&&Re.y===ue.y){var Ze=Wr(Re.x,Re.y,ue.x,ue.y),Ge=Wr(se.x,se.y,ue.x,ue.y);Ze<Ge&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,s,p,g){var E=g.map(function(L){return L}),T=this.getAfterAnchor(o,s,p),D=this.getCorssPoint(o,s,T);return a==="start"?(E.unshift(D),E.unshift(T)):(E.push(D),E.push(T)),E}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(be){return be}),s=o[0],p=o[1],g=o[a.length-2],E=o[a.length-1],T=this.sourceNode,D=this.targetNode,L=T.modelType,H=D.modelType,Z=Ha(s,p),ae=a[0];switch(L){case pt.RECT_NODE:if(T.radius!==0){var ue=Xp(s,T);ue||(ae=kp(s,Z,T))}break;case pt.CIRCLE_NODE:ae=df(s,Z,T);break;case pt.ELLIPSE_NODE:ae=$p(s,Z,T);break;case pt.DIAMOND_NODE:ae=Da(s,Z,T);break;case pt.POLYGON_NODE:ae=Da(s,Z,T);break}a[0]=ae;var se=Ha(g,E),we=a[a.length-1];switch(H){case pt.RECT_NODE:if(D.radius!==0){var ge=Xp(E,D);ge||(we=kp(E,se,D))}break;case pt.CIRCLE_NODE:we=df(E,se,D);break;case pt.ELLIPSE_NODE:we=$p(E,se,D);break;case pt.DIAMOND_NODE:we=Da(E,se,D);break;case pt.POLYGON_NODE:we=Da(E,se,D);break}return a[a.length-1]=we,a}},{key:"getData",value:function(){var o=Ao(jn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,g=s.y;return{x:p,y:g}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Rh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,D=this.pointsList,L=D;return T===Dt.HORIZONTAL?(D[g]={x:s.x,y:s.y+a.y},D[E]={x:p.x,y:p.y+a.y},L=this.pointsList.map(function(H){return H})):T===Dt.VERTICAL&&(D[g]={x:s.x+a.x,y:s.y},D[E]={x:p.x+a.x,y:p.y},L=this.pointsList.map(function(H){return H})),this.updatePointsAfterDrag(L),this.draginngPointList=L,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[g]),end:Object.assign({},D[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,D=this.pointsList;if(T===Dt.HORIZONTAL){D[g]={x:s.x,y:s.y+a.y},D[E]={x:p.x,y:p.y+a.y};var L=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(L=this.removeCrossPoints(g,E,L)),g===0){var H={x:s.x,y:s.y+a.y},Z=Dn(H,this.sourceNode);if(!Z){var ae=this.sourceNode.anchors;L=this.getDragingPoints(T,"start",H,ae,L)}}if(E===this.pointsList.length-1){var ue={x:p.x,y:p.y+a.y},se=Dn(ue,this.targetNode);if(!se){var we=this.targetNode.anchors;L=this.getDragingPoints(T,"end",ue,we,L)}}this.updatePointsAfterDrag(L),this.draggingPointList=L}else if(T===Dt.VERTICAL){D[g]={x:s.x+a.x,y:s.y},D[E]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(ge=this.removeCrossPoints(g,E,ge)),g===0){var be={x:s.x+a.x,y:s.y},Fe=Dn(be,this.sourceNode);if(!Fe){var Re=this.sourceNode.anchors;ge=this.getDragingPoints(T,"start",be,Re,ge)}}if(E===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},Ge=Dn(Ze,this.targetNode);if(!Ge){var ht=this.targetNode.anchors;ge=this.getDragingPoints(T,"end",Ze,ht,ge)}}this.updatePointsAfterDrag(ge),this.draggingPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[g]),end:Object.assign({},D[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Ch(To(this.points));this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,g=o.targetNode,E=Rh({x:a.x,y:a.y},{x:s.x,y:s.y},p,g,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(yf),Eh=ir(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),ir(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),ir(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),ir(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),ir(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),ir(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),ir(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),ir(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),ir(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),ir(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),ir(at.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrag"),at.prototype),ir(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),ir(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),ir(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),pi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,s=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return s==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(g+E),p.leftY=t.y-T*Math.cos(g+E),p.rightX=t.x-T*Math.sin(g-E),p.rightY=t.y+T*Math.cos(g-E)):(p.leftX=t.x-T*Math.sin(g+E),p.leftY=t.y+T*Math.cos(g+E),p.rightX=t.x+T*Math.sin(g-E),p.rightY=t.y-T*Math.cos(g-E)):s==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(g-E),p.leftY=n.y-T*Math.cos(g-E),p.rightX=n.x-T*Math.sin(g+E),p.rightY=n.y+T*Math.cos(g+E)):(p.leftX=n.x-T*Math.sin(g-E),p.leftY=n.y+T*Math.cos(g-E),p.rightX=n.x+T*Math.sin(g+E),p.rightY=n.y-T*Math.cos(g+E))),p};function Th(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ba(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Th(Object(t),!0).forEach(function(n){nA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Th(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oA(e){return uA(e)||aA(e)||Mh(e)||iA()}function iA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uA(e){if(Array.isArray(e))return Sf(e)}function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function xf(e,r){return fA(e)||lA(e,r)||Mh(e,r)||sA()}function sA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mh(e,r){if(!!e){if(typeof e=="string")return Sf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sf(e,r)}}function Sf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function fA(e){if(Array.isArray(e))return e}var cA=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Pf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},_a=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},dA=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},za=function(r,t){var n=dA(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},wh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:a,maxY:s,height:s-o,width:a-n}},hi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(D){n.push(D.x),o.push(D.y)});var a=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,o),g=Math.max.apply(Math,o),E=s-a,T=g-p;return t&&(E+=t,T+=t),{centerX:(a+s)/2,centerY:(p+g)/2,maxX:s,maxY:g,minX:a,minY:p,x:(a+s)/2,y:(p+g)/2,height:T,width:E}},Fa=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ga=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},pA=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},hA=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},vA=function(r,t){return pA(r,t.x).concat(hA(r,t.y))},Af=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},yA=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Nh=function(r,t,n,o,a){return Af(r,t)+Af(r,n)+yA(r,[t,n,o,a])},gA=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},mA=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},vi=function(r,t,n,o){var a=t.x-r.x,s=t.y-r.y,p=o.x-n.x,g=o.y-n.y,E=(-s*(r.x-n.x)+a*(r.y-n.y))/(-p*s+a*g),T=(p*(r.y-n.y)-g*(r.x-n.x))/(-p*s+a*g);return E>=0&&E<=1&&T>=0&&T<=1},Dh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Fa(n),a=xf(o,4),s=a[0],p=a[1],g=a[2],E=a[3];return vi(r,t,s,p)||vi(r,t,s,E)||vi(r,t,p,g)||vi(r,t,g,E)},bA=function(r,t,n,o){var a=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!Dh(s,t,n)&&!Dh(s,t,o)&&a.push(s)}),Pf(a)},OA=function(r,t,n,o,a,s,p){var g=[],E=[t],T={},D={},L={};D[t.id]=0,L[t.id]=Nh(t,n,t);var H={};r.forEach(function(ue){H[ue.id]=ue});for(var Z=function(){var se=void 0,we=1/0;if(E.forEach(function(be){L[be.id]<we&&(we=L[be.id],se=be)}),se===n){var ge=[];return gA(ge,H,T,n.id),{v:ge}}mA(E,se),g.push(se),bA(r,se,o,a).forEach(function(be){if(g.indexOf(be)===-1){E.indexOf(be)===-1&&E.push(be);var Fe=L[se.id]+Af(se,be);D[be.id]&&Fe>=D[be.id]||(T[be.id]=se.id,D[be.id]=Fe,L[be.id]=D[be.id]+Nh(be,n,t,s,p))}})};E.length;){var ae=Z();if(La(ae)==="object")return ae.v}return[t,n]},jh=function(r){var t=Or(r);return t},Ch=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],s=t[n+1];o.x===a.x&&a.x===s.x||o.y===a.y&&a.y===s.y?t.splice(n,1):n++}return t},Rh=function(r,t,n,o,a){var s=jh(n),p=jh(o),g=_a(s,a),E=_a(p,a),T=za(g,r),D=za(E,t);if(cA(g,E)){var L=xA(r,t,T,D);return[r,T].concat(oA(L),[D,t])}var H=hi([T,D]),Z=wh(g,H),ae=wh(E,H),ue=[];ue=ue.concat(Fa(Z)),ue=ue.concat(Fa(ae));var se={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[H,Z,ae].forEach(function(ge){ue=ue.concat(vA(ge,se).filter(function(be){return Ga(be,g)&&Ga(be,E)}))}),[{x:T.x,y:D.y},{x:D.x,y:T.y}].forEach(function(ge){Ga(ge,g)&&Ga(ge,E)&&ue.push(ge)}),ue.unshift(T),ue.push(D),ue=Pf(ue);var we=OA(ue,T,D,s,p,r,t);return we.unshift(r),we.push(t),we.length>2&&(we=Ch(we)),Pf(we)},EA=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Wr(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var p=r[s],g=r[s+1],E=Wr(p.x,p.y,g.x,g.y);E>a&&(a=E,n=p,o=g)}t=[n,o]}return t},Ih=function(r,t,n){var o=Dn(r,n),a=Dn(t,n);return o&&a},Bh=function(r,t,n){var o=Dn(r,n),a=Dn(t,n),s=o&&a,p=o||a;return!s&&p},Lh=function(r,t,n){for(var o,a,s=Or(n),p=Fa(s),g=0;g<p.length;g++){var E=vi(r,t,p[g],p[(g+1)%p.length]);E&&(a=[p[g],p[(g+1)%p.length]])}return a&&(o=SP(r,t,a[0],a[1])),o},Ha=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},To=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),s=xf(a,2),p=s[0],g=s[1];n.push({x:Number(p),y:Number(g)})}),n},xA=function(r,t,n,o){var a=[],s=Ha(r,n),p=Ha(t,o);if(s===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},E=ci(g,r,n),T=ci(g,t,o);if(E||T)g={x:o.x,y:n.y};else{var D=_h(g,r,n),L=_h(g,t,o);D&&L&&(g={x:o.x,y:n.y})}a.push(g)}return a},_h=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},zh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},SA=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},s=pi(Ba(Ba({},a),{},{type:"start"})),p=pi(Ba(Ba({},a),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Fh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,s=r.offset,p=Or(o),g=Or(a),E=_a(p,s),T=_a(g,s),D=za(E,t),L=za(T,n);return{sNext:D,ePre:L}},Ua=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=ka(t[0]),o=ka(t[1]),a=ka(t[2]),s=ka(t[3]);return[n,o,a,s]},ka=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=xf(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},PA=function(r){var t=Ua(r);return[t[2],t[3]]},Gh=function(r,t){for(var n=r.x,o=r.y,a=To(t),s=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});if(g.forEach(function(H){var Z=H.start,ae=H.end;if(Z.x===ae.x){var ue={x:Z.x,y:o},se=ci(ue,Z,ae);if(se){var we=Math.abs(Z.x-n);we<s&&(s=we,p=ue)}}else if(Z.y===ae.y){var ge={x:n,y:Z.y},be=ci(ge,Z,ae);if(be){var Fe=Math.abs(Z.y-o);Fe<s&&(s=Fe,p=ge)}}}),!p){var T=g[0],D=T.start,L=T.end;p={x:D.x+(L.x-D.x)/2,y:D.y+(L.y-D.y)/2}}return p},AA=function(r){return li(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function TA(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function MA(){}var Mo=MA;function wA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Uh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NA(e,r,t){return r&&Uh(e.prototype,r),t&&Uh(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kr=window.document,kh=0;function Tf(e){var r=e.onDragStart,t=r===void 0?Mo:r,n=e.onDraging,o=n===void 0?Mo:n,a=e.onDragEnd,s=a===void 0?Mo:a,p=e.step,g=p===void 0?1:p,E=e.isStopPropagation,T=E===void 0?!0:E,D=!1,L=!1,H=0,Z=0,ae=0,ue=0;function se(be){if(T&&be.stopPropagation(),!!L&&(D=!0,ae+=be.clientX-H,ue+=be.clientY-Z,H=be.clientX,Z=be.clientY,Math.abs(ae)>g||Math.abs(ue)>g)){var Fe=ae%g,Re=ue%g,Ze=ae-Fe,Ge=ue-Re;ae=Fe,ue=Re,o({deltaX:Ze,deltaY:Ge,event:be})}}function we(be){if(T&&be.stopPropagation(),L=!1,Kr.removeEventListener("mousemove",se,!1),Kr.removeEventListener("mouseup",we,!1),!!D)return D=!1,s({event:be})}function ge(be){if(be.button===kh)return T&&be.stopPropagation(),L=!0,H=be.clientX,Z=be.clientY,Kr.addEventListener("mousemove",se,!1),Kr.addEventListener("mouseup",we,!1),t({event:be})}return ge}var ro=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?Mo:n,a=r.onDraging,s=a===void 0?Mo:a,p=r.onDragEnd,g=p===void 0?Mo:p,E=r.eventType,T=E===void 0?"":E,D=r.eventCenter,L=D===void 0?null:D,H=r.step,Z=H===void 0?1:H,ae=r.isStopPropagation,ue=ae===void 0?!0:ae,se=r.model,we=se===void 0?null:se;wA(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(ge){var be,Fe;if(ge.button===kh){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Kr.addEventListener("mousemove",t.handleMouseMove,!1),Kr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Re}),t.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var be,Fe=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,Ze=t.sumDeltaX-Fe,Ge=t.sumDeltaY-Re;t.sumDeltaX=Fe,t.sumDeltaY=Re;var ht=(be=t.model)===null||be===void 0?void 0:be.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:ht}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var sr,xr;t.onDraging({deltaX:Ze,deltaY:Ge,event:ge}),(sr=t.eventCenter)===null||sr===void 0||sr.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:ht}),(xr=t.eventCenter)===null||xr===void 0||xr.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:ht})})}}),zt(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var be,Fe,Re;Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),zt(this,"cancelDrag",function(){Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=g,this.step=Z,this.isStopPropagation=ue,this.eventType=T,this.eventCenter=L,this.model=we}return NA(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),DA=function(r){return!r||typeof r=="boolean"?jt(r===!0?DP:Kp):Bp(jt(Kp),r)},de,Xh,$h,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev,tv;function rv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Xa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rv(Object(t),!0).forEach(function(n){Vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mf(e,r){return RA(e)||CA(e,r)||nv(e,r)||jA()}function jA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function RA(e){if(Array.isArray(e))return e}function wo(e){return LA(e)||BA(e)||nv(e)||IA()}function IA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nv(e,r){if(!!e){if(typeof e=="string")return wf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wf(e,r)}}function BA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LA(e){if(Array.isArray(e))return wf(e)}function wf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yi=function(t){return typeof t}:yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function Nr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ov(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zA(e,r,t){return r&&ov(e.prototype,r),t&&ov(e,t),e}function Vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $a=200,iv=(de=function(){function e(r){_A(this,e),Vr(this,"rootEl",void 0),Nr(this,"width",Xh,this),Nr(this,"height",$h,this),Vr(this,"theme",void 0),Vr(this,"eventCenter",void 0),Vr(this,"modelMap",new Map),Vr(this,"topElement",void 0),Vr(this,"animation",void 0),Vr(this,"idGenerator",void 0),Vr(this,"edgeGenerator",void 0),Vr(this,"nodeMoveRules",[]),Nr(this,"edgeType",Yh,this),Nr(this,"nodes",Wh,this),Nr(this,"edges",Kh,this),Nr(this,"overlapMode",Vh,this),Nr(this,"background",Zh,this),Nr(this,"transformModel",Jh,this),Nr(this,"editConfigModel",Qh,this),Nr(this,"gridSize",qh,this),Nr(this,"partial",ev,this),Nr(this,"fakerNode",tv,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,s=r.idGenerator,p=r.edgeGenerator,g=r.animation;this.background=o,yi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new lp(r),this.eventCenter=new lP,this.transformModel=new Kx(this.eventCenter),this.theme=Lp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=DA(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.edgeGenerator=TA(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return zA(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(wo(this.nodes),wo(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(g){return t.push(g)}),this.edges.forEach(function(g){return t.push(g)}),t=t.sort(function(g,E){return g.zIndex-E.zIndex});for(var n=[],o=[-$a,-$a],a=[this.width+$a,this.height+$a],s=0;s<t.length;s++){var p=t[s];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],g=[];this.nodes.forEach(function(D){return g.push(D)}),this.edges.forEach(function(D){return g.push(D)});for(var E=0;E<g.length;E++){var T=g[E];(!s||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),s={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),g=Mf(p,2),E=g[0],T=g[1];return{domOverlayPosition:s,canvasOverlayPosition:{x:E,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Gt.NODE){t=t;for(var p=Or(t),g=p.minX,E=p.minY,T=p.maxX,D=p.maxY,L=[{x:g,y:E},{x:T,y:E},{x:T,y:D},{x:g,y:D}],H=s,Z=0;Z<L.length;Z++){var ae=L[Z],ue=ae.x,se=ae.y,we=this.transformModel.CanvasPointToHtmlPoint([ue,se]),ge=Mf(we,2);if(ue=ge[0],se=ge[1],sf([ue,se],n,o)!==s){H=!s;break}}return H}if(t.BaseType===Gt.EDGE){t=t;var be=t,Fe=be.startPoint,Re=be.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),Ge=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=sf(Ze,n,o),yt=sf(Ge,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=xa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,p=o.y;return s&&p&&(o.x=Nn(s,n.gridSize),o.y=Nn(p,n.gridSize),yi(o.text)==="object"&&(o.text.x-=zp(s,n.gridSize),o.text.y-=zp(p,n.gridSize))),new a(o,n)}),this.edges=xa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var s=!1,p=[],g=0;g<this.edges.length;g++){var E=this.edges[g];if(E.isDragging){s=!0;break}else p.push(E.getHistoryData())}return s?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(s||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Gt.NODE&&o.nodes.push(a.getData()),a.BaseType===Gt.EDGE){var s=a.getData(),p=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||p)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=to()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=to()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===br.DEFAULT){var s;(s=this.topElement)===null||s===void 0||s.setZIndex(),a.setZIndex(Hx),this.topElement=a}this.overlapMode===br.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,s=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(s){var p;typeof n=="number"&&(p=n),n==="top"&&(p=hf()),n==="bottom"&&(p=IP()),s.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=Nn(n.x,this.gridSize),n.y=Nn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,g=p.getMoveDistance(n,o,a),E=Mf(g,2);n=E[0],o=E[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,g=p.x,E=p.y,T=n-g,D=o-E;this.moveNode(t,T,D,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var s=new a(Xa(Xa({},n),{},{type:o}),this),p=s.getData();return this.edges.push(s),this.eventCenter.emit(it.EDGE_ADD,{data:p}),s}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var s=this.edges[a],p=s.textPosition,g=p.x,E=p.y,T=this.edges[a].sourceNodeId===t,D=this.edges[a].targetNodeId===t;if(T&&s.moveStartPoint(n,o),D&&s.moveEndPoint(n,o),T||D){var L;if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===pt.POLYLINE_EDGE&&(L=s.text)!==null&&L!==void 0&&L.value){var H=s.text,Z=Gh(H,s.points);s.moveText(Z.x-H.x,Z.y-H.y)}else{var ae=s.textPosition,ue=ae.x,se=ae.y;s.moveText(ue-g,se-E)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===br.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new s(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var g=this.getNodeEdges(t);g.forEach(function(E){if(E.sourceNodeId===t){var T=Yp(p,E.startPoint,p.width,p.height);E.updateStartPoint(T)}if(E.targetNodeId===t){var D=Yp(p,E.endPoint,p.width,p.height);E.updateEndPoint(D)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new s(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Lp(Xa(Xa({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(H){var Z=H.x,ae=H.y,ue=H.width,se=H.height,we=H.getNodeStyle(),ge=we.strokeWidth,be=ge===void 0?0:ge;n=n.concat([Z+ue/2+be,Z-ue/2-be]),o=o.concat([ae+se/2+be,ae-se/2-be])});var a=Math.min.apply(Math,wo(n)),s=Math.max.apply(Math,wo(n)),p=Math.min.apply(Math,wo(o)),g=Math.max.apply(Math,wo(o)),E=s-a||0,T=g-p||0,D=a+E/2,L=p+T/2;return{virtualRectWidth:E,virtualRectHeight:T,virtualRectCenterPositionX:D,virtualRectCenterPositionY:L}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,s=this.transformModel;if(!!t.length){var p=n||a.clientWidth,g=o||a.clientHeight,E=this.getVirtualRectSize(),T=E.virtualRectCenterPositionX,D=E.virtualRectCenterPositionY;s.focusOn(T,D,p,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,s=this.height,p=this.rootEl,g=this.transformModel;if(!!o.length){var E=a||p.clientWidth,T=s||p.clientHeight,D=this.getVirtualRectSize(),L=D.virtualRectWidth,H=D.virtualRectHeight,Z=D.virtualRectCenterPositionX,ae=D.virtualRectCenterPositionY,ue=(L+n)/E,se=(H+t)/T,we=0;we=1/Math.max(ue,se);var ge=[E/2,T/2];g.zoom(we,ge),g.focusOn(Z,ae,E,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Xh=Ke(de.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=Ke(de.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ke(de.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ke(de.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kh=Ke(de.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ke(de.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return br.DEFAULT}}),Zh=Ke(de.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ke(de.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ke(de.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Ke(de.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ev=Ke(de.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tv=Ke(de.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(de.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ke(de.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ke(de.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ke(de.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ke(de.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ke(de.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ke(de.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ke(de.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ke(de.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ke(de.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ke(de.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ke(de.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ke(de.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ke(de.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ke(de.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ke(de.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ke(de.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ke(de.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ke(de.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ke(de.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ke(de.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ke(de.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ke(de.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ke(de.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ke(de.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ke(de.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ke(de.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ke(de.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ke(de.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ke(de.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ke(de.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ke(de.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ke(de.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ke(de.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ke(de.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ke(de.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ke(de.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ke(de.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ke(de.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ke(de.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ke(de.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ke(de.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ke(de.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ke(de.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),FA=iv;function Ya(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ya=function(t){return typeof t}:Ya=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}var av;function Nf(){return Nf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nf.apply(this,arguments)}function GA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HA(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}function UA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function kA(e){var r=$A();return function(){var n=Wa(e),o;if(r){var a=Wa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XA(this,o)}}function XA(e,r){if(r&&(Ya(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(e)}function fn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var YA=Ur(av=function(e){UA(t,e);var r=kA(t);function t(n){var o;GA(this,t),o=r.call(this),fn(Zr(o),"stepDrag",void 0),fn(Zr(o),"stepScrollX",0),fn(Zr(o),"stepScrollY",0),fn(Zr(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY;o.setState({isDraging:!0});var D=o.props.graphModel,L=D.transformModel,H=D.editConfigModel;H.stopMoveGraph||L.translate(E,T)}),fn(Zr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),fn(Zr(o),"zoomHandler",function(g){var E=o.props,T=E.graphModel,D=T.editConfigModel,L=T.transformModel,H=T.gridSize,Z=E.graphModel,ae=g.deltaX,ue=g.deltaY;if(!D.stopScrollGraph&&g.ctrlKey!==!0){if(g.preventDefault(),o.stepScrollX+=ae,o.stepScrollY+=ue,Math.abs(o.stepScrollX)>=H){var se=o.stepScrollX%H,we=o.stepScrollX-se;L.translate(-we*L.SCALE_X,0),o.stepScrollX=se}if(Math.abs(o.stepScrollY)>=H){var ge=o.stepScrollY%H,be=o.stepScrollY-ge;L.translate(0,-be*L.SCALE_Y),o.stepScrollY=ge}return}if(!D.stopZoomGraph){g.preventDefault();var Fe=Z.getPointByClient({x:g.clientX,y:g.clientY}),Re=Fe.canvasOverlayPosition,Ze=Re.x,Ge=Re.y;L.zoom(g.deltaY<0,[Ze,Ge])}}),fn(Zr(o),"clickHandler",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,D=T.selectElements;D.size>0&&T.clearSelectElements(),T.eventCenter.emit(it.BLANK_CLICK,{e:g})}}),fn(Zr(o),"handleContextMenu",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){g.preventDefault();var T=o.props.graphModel,D=T.getPointByClient({x:g.clientX,y:g.clientY});T.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:g,position:D})}}),fn(Zr(o),"mouseDownHandler",function(g){var E=o.props.graphModel,T=E.eventCenter,D=E.editConfigModel,L=E.transformModel.SCALE_X,H=E.gridSize,Z=g.target,ae=!D.adjustEdge&&!D.adjustNodePosition;(Z.getAttribute("name")==="canvas-overlay"||ae)&&(D.stopMoveGraph?T.emit(it.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(H*L),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new ro({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return HA(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props,g=p.children,E=p.dnd,T=this.state.isDraging;return Object(oe.g)("svg",Nf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(oe.g)("g",{transform:s},g))}}]),t}(oe.a))||av,WA=YA;function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var sv;function KA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VA(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function ZA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function JA(e){var r=qA();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QA(this,o)}}function QA(e,r){if(r&&(Ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fv(e)}function fv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function eT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tT=Ur(sv=function(e){ZA(t,e);var r=JA(t);function t(){var n;KA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),eT(fv(n),"setToolOverlayRef",function(p){var g=n.props.tool,E=g.getInstance();E.components.forEach(function(T){return T(E,p)}),E.components=[]}),n}return VA(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,p=a.getTools(),g=p.map(function(E){return Object(oe.g)(E,{graphModel:s,logicFlow:a.instance})});return a.components=g,g}},{key:"render",value:function(){return Object(oe.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(oe.a))||sv;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function rT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nT(e,r,t){return r&&cv(e.prototype,r),t&&cv(e,t),e}function oT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function iT(e){var r=sT();return function(){var n=Ja(e),o;if(r){var a=Ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aT(this,o)}}function aT(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uT(e)}function uT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}var lT=function(e){oT(t,e);var r=iT(t);function t(){return rT(this,t),r.apply(this,arguments)}return nT(t,[{key:"render",value:function(){var o=this.props.background;return Object(oe.g)("div",{className:"lf-background"},Object(oe.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(oe.a);function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(t){return typeof t}:Qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}var dv;function fT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cT(e,r,t){return r&&pv(e.prototype,r),t&&pv(e,t),e}function dT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function pT(e){var r=vT();return function(){var n=qa(e),o;if(r){var a=qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hT(this,o)}}function hT(e,r){if(r&&(Qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hv(e)}function hv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}function yT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vv=Ur(dv=function(e){dT(t,e);var r=pT(t);function t(){var n;fT(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),yT(hv(n),"id",to()),n}return cT(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,g=p===void 0?2:p,E=o.size,T=o.visible,D=Math.min(Math.max(2,g),E/2),L=1;return T||(L=0),Object(oe.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:s,opacity:L})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,g=p===void 0?1:p,E=o.size,T=o.visible,D=Math.min(Math.max(1,g),E/2),L="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),H=1;return T||(H=0),Object(oe.g)("path",{d:L,stroke:s,strokeWidth:D,opacity:H})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,p=o.graphModel.transformModel,g=p.SCALE_X,E=p.SKEW_Y,T=p.SKEW_X,D=p.SCALE_Y,L=p.TRANSLATE_X,H=p.TRANSLATE_Y,Z=[g,E,T,D,L,H].join(","),ae="matrix(".concat(Z,")");return Object(oe.g)("div",{className:"lf-grid"},Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(oe.g)("defs",null,Object(oe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ae,x:"0",y:"0",width:s,height:s},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(oe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(oe.a))||dv;vv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function gT(e,r){return ET(e)||OT(e,r)||bT(e,r)||mT()}function mT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bT(e,r){if(!!e){if(typeof e=="string")return yv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yv(e,r)}}function yv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function OT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ET(e){if(Array.isArray(e))return e}function xT(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=gT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=eu(a);s!=="object"&&(r[o]=a)}}),Object(oe.g)("line",r)}var no=xT;function tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var gv;function mv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ru(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mv(Object(t),!0).forEach(function(n){ST(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ST(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function PT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AT(e,r,t){return r&&bv(e.prototype,r),t&&bv(e,t),e}function TT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function MT(e){var r=DT();return function(){var n=nu(e),o;if(r){var a=nu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wT(this,o)}}function wT(e,r){if(r&&(tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NT(e)}function NT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(e)}var jT=Ur(gv=function(e){TT(t,e);var r=MT(t);function t(){return PT(this,t),r.apply(this,arguments)}return AT(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,p=o.isShowVertical,g=o.getStyle(),E=a.x,T=E===void 0?0:E,D=a.y,L=D===void 0?0:D,H=ru(ru({x1:-1e5,y1:L,x2:1e5,y2:L},g),{},{stroke:s?g.stroke:"none"}),Z=ru(ru({x1:T,y1:-1e5,x2:T,y2:1e5},g),{},{stroke:p?g.stroke:"none"});return Object(oe.g)("g",{className:"lf-snapline"},Object(oe.g)(no,H),Object(oe.g)(no,Z))}}]),t}(oe.a))||gv;function ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(t){return typeof t}:ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function CT(e,r){return LT(e)||BT(e,r)||IT(e,r)||RT()}function RT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IT(e,r){if(!!e){if(typeof e=="string")return Ov(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ov(e,r)}}function Ov(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function BT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function LT(e){if(Array.isArray(e))return e}function Cn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,s=e.radius,p=r-n/2,g=t-o/2,E={};return Object.entries(e).forEach(function(T){var D=CT(T,2),L=D[0],H=D[1],Z=ou(H);Z!=="object"&&(E[L]=H)}),a?E.className="lf-basic-shape ".concat(a):E.className="lf-basic-shape",s&&(E.rx=s,E.ry=s),E.x=p,E.y=g,Object(oe.g)("rect",E)}Cn.defaultProps={className:"",radius:""};function iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}var Ev;function No(){return No=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},No.apply(this,arguments)}function xv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xv(Object(t),!0).forEach(function(n){_T(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _T(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FT(e,r,t){return r&&Pv(e.prototype,r),t&&Pv(e,t),e}function GT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function HT(e){var r=XT();return function(){var n=au(e),o;if(r){var a=au(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return UT(this,o)}}function UT(e,r){if(r&&(iu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kT(e)}function kT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},au(e)}var $T=Ur(Ev=function(e){GT(t,e);var r=HT(t);function t(){return zT(this,t),r.apply(this,arguments)}return FT(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,s=o.editConfigModel,p=s.hoverOutline,g=s.nodeSelectedOutline,E=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var D=T.isHovered,L=T.isSelected,H=T.x,Z=T.y,ae=T.width,ue=T.height;if(g&&L||p&&D){var se=T.getOutlineStyle(),we={};if(Object.keys(se).forEach(function(be){be!=="hover"&&(we[be]=se[be])}),D){var ge=se.hover;we=Sv(Sv({},we),ge)}E.push(Object(oe.g)(Cn,No({className:"lf-outline-node",x:H,y:Z,width:ae+10,height:ue+10},we)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfigModel,p=s.edgeSelectedOutline,g=s.hoverOutline,E=[],T=0;T<a.length;T++){var D=a[T];(p&&D.isSelected||g&&D.isHovered)&&(D.modelType===pt.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===pt.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===pt.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,p=(a.x+s.x)/2,g=(a.y+s.y)/2,E=Math.abs(a.x-s.x)+10,T=Math.abs(a.y-s.y)+10,D=o.getOutlineStyle();return Object(oe.g)(Cn,No({className:"lf-outline-edge",x:p,y:g,width:E,height:T},D))}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=To(a),p=hi(s,8),g=p.x,E=p.y,T=p.width,D=p.height,L=o.getOutlineStyle();return Object(oe.g)(Cn,No({className:"lf-outline",x:g,y:E,width:T,height:D},L))}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Ua(a),p=hi(s,8),g=p.x,E=p.y,T=p.width,D=p.height,L=o.getOutlineStyle();return Object(oe.g)(Cn,No({className:"lf-outline",x:g,y:E,width:T,height:D},L))}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(oe.a))||Ev;function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function YT(e,r){return ZT(e)||VT(e,r)||KT(e,r)||WT()}function WT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KT(e,r){if(!!e){if(typeof e=="string")return Av(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Av(e,r)}}function Av(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ZT(e){if(Array.isArray(e))return e}function gi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,s=a===void 0?4:a,p=e.className,g={cx:t,cy:o,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var T=YT(E,2),D=T[0],L=T[1],H=uu(L);H!=="object"&&(g[D]=L)}),p?g.className="lf-basic-shape ".concat(p):g.className="lf-basic-shape",Object(oe.g)("circle",g)}function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var Tv;function JT(e,r){return tM(e)||eM(e,r)||qT(e,r)||QT()}function QT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qT(e,r){if(!!e){if(typeof e=="string")return Mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mv(e,r)}}function Mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function eM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function tM(e){if(Array.isArray(e))return e}function mi(){return mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mi.apply(this,arguments)}function wv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Nv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dv(e,r,t){return r&&Nv(e.prototype,r),t&&Nv(e,t),e}function jv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lf(e,r)}function Cv(e){var r=nM();return function(){var n=fu(e),o;if(r){var a=fu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rM(this,o)}}function rM(e,r){if(r&&(su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(e)}function lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fu(e){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fu(e)}function _f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Rv=function(e){jv(t,e);var r=Cv(t);function t(){var n;return wv(this,t),n=r.call(this),_f(lu(n),"dragHandler",void 0),_f(lu(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,g=s.bezierModel,E=s.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),D=T.canvasOverlayPosition,L=D.x,H=D.y;g.updateAdjustAnchor({x:L,y:H},E)}),_f(lu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new ro({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Dv(t,[{key:"render",value:function(){var o=this,a=this.props.position,s=a.x,p=a.y,g=this.props.bezierModel,E=g.getEdgeStyle(),T=E.adjustAnchor;return Object(oe.g)(gi,mi({className:"lf-bezier-adjust-anchor",x:s,y:p},T,{onMouseDown:function(L){o.dragHandler.handleMouseDown(L)}}))}}]),t}(oe.a),oM=Ur(Tv=function(e){jv(t,e);var r=Cv(t);function t(){return wv(this,t),r.apply(this,arguments)}return Dv(t,[{key:"getBezierAdjust",value:function(o,a){var s=o.path,p=o.id,g=Ua(s),E=JT(g,4),T=E[0],D=E[1],L=E[2],H=E[3],Z=o.getEdgeStyle(),ae=Z.adjustLine,ue=[];return ue.push(Object(oe.g)(no,mi({x1:T.x,y1:T.y,x2:D.x,y2:D.y},ae))),ue.push(Object(oe.g)(Rv,{position:D,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),ue.push(Object(oe.g)(no,mi({x1:H.x,y1:H.y,x2:L.x,y2:L.y},ae))),ue.push(Object(oe.g)(Rv,{position:L,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),ue}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,s=[],p=0;p<a.length;p++){var g=a[p];g.isSelected&&g.modelType===pt.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,o))}return s}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(oe.a))||Tv;function cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var Iv;function iM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aM(e,r,t){return r&&Bv(e.prototype,r),t&&Bv(e,t),e}function uM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function sM(e){var r=cM();return function(){var n=du(e),o;if(r){var a=du(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lM(this,o)}}function lM(e,r){if(r&&(cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fM(e)}function fM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(e)}var dM=Ur(Iv=function(e){uM(t,e);var r=sM(t);function t(){return iM(this,t),r.apply(this,arguments)}return aM(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props.children;return Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(oe.g)("g",{transform:s},p))}}]),t}(oe.a))||Iv;function pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var Lv;function Ff(){return Ff=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ff.apply(this,arguments)}function pM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hM(e,r,t){return r&&_v(e.prototype,r),t&&_v(e,t),e}function vM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function yM(e){var r=bM();return function(){var n=hu(e),o;if(r){var a=hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return gM(this,o)}}function gM(e,r){if(r&&(pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mM(e)}function mM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(e)}var OM=Ur(Lv=function(e){vM(t,e);var r=yM(t);function t(){return pM(this,t),r.apply(this,arguments)}return hM(t,[{key:"getComponent",value:function(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,g=p(o.type);return Object(oe.g)(g,{key:o.id,model:o,graphModel:a,overlay:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,p=a.tool,g=a.options,E=a.dnd,T=a.snaplineModel,D={};g.width&&(D.width="".concat(s.width,"px")),g.height&&(D.height="".concat(s.height,"px"));var L=s.fakerNode,H=s.editConfigModel,Z=H.adjustEdge;return Object(oe.g)("div",{className:"lf-graph",style:D},Object(oe.g)(WA,{graphModel:s,dnd:E},Object(oe.g)("g",{className:"lf-base"},xa(s.sortElements,function(ae){return o.getComponent(ae,s)})),L?this.getComponent(L,s):""),Object(oe.g)(dM,{graphModel:s},Object(oe.g)($T,{graphModel:s}),Z?Object(oe.g)(oM,{graphModel:s}):"",g.snapline!==!1?Object(oe.g)(jT,{snaplineModel:T}):""),Object(oe.g)(tT,{graphModel:s,tool:p}),g.background&&Object(oe.g)(lT,{background:g.background}),g.grid&&Object(oe.g)(vv,Ff({},g.grid,{graphModel:s})))}}]),t}(oe.a))||Lv,EM=OM;function zv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zv(Object(t),!0).forEach(function(n){cn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SM(e,r,t){return r&&Fv(e.prototype,r),t&&Fv(e,t),e}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var PM=function(){function e(r){var t=this;xM(this,e),cn(this,"nodeConfig",void 0),cn(this,"lf",void 0),cn(this,"fakerNode",void 0),cn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),cn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(vu(vu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),cn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),s=a.x,p=a.y;t.fakerNode.moveTo(s,p);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:g})}return!1}),cn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),cn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(vu(vu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:s,e:o})}});var n=r.lf;this.lf=n}return SM(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Bd(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:n,y:o}),p=s.canvasOverlayPosition,g=p.x,E=p.y;return{x:Nn(g,a),y:Nn(E,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Gv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},Hv,e)}var Hv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var gt,Uv;function Hf(e,r){return wM(e)||MM(e,r)||TM(e,r)||AM()}function AM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TM(e,r){if(!!e){if(typeof e=="string")return kv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kv(e,r)}}function kv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function MM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function wM(e){if(Array.isArray(e))return e}function Xv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xv(Object(t),!0).forEach(function(n){Yv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function NM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function DM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jM(e,r,t){return r&&$v(e.prototype,r),t&&$v(e,t),e}function Do(){return typeof Reflect!="undefined"&&Reflect.get?Do=Reflect.get:Do=function(r,t,n){var o=CM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Do.apply(this,arguments)}function CM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Rn(e),e!==null););return e}function RM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uf(e,r)}function Uf(e,r){return Uf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uf(e,r)}function IM(e){var r=LM();return function(){var n=Rn(e),o;if(r){var a=Rn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return BM(this,o)}}function BM(e,r){if(r&&(yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mu(e)}function mu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(e)}function Yv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Lr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var kf=(gt=function(e){RM(t,e);var r=IM(t);function t(){var n;DM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Yv(mu(n),"modelType",pt.BEZIER_EDGE),NM(mu(n),"path",Uv,mu(n)),n}return jM(t,[{key:"initEdgeData",value:function(o){this.offset=100,Do(Rn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Do(Rn(t.prototype),"getEdgeStyle",this).call(this);return gu(gu({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var p=s.x,g=s.y;o+=p,a+=g}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Do(Rn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,g=s.y;return{x:p,y:g}});return gu(gu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,s=Fh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return s}},{key:"getPath",value:function(o){var a=Hf(o,4),s=a[0],p=a[1],g=a[2],E=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(g.x," ").concat(g.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,s=o.ePre;this.updatePath(a,s)}},{key:"updatePath",value:function(o,a){var s={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var g=this.getControls();o=g.sNext,a=g.ePre}this.pointsList=[s,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var s=Hf(this.pointsList,3),p=s[1],g=s[2];p.x+=o,p.y+=a,this.updatePath(p,g)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var s=Hf(this.pointsList,3),p=s[1],g=s[2];g.x+=o,g.y+=a,this.updatePath(p,g)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,g=o.targetNode,E=Fh({start:a,end:s,sourceNode:p,targetNode:g,offset:this.offset}),T=E.sNext,D=E.ePre;this.pointsList=[a,T,D,s],this.initPoints()}}]),t}(yf),Uv=Lr(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lr(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Lr(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Lr(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Lr(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Lr(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Lr(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Lr(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Lr(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Lr(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Lr(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function _M(e){return e==null}var zM=_M,Ce,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly,fy,cy;function bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(t){return typeof t}:bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function FM(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=GM(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,p;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return a=E.done,E},e:function(E){s=!0,p=E},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw p}}}}function GM(e,r){if(!!e){if(typeof e=="string")return dy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dy(e,r)}}function dy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function py(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?py(Object(t),!0).forEach(function(n){dr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ut(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function HM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UM(e,r,t){return r&&hy(e.prototype,r),t&&hy(e,t),e}function dr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var dn=(Ce=function(){function e(r,t){HM(this,e),dr(this,"id",to()),Ut(this,"type",Wv,this),Ut(this,"x",Kv,this),Ut(this,"y",Vv,this),Ut(this,"text",Zv,this),Ut(this,"properties",Jv,this),Ut(this,"_width",Qv,this),Ut(this,"_height",qv,this),Ut(this,"anchorsOffset",ey,this),Ut(this,"isSelected",ty,this),Ut(this,"isHovered",ry,this),Ut(this,"isShowAnchor",ny,this),Ut(this,"isDragging",oy,this),Ut(this,"isHitable",iy,this),Ut(this,"draggable",ay,this),Ut(this,"visible",uy,this),dr(this,"virtual",!1),dr(this,"graphModel",void 0),Ut(this,"zIndex",sy,this),Ut(this,"state",ly,this),Ut(this,"autoToFront",fy,this),Ut(this,"style",cy,this),dr(this,"BaseType",Gt.NODE),dr(this,"modelType",pt.NODE),dr(this,"additionStateData",void 0),dr(this,"targetRules",[]),dr(this,"sourceRules",[]),dr(this,"moveRules",[]),dr(this,"hasSetTargetRules",!1),dr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return UM(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,NP(t));var s=this.graphModel.overlapMode;s===br.INCREASE&&(this.zIndex=t.zIndex||hf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s=this.properties;Object(f.x)(s)&&(s=Object(f.I)(s));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===br.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,this,t,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,t,this,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules),p=FM(s),g;try{for(p.s();!(g=p.n()).done;){var E=g.value,T=E(this,t,n);if(!T)return!1;if(bu(T)==="object"){var D=T;if(D.x===!1&&D.y===!1)return!1;o=o&&D.x,a=a&&D.y}}}catch(L){p.e(L)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(s,p){return s.length?(s=s,{id:"".concat(n,"_").concat(p),x:o+s[0],y:a+s[1]}):(s=s,ar(ar({},s),{},{x:o+s.x,y:a+s.y,id:s.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!zM(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1;if(o)a=!0,s=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,s=p):(a=p.x,s=p.y)}if(a){var g=this.x+t;this.x=g,this.text&&this.moveText(t,0)}if(s){var E=this.y+n;this.y=E,this.text&&this.moveText(0,n)}return a||s}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1,p=0,g=0;if(o)a=!0,s=!0;else{var E=this.isAllowMoveNode(t,n);typeof E=="boolean"?(a=E,s=E):(a=E.x,s=E.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(s&&n){var D=this.y+n;this.y=D,this.text&&this.moveText(0,n),g=n}return[p,g]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,s=n-this.y;return!o&&!this.isAllowMoveNode(a,s)?!1:(this.text&&this.text&&this.moveText(a,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,s=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,editable:E,draggable:g,x:a+t,y:s+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},dr({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},dr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Wv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Jv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qv=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),qv=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ey=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ty=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iy=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uy=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sy=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ly=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fy=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cy=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function Ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(t){return typeof t}:Ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}var pn,vy;function yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yy(Object(t),!0).forEach(function(n){by(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function XM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function my(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $M(e,r,t){return r&&my(e.prototype,r),t&&my(e,t),e}function Eu(){return typeof Reflect!="undefined"&&Reflect.get?Eu=Reflect.get:Eu=function(r,t,n){var o=YM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Eu.apply(this,arguments)}function YM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=jo(e),e!==null););return e}function WM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function KM(e){var r=ZM();return function(){var n=jo(e),o;if(r){var a=jo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VM(this,o)}}function VM(e,r){if(r&&(Ou(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xu(e)}function xu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jo(e)}function by(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $f(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Yf=(pn=function(e){WM(t,e);var r=KM(t);function t(){var n;XM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),by(xu(n),"modelType",pt.CIRCLE_NODE),kM(xu(n),"r",vy,xu(n)),n}return $M(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Eu(jo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return gy(gy({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.r;return[{x:o,y:a-s,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+s,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(dn),vy=$f(pn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$f(pn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(pn.prototype,"width"),pn.prototype),$f(pn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(pn.prototype,"height"),pn.prototype),pn);i(127);function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var tr,Oy,Ey;function Wf(e,r){return ew(e)||qM(e,r)||QM(e,r)||JM()}function JM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(e,r){if(!!e){if(typeof e=="string")return xy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xy(e,r)}}function xy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ew(e){if(Array.isArray(e))return e}function Sy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Py(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sy(Object(t),!0).forEach(function(n){My(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ay(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function tw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rw(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Pu(){return typeof Reflect!="undefined"&&Reflect.get?Pu=Reflect.get:Pu=function(r,t,n){var o=nw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Pu.apply(this,arguments)}function nw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function ow(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kf(e,r)}function Kf(e,r){return Kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kf(e,r)}function iw(e){var r=uw();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aw(this,o)}}function aw(e,r){if(r&&(Su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Co(e)}function Co(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function My(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Io(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Vf=(tr=function(e){ow(t,e);var r=iw(t);function t(){var n;tw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),My(Co(n),"modelType",pt.DIAMOND_NODE),Ay(Co(n),"rx",Oy,Co(n)),Ay(Co(n),"ry",Ey,Co(n)),n}return rw(t,[{key:"getNodeStyle",value:function(){var o=Pu(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Py(Py({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[[o,a-p],[o+s,a],[o,a+p],[o-s,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Wf(s,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Wf(s,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,s){var p=Wf(a,2),g=p[0],E=p[1];return{x:g,y:E,id:"".concat(o.id,"_").concat(s)}})}}]),t}(dn),Oy=Io(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ey=Io(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Io(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),Io(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),Io(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),Io(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var Jr,wy,Ny;function Dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function jy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dy(Object(t),!0).forEach(function(n){Iy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function sw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ry(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lw(e,r,t){return r&&Ry(e.prototype,r),t&&Ry(e,t),e}function Tu(){return typeof Reflect!="undefined"&&Reflect.get?Tu=Reflect.get:Tu=function(r,t,n){var o=fw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Tu.apply(this,arguments)}function fw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function cw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function dw(e){var r=hw();return function(){var n=Lo(e),o;if(r){var a=Lo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pw(this,o)}}function pw(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function Iy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Jf=(Jr=function(e){cw(t,e);var r=dw(t);function t(){var n;sw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Iy(Bo(n),"modelType",pt.ELLIPSE_NODE),Cy(Bo(n),"rx",wy,Bo(n)),Cy(Bo(n),"ry",Ny,Bo(n)),n}return lw(t,[{key:"getNodeStyle",value:function(){var o=Tu(Lo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return jy(jy({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(dn),wy=Mu(Jr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ny=Mu(Jr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Mu(Jr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Mu(Jr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}var Dr,By;function Qf(e,r){return mw(e)||gw(e,r)||yw(e,r)||vw()}function vw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yw(e,r){if(!!e){if(typeof e=="string")return Ly(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ly(e,r)}}function Ly(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function mw(e){if(Array.isArray(e))return e}function _y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function zy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_y(Object(t),!0).forEach(function(n){Gy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function bw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Ow(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ew(e,r,t){return r&&Fy(e.prototype,r),t&&Fy(e,t),e}function Nu(){return typeof Reflect!="undefined"&&Reflect.get?Nu=Reflect.get:Nu=function(r,t,n){var o=xw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Nu.apply(this,arguments)}function xw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function Sw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function Pw(e){var r=Tw();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Aw(this,o)}}function Aw(e,r){if(r&&(wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Du(e)}function Du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function Gy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ju(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ec=(Dr=function(e){Sw(t,e);var r=Pw(t);function t(){var n;Ow(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Gy(Du(n),"modelType",pt.POLYGON_NODE),bw(Du(n),"points",By,Du(n)),n}return Ew(t,[{key:"getNodeStyle",value:function(){var o=Nu(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return zy(zy({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,p=this.height,g=this.points.map(function(E){return{x:E[0]+o-s/2,y:E[1]+a-p/2}});return g}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,s=this.y,p=this.width,g=this.height,E=this.points;return E.map(function(T,D){var L=Qf(T,2),H=L[0],Z=L[1];return{x:a+H-p/2,y:s+Z-g/2,id:"".concat(o.id,"_").concat(D)}})}}]),t}(dn),By=ju(Dr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ju(Dr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"pointsPosition"),Dr.prototype),ju(Dr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"width"),Dr.prototype),ju(Dr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"height"),Dr.prototype),Dr);function Cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var tc,Hy;function Uy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ky(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Uy(Object(t),!0).forEach(function(n){$y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Uy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nw(e,r,t){return r&&Xy(e.prototype,r),t&&Xy(e,t),e}function Ru(){return typeof Reflect!="undefined"&&Reflect.get?Ru=Reflect.get:Ru=function(r,t,n){var o=Dw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ru.apply(this,arguments)}function Dw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function jw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function Cw(e){var r=Iw();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Rw(this,o)}}function Rw(e,r){if(r&&(Cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iu(e)}function Iu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function $y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Bw(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var nc=(tc=function(e){jw(t,e);var r=Cw(t);function t(){var n;ww(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),$y(Iu(n),"modelType",pt.RECT_NODE),Mw(Iu(n),"radius",Hy,Iu(n)),n}return Nw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Ru(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return ky(ky({},o),jt(a))}}]),t}(dn),Hy=Bw(tc.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tc);function Bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(t){return typeof t}:Bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}var In;function Yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yy(Object(t),!0).forEach(function(n){Zy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Lw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _w(e,r,t){return r&&Ky(e.prototype,r),t&&Ky(e,t),e}function Lu(){return typeof Reflect!="undefined"&&Reflect.get?Lu=Reflect.get:Lu=function(r,t,n){var o=zw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Lu.apply(this,arguments)}function zw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function Fw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},oc(e,r)}function Gw(e){var r=Uw();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Hw(this,o)}}function Hw(e,r){if(r&&(Bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vy(e)}function Vy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Zy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Jy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ic=(In=function(e){Fw(t,e);var r=Gw(t);function t(){var n;Lw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Zy(Vy(n),"modelType",pt.TEXT_NODE),n}return _w(t,[{key:"getTextStyle",value:function(){var o=Lu(Fo(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Wy(Wy({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=pf({rows:o,fontSize:s,rowsLength:o.length}),g=p.width;return g}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=pf({rows:o,fontSize:s,rowsLength:o.length}),g=p.height;return g}}]),t}(dn),Jy(In.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(In.prototype,"width"),In.prototype),Jy(In.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(In.prototype,"height"),In.prototype),In);function _u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(t){return typeof t}:_u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function kw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xw(e,r,t){return r&&Qy(e.prototype,r),t&&Qy(e,t),e}function $w(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ac(e,r)}function Yw(e){var r=Kw();return function(){var n=zu(e),o;if(r){var a=zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Ww(this,o)}}function Ww(e,r){if(r&&(_u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qy(e)}function qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(e)}function Vw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uc=function(e){$w(t,e);var r=Yw(t);function t(){var n;kw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Vw(qy(n),"modelType",pt.HTML_NODE),n}return Xw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(dn),_r,eg,tg,rg;function ng(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Zw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ng(Object(t),!0).forEach(function(n){ig(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ng(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Jw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qw(e,r,t){return r&&og(e.prototype,r),t&&og(e,t),e}function ig(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ag=(_r=function(){function e(r){Jw(this,e),ig(this,"graphModel",void 0),sc(this,"isShowHorizontal",eg,this),sc(this,"isShowVertical",tg,this),sc(this,"position",rg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return Qw(e,[{key:"getStyle",value:function(){return Zw({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,s=!1,p=!1,g=0;g<n.length;g++){var E=n[g];if(E.id!==t.id&&(o===E.x&&(s=!0),a===E.y&&(p=!0),s&&p))break}return{isShowVertical:s,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)p=Or(g);else{var E=this.graphModel.getNodeModelById(s);p=Or(E)}}for(var T=0;T<n.length;T++){var D=n[T];if(D.id!==t.id){var L=Or(D);if(L.minY===p.minY||L.maxY===p.minY){o=!0,a=p.minY;break}if(L.minY===p.maxY||L.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)p=Or(g);else{var E=this.graphModel.getNodeModelById(s);p=Or(E)}}for(var T=0;T<n.length;T++){var D=n[T];if(D.id!==t.id){var L=Or(D);if(L.minX===p.minX||L.maxX===p.minX){o=!0,a=p.minX;break}if(L.minX===p.maxX||L.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!s){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),eg=bi(_r.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=bi(_r.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg=bi(_r.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi(_r.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(_r.prototype,"clearSnapline"),_r.prototype),bi(_r.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(_r.prototype,"setNodeSnapLine"),_r.prototype),_r),Oi=new Map,ug=function(r){var t=to();function n(){r();var a=Oi.get(t);if(a){var s=window.requestAnimationFrame(n);Oi.set(t,s)}}var o=window.requestAnimationFrame(n);return Oi.set(t,o),t},Fu=function(r){var t=Oi.get(r);t&&(window.cancelAnimationFrame(t),Oi.delete(r))};function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Ei(){return Ei=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ei.apply(this,arguments)}function sg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sg(Object(t),!0).forEach(function(n){qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function qw(e,r){return n1(e)||r1(e,r)||t1(e,r)||e1()}function e1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t1(e,r){if(!!e){if(typeof e=="string")return lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lg(e,r)}}function lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function r1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function n1(e){if(Array.isArray(e))return e}function o1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i1(e,r,t){return r&&fg(e.prototype,r),t&&fg(e,t),e}function a1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},lc(e,r)}function u1(e){var r=l1();return function(){var n=Uu(e),o;if(r){var a=Uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return s1(this,o)}}function s1(e,r){if(r&&(Gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}function qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f1=function(e){a1(t,e);var r=u1(t);function t(){var n;return o1(this,t),n=r.call(this),qr(Qr(n),"preTargetNode",void 0),qr(Qr(n),"sourceRuleResults",void 0),qr(Qr(n),"targetRuleResults",void 0),qr(Qr(n),"dragHandler",void 0),qr(Qr(n),"t",void 0),qr(Qr(n),"onDragStart",function(o){var a=o.event,s=n.props,p=s.anchorData,g=s.nodeModel,E=s.graphModel,T=E.overlapMode;E.selectNodeById(g.id),T!==br.INCREASE&&g.autoToFront&&E.toFront(g.id),E.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:g}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),qr(Qr(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,g=s.nodeModel,E=s.anchorData,T=p.transformModel,D=p.eventCenter,L=p.width,H=p.height,Z=p.editConfigModel,ae=Z.autoExpand,ue=Z.stopMoveGraph,se=a.clientX,we=a.clientY,ge=p.getPointByClient({x:se,y:we}),be=ge.domOverlayPosition,Fe=be.x,Re=be.y,Ze=ge.canvasOverlayPosition,Ge=Ze.x,ht=Ze.y;n.t&&Fu(n.t);var yt=[],sr=10;Fe<10?yt=[sr,0]:Fe+10>L?yt=[-sr,0]:Re<10?yt=[0,sr]:Re+10>H&&(yt=[0,-sr]),n.setState({endX:Ge,endY:ht,draging:!0}),n.moveAnchorEnd(Ge,ht),yt.length>0&&!ue&&ae&&(n.t=ug(function(){var xr=yt,on=qw(xr,2),_n=on[0],uo=on[1];T.translate(_n,uo);var ko=n.state,zn=ko.endX,Xo=ko.endY;n.setState({endX:zn-_n,endY:Xo-uo}),n.moveAnchorEnd(zn-_n,Xo-uo)})),D.emit(it.ANCHOR_DRAG,{data:E,e:a,nodeModel:g})}),qr(Qr(n),"onDragEnd",function(o){n.t&&Fu(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,p=a.nodeModel,g=a.anchorData;s.eventCenter.emit(it.ANCHOR_DRAGEND,{data:g,e:o,nodeModel:p})}),qr(Qr(n),"checkEnd",function(o){var a=n.props,s=a.graphModel,p=a.nodeModel,g=a.anchorData,E=g.x,T=g.y,D=g.id;s.edgeType;var L=n.state,H=L.endX,Z=L.endY,ae=L.draging,ue=Na({x:H,y:Z},s);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ae&&ue&&ue.node){var se=ue.node,we=ue.anchor.id,ge="".concat(p.id,"_").concat(se.id,"_").concat(we,"_").concat(D),be=n.sourceRuleResults.get(ge)||{},Fe=be.isAllPass,Re=be.msg,Ze=n.targetRuleResults.get(ge)||{},Ge=Ze.isAllPass,ht=Ze.msg;if(Fe&&Ge){se.setElementState(Et.DEFAULT);var yt=s.edgeGenerator(p.getData(),s.getNodeModelById(ue.node.id).getData()),sr=s.addEdge(Hu(Hu({},yt),{},{sourceNodeId:p.id,sourceAnchorId:D,startPoint:{x:E,y:T},targetNodeId:ue.node.id,targetAnchorId:ue.anchor.id,endPoint:{x:ue.anchor.x,y:ue.anchor.y}})),xr=n.props.anchorData;s.eventCenter.emit(it.ANCHOR_DROP,{data:xr,e:o,nodeModel:p,edgeModel:sr})}else{var on=se.getData();s.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:on,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new ro({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return i1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,s=o.style,p=o.node,g=p.getAnchorShape(a);if(g)return g;var E=a.x,T=a.y,D=Hu(Hu({},s),s.hover);return Object(oe.g)("g",null,Object(oe.g)(gi,Ei({className:"lf-node-anchor-hover"},D,{x:E,y:T})),Object(oe.g)(gi,Ei({className:"lf-node-anchor"},s,{x:E,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var s=this.props,p=s.graphModel,g=s.nodeModel,E=s.anchorData,T=Na({x:o,y:a},p);if(T){var D=T.node,L=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Et.DEFAULT),E.id===L)return;this.preTargetNode=D;var H="".concat(g.id,"_").concat(D.id,"_").concat(L,"_").concat(E.id);if(!this.targetRuleResults.has(H)){var Z=T.anchor,ae=g.isAllowConnectedAsSource(D,E,Z),ue=D.isAllowConnectedAsTarget(g,E,Z);this.sourceRuleResults.set(H,ja(ae)),this.targetRuleResults.set(H,ja(ue))}var se=this.sourceRuleResults.get(H),we=se.isAllPass,ge=this.targetRuleResults.get(H),be=ge.isAllPass;we&&be?D.setElementState(Et.ALLOW_CONNECT):D.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,p=o.endX,g=o.endY,E=Wr(a,s,p,g);return E>10}},{key:"render",value:function(){var o=this,a=this.state,s=a.startX,p=a.startY,g=a.endX,E=a.endY,T=this.props,D=T.anchorData.edgeAddable,L=T.edgeStyle;return Object(oe.g)("g",{className:"lf-anchor"},Object(oe.g)("g",{onMouseDown:function(Z){D!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(oe.g)(no,Ei({x1:s,y1:p,x2:g,y2:E},L,{"pointer-events":"none"})))}}]),t}(oe.a),c1=f1;i(63);function cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function d1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cg(Object(t),!0).forEach(function(n){p1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function p1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(t){return typeof t}:ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function h1(e,r){return m1(e)||g1(e,r)||y1(e,r)||v1()}function v1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1(e,r){if(!!e){if(typeof e=="string")return dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dg(e,r)}}function dg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function g1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function m1(e){if(Array.isArray(e))return e}function pg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,s=e.fontSize,p=e.fill,g=p===void 0?"currentColor":p,E=e.overflowMode,T=E===void 0?"default":E,D=e.textWidth,L=D===void 0?"":D,H=e.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:g};if(Object.entries(e).forEach(function(be){var Fe=h1(be,2),Re=Fe[0],Ze=Fe[1],Ge=ku(Ze);Ge!=="object"&&(Z[Re]=Ze)}),a){var ae=String(a).split(/[\r\n]/g),ue=ae.length;if(T!=="default"){var se=H.BaseType,we=H.modelType;if(se===Gt.NODE&&we!==pt.TEXT_NODE||se===Gt.EDGE&&L)return b1(e)}if(ue>1){var ge=ae.map(function(be,Fe){var Re=s+2,Ze=(Fe-(ue-1)/2)*Re;return Object(oe.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},be)});return Object(oe.g)("text",Z,ge)}return Object(oe.g)("text",Z,a)}}function b1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,s=e.lineHeight,p=e.wrapPadding,g=p===void 0?"0, 0":p,E=e.overflowMode,T=e.x,D=e.y,L=n.width,H=n.textHeight,Z=e.textWidth||L,ae=String(r).split(/[\r\n]/g),ue=ae.length,se=Wp({rows:ae,style:{fontSize:"".concat(t,"px"),width:"".concat(Z,"px"),fontFamily:a,lineHeight:s,padding:g},rowsLength:ue,className:"lf-get-text-height"}),we=n.height>se?n.height:se;H&&(we=H);var ge=E==="ellipsis";return Object(oe.g)("g",null,Object(oe.g)("foreignObject",{width:Z,height:we,x:T-Z/2,y:D-we/2},Object(oe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:we,width:Z,padding:g}},Object(oe.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:d1({},e)},ae.map(function(be){return Object(oe.g)("div",{className:"lf-node-text--auto-wrap-inner"},be)})))))}function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function O1(e,r){return P1(e)||S1(e,r)||x1(e,r)||E1()}function E1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1(e,r){if(!!e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function S1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function P1(e){if(Array.isArray(e))return e}function A1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T1(e,r,t){return r&&vg(e.prototype,r),t&&vg(e,t),e}function M1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function w1(e){var r=D1();return function(){var n=$u(e),o;if(r){var a=$u(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return N1(this,o)}}function N1(e,r){if(r&&(Xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yg=function(e){M1(t,e);var r=w1(t);function t(n){var o;A1(this,t),o=r.call(this),oo(Bn(o),"dragHandler",void 0),oo(Bn(o),"sumDeltaX",0),oo(Bn(o),"sumDeltaY",0),oo(Bn(o),"stepDrag",void 0),oo(Bn(o),"onDraging",function(p){var g=p.deltaX,E=p.deltaY,T=o.props,D=T.model,L=T.graphModel.transformModel,H=L.fixDeltaXY(g,E),Z=O1(H,2),ae=Z[0],ue=Z[1];D.moveText(ae,ue)}),oo(Bn(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var g=o.props.model;g.setElementState(Et.TEXT_EDIT)}}),oo(Bn(o),"mouseDownHandle",function(p){var g=o.props,E=g.draggable,T=g.graphModel.editConfigModel.nodeTextDraggable;(E||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,s=n.draggable;return o.stepDrag=new ro({onDraging:o.onDraging,step:1,model:a,isStopPropagation:s}),o}return T1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.text,g=s.editConfigModel,E=p.value,T=p.x,D=p.y,L=p.editable,H=p.draggable,Z={x:T,y:D,className:"",value:E};L?Z.className="lf-element-text":H||g.nodeTextDraggable?Z.className="lf-text-draggable":Z.className="lf-text-disabled";var ae=a.getTextStyle();return Object(oe.g)(pg,fc({},Z,ae,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(oe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(oe.a),j1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Wu(e,r){return B1(e)||I1(e,r)||R1(e,r)||C1()}function C1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1(e,r){if(!!e){if(typeof e=="string")return gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gg(e,r)}}function gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function I1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function B1(e){if(Array.isArray(e))return e}function L1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function z1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function F1(e){var r=H1();return function(){var n=Ku(e),o;if(r){var a=Ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return G1(this,o)}}function G1(e,r){if(r&&(Yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hn=function(e){z1(t,e);var r=F1(t);function t(n){var o;L1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(E){var T=E.event,D=T.clientX,L=T.clientY,H=o.props,Z=H.model,ae=H.graphModel,ue=ae.getPointByClient({x:D,y:L}),se=ue.canvasOverlayPosition,we=se.x,ge=se.y;o.moveOffset={x:Z.x-we,y:Z.y-ge}}),ur(rr(o),"onDraging",function(E){var T=E.event,D=o.props,L=D.model,H=D.graphModel,Z=H.editConfigModel,ae=Z.stopMoveGraph,ue=Z.autoExpand,se=H.transformModel,we=H.width,ge=H.height,be=H.gridSize;L.isDragging=!0;var Fe=T.clientX,Re=T.clientY,Ze=H.getPointByClient({x:Fe,y:Re}),Ge=Ze.canvasOverlayPosition,ht=Ge.x,yt=Ge.y,sr=se.CanvasPointToHtmlPoint([ht,yt]),xr=Wu(sr,2),on=xr[0],_n=xr[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=Nn(ht,be),yt=Nn(yt,be),!we||!ge){H.moveNode2Coordinate(L.id,ht,yt);return}var uo=on<0||_n<0||on>we||_n>ge;if(!(ue&&!ae&&uo)){var ko=se.CanvasPointToHtmlPoint([ht-L.width/2,yt-L.height/2]),zn=Wu(ko,2),Xo=zn[0],td=zn[1],wC=se.CanvasPointToHtmlPoint([ht+L.width/2,yt+L.height/2]),Om=Wu(wC,2),NC=Om[0],DC=Om[1],Gs=Math.max(be,20),$o=[];Xo<0?$o=[Gs,0]:NC>H.width?$o=[-Gs,0]:td<0?$o=[0,Gs]:DC>H.height&&($o=[0,-Gs]),o.t&&Fu(o.t),$o.length>0&&!ae&&ue?o.t=ug(function(){var jC=$o,Em=Wu(jC,2),xm=Em[0],Sm=Em[1];se.translate(xm,Sm),H.moveNode(L.id,-xm/se.SCALE_X,-Sm/se.SCALE_X)}):H.moveNode2Coordinate(L.id,ht,yt)}}),ur(rr(o),"onDragEnd",function(){o.t&&Fu(o.t);var E=o.props.model;E.isDragging=!1}),ur(rr(o),"handleClick",function(E){if(!!o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var D=o.props,L=D.model,H=D.graphModel,Z=L.getData(),ae=H.getPointByClient({x:E.clientX,y:E.clientY}),ue={data:Z,e:E,position:ae},se=E.button===2,we=E.detail===2;if(!se){var ge=H.editConfigModel;H.selectNodeById(L.id,Gp(E,ge)),o.toFront(),we?(ge.nodeTextEdit&&L.text.editable&&(L.setSelected(!1),H.setElementStateById(L.id,Et.TEXT_EDIT)),H.eventCenter.emit(it.NODE_DBCLICK,ue)):(H.eventCenter.emit(it.ELEMENT_CLICK,ue),H.eventCenter.emit(it.NODE_CLICK,ue))}}}}),ur(rr(o),"handleContextMenu",function(E){E.preventDefault();var T=o.props,D=T.model,L=T.graphModel,H=D.getData(),Z=L.getPointByClient({x:E.clientX,y:E.clientY});L.setElementStateById(D.id,Et.SHOW_MENU,Z.domOverlayPosition),L.selectNodeById(D.id),L.eventCenter.emit(it.NODE_CONTEXTMENU,{data:H,e:E,position:Z}),o.toFront()}),ur(rr(o),"handleMouseDown",function(E){var T=o.props,D=T.model,L=T.graphModel;o.startTime=new Date().getTime();var H=L.editConfigModel;H.adjustNodePosition&&D.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),ur(rr(o),"setHoverON",function(E){var T=o.props,D=T.model,L=T.graphModel;if(!D.isHovered){var H=D.getData();D.setHovered(!0),L.eventCenter.emit(it.NODE_MOUSEENTER,{data:H,e:E})}}),ur(rr(o),"setHoverOFF",function(E){var T=o.props,D=T.model,L=T.graphModel,H=D.getData();!D.isHovered||(D.setHovered(!1),L.eventCenter.emit(it.NODE_MOUSELEAVE,{data:H,e:E}))}),ur(rr(o),"onMouseOut",function(E){j1&&o.setHoverOFF(E)});var a=n.graphModel,s=a.gridSize,p=a.eventCenter,g=n.model;return o.stepDrag=new ro({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:g}),o}return _1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,s=a.model,p=a.graphModel,g=s.isSelected,E=s.isHitable,T=s.isDragging,D=s.isShowAnchor;return E&&(g||D)&&!T?xa(s.anchors,function(L,H){var Z=s.getAnchorLineStyle(L),ae=s.getAnchorStyle(L);return Object(oe.g)(c1,{anchorData:L,node:o,style:ae,edgeStyle:Z,anchorIndex:H,nodeModel:s,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=s.editConfigModel,g=!1;return(a.text.draggable||p.nodeTextDraggable)&&(g=!0),Object(oe.g)(yg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,s=o.isDraging,p=o.isSelected,g="lf-node";switch(a){case Et.ALLOW_CONNECT:g+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default";break}return s&&(g+=" lf-isDragging"),p&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.overlapMode;p!==br.INCREASE&&a.autoToFront&&s.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.editConfigModel,g=p.hideAnchors,E=p.adjustNodePosition,T=s.gridSize,D=s.transformModel.SCALE_X,L=a.isHitable,H=a.draggable,Z=Object(oe.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors()),ae;return L?(E&&H&&this.stepDrag.setStep(T*D),ae=Object(oe.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Z)):ae=Object(oe.g)("g",{className:this.getStateClassName()},Z),ae}}],[{key:"getModel",value:function(o){return o}}]),t}(oe.a);function Vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function U1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function X1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function $1(e){var r=K1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Y1(this,o)}}function Y1(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W1(e)}function W1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}var vc=function(e){X1(t,e);var r=$1(t);function t(){return U1(this,t),r.apply(this,arguments)}return k1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(Cn,pc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(hn);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function V1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z1(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function J1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gc(e,r)}function Q1(e){var r=tN();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return q1(this,o)}}function q1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eN(e)}function eN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var mc=function(e){J1(t,e);var r=Q1(t);function t(){return V1(this,t),r.apply(this,arguments)}return Z1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.r,g=o.getNodeStyle();return Object(oe.g)(gi,yc({},g,{x:a,y:s,r:p}))}}]),t}(hn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function rN(e,r){return aN(e)||iN(e,r)||oN(e,r)||nN()}function nN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oN(e,r){if(!!e){if(typeof e=="string")return Eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eg(e,r)}}function Eg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function iN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function aN(e){if(Array.isArray(e))return e}function xg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=rN(o,2),s=a[0],p=a[1],g=qu(p);g!=="object"&&(n[s]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(oe.g)("polygon",n)}function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function bc(){return bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bc.apply(this,arguments)}function uN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function lN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Oc(e,r)}function Oc(e,r){return Oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Oc(e,r)}function fN(e){var r=pN();return function(){var n=ts(e),o;if(r){var a=ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cN(this,o)}}function cN(e,r){if(r&&(es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dN(e)}function dN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}var Ec=function(e){lN(t,e);var r=fN(t);function t(){return uN(this,t),r.apply(this,arguments)}return sN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.width,g=o.height,E=o.points,T=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(s-g/2,")")};return Object(oe.g)("g",D,Object(oe.g)(xg,bc({},T,{points:E,x:a,y:s})))}}]),t}(hn);function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function xc(){return xc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xc.apply(this,arguments)}function hN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vN(e,r,t){return r&&Pg(e.prototype,r),t&&Pg(e,t),e}function yN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function gN(e){var r=ON();return function(){var n=ns(e),o;if(r){var a=ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return mN(this,o)}}function mN(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bN(e)}function bN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}var Pc=function(e){yN(t,e);var r=gN(t);function t(){return hN(this,t),r.apply(this,arguments)}return vN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)("g",null,Object(oe.g)(xg,xc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(hn);function os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function EN(e,r){return AN(e)||PN(e,r)||SN(e,r)||xN()}function xN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SN(e,r){if(!!e){if(typeof e=="string")return Ag(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ag(e,r)}}function Ag(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function PN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function AN(e){if(Array.isArray(e))return e}function TN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,s=a===void 0?4:a,p=e.ry,g=p===void 0?4:p,E=e.className,T={cx:t,cy:o,rx:s,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(D){var L=EN(D,2),H=L[0],Z=L[1],ae=os(Z);ae!=="object"&&(T[H]=Z)}),E?T.className="lf-basic-shape ".concat(E):T.className="lf-basic-shape",Object(oe.g)("ellipse",T)}function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function Ac(){return Ac=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ac.apply(this,arguments)}function MN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function NN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tc(e,r)}function Tc(e,r){return Tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Tc(e,r)}function DN(e){var r=RN();return function(){var n=as(e),o;if(r){var a=as(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return jN(this,o)}}function jN(e,r){if(r&&(is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CN(e)}function CN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},as(e)}var Mc=function(e){NN(t,e);var r=DN(t);function t(){return MN(this,t),r.apply(this,arguments)}return wN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(TN,Ac({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(hn);function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){IN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function IN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function _N(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wc(e,r)}function zN(e){var r=HN();return function(){var n=ss(e),o;if(r){var a=ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return FN(this,o)}}function FN(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GN(e)}function GN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}var Nc=function(e){_N(t,e);var r=zN(t);function t(){return BN(this,t),r.apply(this,arguments)}return LN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text;if(s&&s.value&&a.background&&a.background.fill!=="transparnet"){var p=s.x,g=s.y,E=o.width,T=o.height,D=wg(wg({},a.background),{},{x:p,y:g-1,width:E,height:T});return Object(oe.g)(Cn,D)}}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getBackground())}}]),t}(hn);function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Dc(){return Dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dc.apply(this,arguments)}function UN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kN(e,r,t){return r&&Dg(e.prototype,r),t&&Dg(e,t),e}function XN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function $N(e){var r=WN();return function(){var n=fs(e),o;if(r){var a=fs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YN(this,o)}}function YN(e,r){if(r&&(ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xi(e)}function xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(e)}function cs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cc=function(e){XN(t,e);var r=$N(t);function t(){var n;UN(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),cs(xi(n),"ref",void 0),cs(xi(n),"currentProperties",void 0),cs(xi(n),"preProperties",void 0),cs(xi(n),"setRef",function(p){n.ref=p}),n}return kN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.height,g=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(oe.g)("foreignObject",Dc({},E,{x:a-g/2,y:s-p/2,width:g,height:p,ref:this.setRef}))}}]),t}(hn);function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Rc(){return Rc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Rc.apply(this,arguments)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function io(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){Lc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function KN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VN(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function ZN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function JN(e){var r=qN();return function(){var n=ps(e),o;if(r){var a=ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QN(this,o)}}function QN(e,r){if(r&&(ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bc(e)}function Bc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}function Lc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var eD=function(e){ZN(t,e);var r=JN(t);function t(n){var o;return KN(this,t),o=r.call(this,n),Lc(Bc(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Lc(Bc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return VN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text,p=a.background||{},g=this.state.isHoverd;if(g&&a.hover&&a.hover.background&&(p=io(io({},p),a.hover.background)),s&&s.value&&p.fill!=="transparent"){var E=a.fontSize,T=a.overflowMode,D=a.lineHeight,L=a.wrapPadding,H=a.textWidth,Z=s.value,ae=s.x,ue=s.y,se=String(Z).split(/[\r\n]/g),we=se.length,ge;if(T==="autoWrap"&&H){var be=Wp({rows:se,style:{fontSize:"".concat(E,"px"),width:"".concat(H,"px"),lineHeight:D,padding:L},rowsLength:we,className:"lf-get-text-height"});ge=io(io({},p),{},{x:ae-1,y:ue-1,width:H,height:be})}else{se&&se.forEach(function(ht){zh(ht)});var Fe=pf({rows:se,fontSize:E,rowsLength:we}),Re=Fe.width,Ze=Fe.height;if(typeof p.wrapPadding=="string"){var Ge=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});Ge.length>0&&Ge.length<=4&&(Ge.length===1?Ge=[Ge[0],Ge[0],Ge[0],Ge[0]]:Ge.length===2?Ge=[Ge[0],Ge[1],Ge[0],Ge[1]]:Ge.length===3&&(Ge=[Ge[0],Ge[1],Ge[2],Ge[1]]),Re+=Ge[1]+Ge[3],Ze+=Ge[0]+Ge[2],ae=ae+(Ge[1]-Ge[3])/2,ue=ue+(Ge[2]-Ge[0])/2)}ge=io(io({},p),{},{x:ae-1,y:ue-1,width:Re,height:Ze})}return Object(oe.g)(Cn,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,s=a.value,p=a.x,g=a.y;if(!!s){var E=o.getTextStyle(),T=io({x:p,y:g,className:"lf-element-text",value:s},E);return Object(oe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(oe.g)(pg,Rc({},T,{model:o})))}}}]),t}(yg);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function _c(){return _c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_c.apply(this,arguments)}function Rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Rg(Object(t),!0).forEach(function(n){Fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tD(e,r){return iD(e)||oD(e,r)||nD(e,r)||rD()}function rD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nD(e,r){if(!!e){if(typeof e=="string")return Ig(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ig(e,r)}}function Ig(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iD(e){if(Array.isArray(e))return e}function aD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uD(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}function sD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function lD(e){var r=cD();return function(){var n=vs(e),o;if(r){var a=vs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fD(this,o)}}function fD(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}function zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}function Fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var en;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(en||(en={}));var Lg=function(e){sD(t,e);var r=lD(t);function t(){var n;return aD(this,t),n=r.call(this),Fr(zr(n),"dragHandler",void 0),Fr(zr(n),"oldEdge",void 0),Fr(zr(n),"preTargetNode",void 0),Fr(zr(n),"targetRuleResults",void 0),Fr(zr(n),"sourceRuleResults",void 0),Fr(zr(n),"onDragStart",function(){var o=n.props,a=o.x,s=o.y,p=o.edgeModel,g=p.startPoint,E=p.endPoint,T=p.pointsList;n.oldEdge={startPoint:g,endPoint:E,pointsList:T},n.setState({endX:a,endY:s,draging:!0}),p.isHitable=!1}),Fr(zr(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.state,g=p.endX,E=p.endY,T=n.props,D=T.graphModel,L=T.type,H=D.transformModel,Z=H.moveCanvasPointByHtml([g,E],a,s),ae=tD(Z,2),ue=ae[0],se=ae[1];n.setState({endX:ue,endY:se,draging:!0});var we=n.props.edgeModel,ge=Na({x:g,y:E},D);if(ge&&ge.node&&n.isAllowAdjust(ge)){var be,Fe=we.startPoint,Re=we.endPoint,Ze=we.sourceNode,Ge=we.targetNode;L===en.SOURCE?be={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:ge.node,targetNode:Ge}:L===en.TARGET&&(be={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),we.updateAfterAdjustStartAndEnd(be)}else L===en.SOURCE?we.updateStartPoint({x:ue,y:se}):L===en.TARGET&&we.updateEndPoint({x:ue,y:se})}),Fr(zr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,s=a.graphModel,p=a.edgeModel,g=a.type;p.isHitable=!0;var E=n.state,T=E.endX,D=E.endY,L=E.draging,H=Na({x:T,y:D},s);if(!!L){if(H&&H.node&&n.isAllowAdjust(H)){var Z,ae=p.getData(),ue=vn(vn({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(Z=ae.text)===null||Z===void 0?void 0:Z.value)||""});if(g===en.SOURCE){var se=s.edgeGenerator(s.getNodeModelById(H.node.id).getData(),s.getNodeModelById(p.targetNodeId).getData(),ue);ue=vn(vn({},se),{},{sourceNodeId:H.node.id,sourceAnchorId:H.anchor.id,startPoint:{x:H.anchor.x,y:H.anchor.y},targetNodeId:p.targetNodeId,endPoint:vn({},p.endPoint)})}else if(g===en.TARGET){var we=s.edgeGenerator(s.getNodeModelById(p.sourceNodeId).getData(),s.getNodeModelById(H.node.id).getData(),ue);ue=vn(vn({},we),{},{sourceNodeId:p.sourceNodeId,startPoint:vn({},p.startPoint),targetNodeId:H.node.id,targetAnchorId:H.anchor.id,endPoint:{x:H.anchor.x,y:H.anchor.y}})}s.deleteEdgeById(p.id);var ge=s.addEdge(vn({},ue));s.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),Fr(zr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,s=a.startPoint,p=a.endPoint,g=a.pointsList;o.updateStartPoint(s),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),Fr(zr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Tf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return uD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,s=a.edgeModel;s.id;var p=s.sourceNode,g=s.targetNode,E=s.sourceAnchorId,T=s.targetAnchorId,D=a.type,L=null,H=null,Z=null,ae=null;if(D===en.SOURCE?(L=o.node,H=g,Z=o.anchor,ae=g.getAnchorInfo(T)):(L=p,H=o.node,ae=o.anchor,Z=p.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ae.id===Z.id)return!1;var ue="".concat(L.id,"_").concat(H.id,"_").concat(Z.id,"_").concat(ae.id);if(!this.targetRuleResults.has(ue)){var se=L.isAllowConnectedAsSource(H,Z,ae),we=H.isAllowConnectedAsTarget(L,Z,ae);this.sourceRuleResults.set(ue,ja(se)),this.targetRuleResults.set(ue,ja(we))}var ge=this.sourceRuleResults.get(ue),be=ge.isAllPass,Fe=this.targetRuleResults.get(ue),Re=Fe.isAllPass,Ze=be&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return D===en.SOURCE?L.setElementState(Ze):H.setElementState(Ze),be&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,s=o.y,p=this.state.draging,g=this.getAdjustPointStyle();return Object(oe.g)("g",null,Object(oe.g)(gi,_c({className:"lf-edge-adjust-point"},g,{x:a,y:s,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(oe.a);function ys(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(t){return typeof t}:ys=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function gs(){return gs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gs.apply(this,arguments)}function _g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function zg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_g(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function dD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pD(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}function hD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function vD(e){var r=gD();return function(){var n=ms(e),o;if(r){var a=ms(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yD(this,o)}}function yD(e,r){if(r&&(ys(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gr(e)}function Gr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Si=function(e){hD(t,e);var r=vD(t);function t(){var n;dD(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Hr(Gr(n),"startTime",void 0),Hr(Gr(n),"contextMenuTime",void 0),Hr(Gr(n),"clickTimer",void 0),Hr(Gr(n),"handleHover",function(p,g){var E=n.props,T=E.model,D=E.graphModel.eventCenter;T.setHovered(p);var L=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,H=T.getData();D.emit(L,{data:H,e:g})}),Hr(Gr(n),"setHoverON",function(p){var g=n.props.model.isHovered;g||n.handleHover(!0,p)}),Hr(Gr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Gr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,E=g.model,T=g.graphModel,D=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(E.id,Et.SHOW_MENU,D.domOverlayPosition),n.toFront(),T.selectEdgeById(E.id);var L=E==null?void 0:E.getData();T.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:L,e:p,position:D})}),Hr(Gr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Gr(n),"handleMouseUp",function(p){if(!!n.startTime){var g=new Date().getTime()-n.startTime;if(!(g>200)){var E=p.button===2;if(!E){var T=p.detail===2,D=n.props,L=D.model,H=D.graphModel,Z=L==null?void 0:L.getData(),ae=H.getPointByClient({x:p.clientX,y:p.clientY});if(T){var ue=H.editConfigModel,se=H.textEditElement;if(se&&se.id===L.id&&H.setElementStateById(L.id,Et.DEFAULT),ue.edgeTextEdit&&L.text.editable&&H.setElementStateById(L.id,Et.TEXT_EDIT),L.modelType===pt.POLYLINE_EDGE){var we=L,ge=H.getPointByClient({x:p.x,y:p.y}),be=ge.canvasOverlayPosition,Fe=be.x,Re=be.y,Ze=Gh({x:Fe,y:Re},we.points);we.dbClickPosition=Ze}H.eventCenter.emit(it.EDGE_DBCLICK,{data:Z,e:p,position:ae})}else H.eventCenter.emit(it.ELEMENT_CLICK,{data:Z,e:p,position:ae}),H.eventCenter.emit(it.EDGE_CLICK,{data:Z,e:p,position:ae});var Ge=H.editConfigModel;H.selectEdgeById(L.id,Gp(p,Ge)),n.toFront()}}}}),Hr(Gr(n),"getIsDragging",function(){return!1}),n}return pD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,g=s.editConfigModel;return(a.text.draggable||g.edgeTextDraggable)&&(p=!0),Object(oe.g)(eD,{editable:g.edgeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isSelected,g=this.state,E=g.hover;return{start:a,end:s,hover:E,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getEdgeStyle(),g=a.getEdgeAnimationStyle(),E=s.theme.arrow,T=a.isAnimation?g.stroke:p.stroke;return zg(zg({},p),{},{fill:T,stroke:T},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),s=a.refY,p=s===void 0?0:s,g=a.refX,E=g===void 0?2:g;return Object(oe.g)("g",null,Object(oe.g)("defs",null,Object(oe.g)("marker",{id:"marker-start-".concat(o),refX:-E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(oe.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:s,d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getAdjustStart(),g=a.getAdjustEnd();return Object(oe.g)("g",null,Object(oe.g)(Lg,gs({type:"SOURCE"},p,{edgeModel:a,graphModel:s})),Object(oe.g)(Lg,gs({type:"TARGET"},g,{edgeModel:a,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(oe.g)("g",null)}},{key:"getAppend",value:function(){return Object(oe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model,p=a.overlapMode;p!==br.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=a.isSelected,p=a.isHitable,g=o.graphModel,E=this.getIsDragging(),T=g.editConfigModel.adjustEdgeStartAndEnd,D=g.animation,L=s&&D.edge&&g.getSelectElements().edges.length===1;return Object(oe.g)("g",null,Object(oe.g)("g",{className:["lf-edge",!p&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),L&&this.getAnimation(),this.getText(),this.getArrow()),T&&s&&!E?this.getAdjustPoints():"")}}]),t}(oe.a);function bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function mD(e,r){return xD(e)||ED(e,r)||OD(e,r)||bD()}function bD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OD(e,r){if(!!e){if(typeof e=="string")return Gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gg(e,r)}}function Gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ED(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function xD(e){if(Array.isArray(e))return e}function SD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=mD(t,2),o=n[0],a=n[1],s=bs(a);(o==="style"||s!=="object")&&(r[o]=a)}),Object(oe.g)("path",r)}var Go=SD;function Os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(t){return typeof t}:Os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Es(){return Es=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Es.apply(this,arguments)}function PD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AD(e,r,t){return r&&Hg(e.prototype,r),t&&Hg(e,t),e}function TD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function MD(e){var r=DD();return function(){var n=xs(e),o;if(r){var a=xs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wD(this,o)}}function wD(e,r){if(r&&(Os(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ND(e)}function ND(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xs(e)}var Hc=function(e){TD(t,e);var r=MD(t);function t(){return PD(this,t),r.apply(this,arguments)}return AD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),D=T.strokeDasharray,L=T.stroke,H=T.strokeDashoffset,Z=T.animationName,ae=T.animationDuration,ue=T.animationIterationCount,se=T.animationTimingFunction,we=T.animationDirection;return Object(oe.g)(no,Es({},E,{x1:a.x,y1:a.y,x2:s.x,y2:s.y},g,p?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:H,animationName:Z,animationDuration:ae,animationIterationCount:ue,animationTimingFunction:se,animationDirection:we}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.startPoint,T=o.endPoint,D=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(no,Es({},D,{x1:E.x,y1:E.y,x2:T.x,y2:T.y,className:p,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p={start:a,end:s},g=SA(p),E=g.d,T=g.strokeWidth,D=g.fill,L=g.strokeDasharray,H=g.stroke;return Object(oe.g)(Go,{d:E,fill:D,strokeWidth:T,stroke:H,strokeDasharray:L})}}]),t}(Si);function Ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function jD(e,r){return BD(e)||ID(e,r)||RD(e,r)||CD()}function CD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(e,r){if(!!e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ID(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function BD(e){if(Array.isArray(e))return e}function LD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=jD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=Ss(a);s!=="object"&&(r[o]=a)}}),Object(oe.g)("polyline",r)}var kg=LD;function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function Xg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function As(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xg(Object(t),!0).forEach(function(n){rn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ts(){return Ts=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ts.apply(this,arguments)}function _D(e,r){return HD(e)||GD(e,r)||FD(e,r)||zD()}function zD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FD(e,r){if(!!e){if(typeof e=="string")return $g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $g(e,r)}}function $g(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function GD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function HD(e){if(Array.isArray(e))return e}function UD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kD(e,r,t){return r&&Yg(e.prototype,r),t&&Yg(e,t),e}function XD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function $D(e){var r=WD();return function(){var n=Ms(e),o;if(r){var a=Ms(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YD(this,o)}}function YD(e,r){if(r&&(Ps(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tn(e)}function tn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ms(e){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(e)}function rn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=function(e){XD(t,e);var r=$D(t);function t(){var n;return UD(this,t),n=r.call(this),rn(tn(n),"drag",void 0),rn(tn(n),"isDraging",void 0),rn(tn(n),"appendInfo",void 0),rn(tn(n),"dragHandler",void 0),rn(tn(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),rn(tn(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.props,g=p.model,E=p.graphModel;n.isDraging=!0;var T=E.transformModel,D=E.editConfigModel,L=T.fixDeltaXY(a,s),H=_D(L,2),Z=H[0],ae=H[1],ue=g,se=D.adjustEdgeMiddle;se?n.appendInfo=ue.dragAppendSimple(n.appendInfo,{x:Z,y:ae}):n.appendInfo=ue.dragAppend(n.appendInfo,{x:Z,y:ae})}),rn(tn(n),"onDragEnd",function(){var o=n.props,a=o.model,s=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(it.EDGE_ADJUST,{data:p.getData()})}),rn(tn(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),rn(tn(n),"getIsDragging",function(){return n.isDraging}),n.drag=Tf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return kD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,s=o.isAnimation,p=o.arrowConfig,g=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,L=E.strokeDashoffset,H=E.animationName,Z=E.animationDuration,ae=E.animationIterationCount,ue=E.animationTimingFunction,se=E.animationDirection;return Object(oe.g)(kg,Ts({points:a},g,p,s?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:L,animationName:H,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:ue,animationDirection:se}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(kg,Ts({points:o.points},E,{className:p,strokeDasharray:g,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,p=this.state,g=p.hover,E={start:null,end:null,hover:g,isSelected:s},T=To(a);return T.length>=2&&(E.start=T[T.length-2],E.end=T[T.length-1]),E}},{key:"getAppendAttributes",value:function(o){var a=o.start,s=o.end,p;if(a.x===s.x&&a.y===s.y)p="";else{var g={start:a,end:s,offset:10,verticalLength:5},E=pi(As(As({},g),{},{type:"start"})),T=pi(As(As({},g),{},{type:"end"}));p="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),s=a.d,p=a.strokeWidth,g=a.fill,E=a.strokeDasharray,T=a.stroke;return Object(oe.g)(Go,{d:s,fill:g,strokeWidth:p,stroke:T,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,p=a.graphModel,g=s.pointsList,E=s.draggable,T=[],D=g.length,L=function(ae){var ue="lf-polyline-append",se={start:{x:g[ae].x,y:g[ae].y},end:{x:g[ae+1].x,y:g[ae+1].y},startIndex:ae,endIndex:ae+1,direction:"",dragAble:!0},we=Object(oe.g)("g",{className:ue},o.getAppendShape(se)),ge=p.editConfigModel,be=ge.adjustEdge,Fe=ge.adjustEdgeMiddle;if(!be||!E)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=se.startIndex,Ze=se.endIndex,Ge=Fe&&(Re===0||Ze===D-1);se.dragAble=!Ge,se.start.x===se.end.x?(se.dragAble&&(ue+="-ew-resize"),se.direction=Dt.VERTICAL):se.start.y===se.end.y&&(se.dragAble&&(ue+="-ns-resize"),se.direction=Dt.HORIZONTAL),we=Object(oe.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,se)}},Object(oe.g)("g",{className:ue},o.getAppendShape(se)))}T.push(we)},H=0;H<D-1;H++)L(H);return Object(oe.g)("g",null,T)}}]),t}(Si);function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function KD(e,r){return QD(e)||JD(e,r)||ZD(e,r)||VD()}function VD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZD(e,r){if(!!e){if(typeof e=="string")return Wg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wg(e,r)}}function Wg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function JD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function QD(e){if(Array.isArray(e))return e}function Ns(){return Ns=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ns.apply(this,arguments)}function qD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ej(e,r,t){return r&&Kg(e.prototype,r),t&&Kg(e,t),e}function tj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xc(e,r)}function Xc(e,r){return Xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xc(e,r)}function rj(e){var r=ij();return function(){var n=Ds(e),o;if(r){var a=Ds(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nj(this,o)}}function nj(e,r){if(r&&(ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oj(e)}function oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ij(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ds(e){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ds(e)}var $c=function(e){tj(t,e);var r=rj(t);function t(){return qD(this,t),r.apply(this,arguments)}return ej(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),s=o.path,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,L=E.strokeDashoffset,H=E.animationName,Z=E.animationDuration,ae=E.animationIterationCount,ue=E.animationTimingFunction,se=E.animationDirection;return Object(oe.g)(Go,Ns({d:s},a,g,p?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:L,animationName:H,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:ue,animationDirection:se}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(Go,Ns({d:o.path},E,{className:p,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(oe.g)(Go,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,s=a.hover,p=o,g=p.path,E=p.isSelected,T=PA(g),D=KD(T,2),L=D[0],H=D[1],Z={start:L,end:H,hover:s,isSelected:E};return Z}}]),t}(Si);function js(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?js=function(t){return typeof t}:js=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Vg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function aj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Vg(Object(t),!0).forEach(function(n){uj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function uj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function sj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lj(e,r,t){return r&&Zg(e.prototype,r),t&&Zg(e,t),e}function fj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function cj(e){var r=hj();return function(){var n=Cs(e),o;if(r){var a=Cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dj(this,o)}}function dj(e,r){if(r&&(js(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pj(e)}function pj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(e)}var vj=function(e){fj(t,e);var r=cj(t);function t(){return sj(this,t),r.apply(this,arguments)}return lj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,p=a.start,g=a.end,E={start:p,end:g,offset:s.offset,verticalLength:s.verticalLength,type:"end"},T=pi(E),D=T.leftX,L=T.leftY,H=T.rightX,Z=T.rightY;return aj({d:"M".concat(D," ").concat(L," L").concat(g.x," ").concat(g.y," L").concat(H," ").concat(Z," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,s=o.strokeWidth,p=o.stroke,g=o.fill;return Object(oe.g)(Go,{d:a,fill:g,strokeWidth:s,stroke:p})}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(oe.a);function yj(e,r){return Kl(e,r)}var Jg=yj;function gj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var mj=gj,bj=function(){return Pr.a.Date.now()},Wc=bj,Oj=/\s/;function Ej(e){for(var r=e.length;r--&&Oj.test(e.charAt(r)););return r}var xj=Ej,Sj=/^\s+/;function Pj(e){return e&&e.slice(0,xj(e)+1).replace(Sj,"")}var Aj=Pj,Qg=0/0,Tj=/^[-+]0x[0-9a-f]+$/i,Mj=/^0b[01]+$/i,wj=/^0o[0-7]+$/i,Nj=parseInt;function Dj(e){if(typeof e=="number")return e;if(Oa(e))return Qg;if(At(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=At(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Aj(e);var t=Mj.test(e);return t||wj.test(e)?Nj(e.slice(2),t?2:8):Tj.test(e)?Qg:+e}var qg=Dj,jj="Expected a function",Cj=Math.max,Rj=Math.min;function Ij(e,r,t){var n,o,a,s,p,g,E=0,T=!1,D=!1,L=!0;if(typeof e!="function")throw new TypeError(jj);r=qg(r)||0,At(t)&&(T=!!t.leading,D="maxWait"in t,a=D?Cj(qg(t.maxWait)||0,r):a,L="trailing"in t?!!t.trailing:L);function H(Re){var Ze=n,Ge=o;return n=o=void 0,E=Re,s=e.apply(Ge,Ze),s}function Z(Re){return E=Re,p=setTimeout(se,r),T?H(Re):s}function ae(Re){var Ze=Re-g,Ge=Re-E,ht=r-Ze;return D?Rj(ht,a-Ge):ht}function ue(Re){var Ze=Re-g,Ge=Re-E;return g===void 0||Ze>=r||Ze<0||D&&Ge>=a}function se(){var Re=Wc();if(ue(Re))return we(Re);p=setTimeout(se,ae(Re))}function we(Re){return p=void 0,L&&n?H(Re):(n=o=void 0,s)}function ge(){p!==void 0&&clearTimeout(p),E=0,n=g=o=p=void 0}function be(){return p===void 0?s:we(Wc())}function Fe(){var Re=Wc(),Ze=ue(Re);if(n=arguments,o=this,g=Re,Ze){if(p===void 0)return Z(g);if(D)return clearTimeout(p),p=setTimeout(se,r),H(g)}return p===void 0&&(p=setTimeout(se,r)),s}return Fe.cancel=ge,Fe.flush=be,Fe}var Bj=Ij,Lj=i(166);function _j(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zj(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}function Ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Fj=function(){function e(r){_j(this,e),Ln(this,"undos",[]),Ln(this,"redos",[]),Ln(this,"callbacks",[]),Ln(this,"stopWatch",null),Ln(this,"curData",null),Ln(this,"maxSize",50),Ln(this,"waitTime",100),Ln(this,"eventCenter",void 0),this.eventCenter=r}return zj(e,[{key:"add",value:function(t){Jg(mj(this.undos),t)||(this.undos.push(t),Jg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Lj.a)(t,Bj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Gj=Fj;function Rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(t){return typeof t}:Rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}var tm,rm,nm;function Hj(e,r){return $j(e)||Xj(e,r)||kj(e,r)||Uj()}function Uj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kj(e,r){if(!!e){if(typeof e=="string")return om(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return om(e,r)}}function om(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Xj(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function $j(e){if(Array.isArray(e))return e}function im(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ho(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?im(Object(t),!0).forEach(function(n){ao(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):im(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Yj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function am(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wj(e,r,t){return r&&am(e.prototype,r),t&&am(e,t),e}function Kj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kc(e,r)}function Kc(e,r){return Kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kc(e,r)}function Vj(e){var r=Jj();return function(){var n=Is(e),o;if(r){var a=Is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Zj(this,o)}}function Zj(e,r){if(r&&(Rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(e)}function Uo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(e)}function ao(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vc=Ur(tm=(nm=rm=function(e){Kj(t,e);var r=Vj(t);function t(){var n;return Yj(this,t),n=r.call(this),ao(Uo(n),"ref",Object(oe.f)()),ao(Uo(n),"__prevText",{type:"",text:"",id:""}),ao(Uo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),ao(Uo(n),"inputHandler",function(o){var a=o.target,s=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:s.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),ao(Uo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Wj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter;a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){var s=o.textEditElement,p=o.editConfigModel,g=p.edgeTextEdit,E=p.nodeTextEdit;(g||E)&&s&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,s=a.text,p=a.id;o.updateText(p,s),o.eventCenter.emit(it.TEXT_UPDATE,Ho({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,s=this.state.style;return a?Object(oe.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,s=a.transformModel,p=a.theme,g=a.textEditElement,E;if(g){var T;if(!((T=g.text)!==null&&T!==void 0&&T.value))if(g.BaseType===Gt.EDGE){g=g;var D=g.text,L=g.textPosition,H=L.x,Z=L.y;D.x=H,D.y=Z,g.setText(D)}else g=g;var ae={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===Gt.EDGE){var ue=p.edgeText,se=ue.overflowMode,we=ue.lineHeight,ge=ue.wrapPadding,be=ue.textWidth;be&&se==="autoWrap"&&(E=Ho(Ho({},ae),{},{width:be,minWidth:be,lineHeight:we,padding:ge}))}else if(g.BaseType===Gt.NODE){var Fe=p.nodeText,Re=Fe.overflowMode,Ze=Fe.lineHeight,Ge=Fe.wrapPadding,ht=Fe.textWidth,yt=g,sr=yt.width,xr=yt.modelType;(xr!==pt.TEXT_NODE&&Re==="autoWrap"||xr===pt.TEXT_NODE&&ht)&&(E=Ho(Ho({},ae),{},{width:ht||sr,minWidth:ht||sr,lineHeight:Ze,padding:Ge}))}var on=g.text,_n=on.x,uo=on.y,ko=s.CanvasPointToHtmlPoint([_n,uo]),zn=Hj(ko,2),Xo=zn[0],td=zn[1];return{style:Ho({left:Xo,top:td},E)}}}}]),t}(oe.a),ao(rm,"toolName","textEdit"),nm))||tm,Qj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},qj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:a-p/2,x1:o+s/2,y1:a+p/2}},eC=function(r){var t=r.points,n=To(t),o=hi(n,8),a=o.x,s=o.y,p=o.width,g=o.height;return{x:a-p/2,y:s-g/2,x1:a+p/2,y1:s+g/2}},tC=function(r){var t=r.path,n=Ua(t),o=hi(n,8),a=o.x,s=o.y,p=o.width,g=o.height;return{x:a-p/2,y:s-g/2,x1:a+p/2,y1:s+g/2}},rC=function(r){if(r.modelType===pt.LINE_EDGE)return qj(r);if(r.modelType===pt.POLYLINE_EDGE)return eC(r);if(r.modelType===pt.BEZIER_EDGE)return tC(r)};function Bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bs=function(t){return typeof t}:Bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var um,sm,lm;function fm(e,r){return iC(e)||oC(e,r)||cm(e,r)||nC()}function nC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iC(e){if(Array.isArray(e))return e}function aC(e){return lC(e)||sC(e)||cm(e)||uC()}function uC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cm(e,r){if(!!e){if(typeof e=="string")return Zc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zc(e,r)}}function sC(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lC(e){if(Array.isArray(e))return Zc(e)}function Zc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cC(e,r,t){return r&&dm(e.prototype,r),t&&dm(e,t),e}function dC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jc(e,r)}function Jc(e,r){return Jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jc(e,r)}function pC(e){var r=vC();return function(){var n=Ls(e),o;if(r){var a=Ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hC(this,o)}}function hC(e,r){if(r&&(Bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(e)}function Ai(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=Ur(um=(lm=sm=function(e){dC(t,e);var r=pC(t);function t(n){var o;fC(this,t),o=r.call(this),Ai(Pi(o),"stepDrag",void 0),Ai(Pi(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),Ai(Pi(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY,D=o.props.graphModel,L=D.getSelectElements(!0);D.moveNodes(L.nodes.map(function(H){return H.id}),E,T)}),Ai(Pi(o),"handleContextMenu",function(g){g.preventDefault();var E=o.props,T=E.graphModel,D=E.graphModel,L=D.eventCenter,H=D.selectElements,Z=T.getPointByClient({x:g.clientX,y:g.clientY}),ae={nodes:[],edges:[]},ue=aC(H.values());ue.forEach(function(se){se.BaseType===Gt.NODE&&ae.nodes.push(se.getData()),se.BaseType===Gt.EDGE&&ae.edges.push(se.getData())}),L.emit(it.SELECTION_CONTEXTMENU,{data:ae,e:g,position:Z})});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new ro({onDraging:o.onDraging,step:s,eventType:"SELECTION",eventCenter:p}),o}return cC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(ue){var se={x:0,y:0,x1:0,y1:0};ue.BaseType===Gt.NODE&&(se=Qj(ue)),ue.BaseType===Gt.EDGE&&(se=rC(ue)),p=Math.min(p,se.x),g=Math.min(g,se.y),E=Math.max(E,se.x1),T=Math.max(T,se.y1)});var D=s.CanvasPointToHtmlPoint([p,g]),L=fm(D,2);p=L[0],g=L[1];var H=s.CanvasPointToHtmlPoint([E,T]),Z=fm(H,2);E=Z[0],T=Z[1];var ae={left:"".concat(p-10,"px"),top:"".concat(g-10,"px"),width:"".concat(E-p+20,"px"),height:"".concat(T-g+20,"px")};return Object(oe.g)("div",{className:"lf-multiple-select",style:ae,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(oe.a),Ai(sm,"toolName","multipleSelect"),lm))||um;function yC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gC(e,r,t){return r&&pm(e.prototype,r),t&&pm(e,t),e}function _s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mC=function(){function e(r){yC(this,e),_s(this,"tools",void 0),_s(this,"components",void 0),_s(this,"toolMap",new Map),_s(this,"instance",void 0),this.instance=r,this.isDisabledTool(Vc.toolName)||this.registerTool(Vc.toolName,Vc),this.isDisabledTool(Qc.toolName)||this.registerTool(Qc.toolName,Qc)}return gC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),bC=i(167),OC=i.n(bC);function EC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xC(e,r,t){return r&&hm(e.prototype,r),t&&hm(e,t),e}function qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vm=function(){function e(r){EC(this,e),qc(this,"mousetrap",void 0),qc(this,"options",void 0),qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new OC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return xC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var g=p.keys,E=p.callback,T=p.action;return t.on(g,E,T)});else{var o=n.keys,a=n.callback,s=n.action;this.on(o,a,s)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),SC=vm,nn=null;function ym(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function gm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var zs=40;function PC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),s=o&&o.beforeClone?o.beforeClone(a):!0;return s?(nn=a,nn.nodes.forEach(function(p){return ym(p,zs)}),nn.edges.forEach(function(p){return gm(p,zs)}),!1):(nn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(nn&&(nn.nodes||nn.edges)){e.clearSelectElements();var o=e.addElements(nn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),nn.nodes.forEach(function(a){return ym(a,zs)}),nn.edges.forEach(function(a){return gm(a,zs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function AC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Fs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fs=function(t){return typeof t}:Fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function mm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ti(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mm(Object(t),!0).forEach(function(n){_t(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MC(e,r,t){return r&&bm(e.prototype,r),t&&bm(e,t),e}function _t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ed=function(){function e(r){var t=this;TC(this,e),_t(this,"container",void 0),_t(this,"width",void 0),_t(this,"height",void 0),_t(this,"graphModel",void 0),_t(this,"history",void 0),_t(this,"viewMap",new Map),_t(this,"tool",void 0),_t(this,"keyboard",void 0),_t(this,"dnd",void 0),_t(this,"options",void 0),_t(this,"snaplineModel",void 0),_t(this,"components",[]),_t(this,"plugins",void 0),_t(this,"extension",{}),_t(this,"adapterIn",void 0),_t(this,"adapterOut",void 0),_t(this,"getView",function(n){return t.viewMap.get(n)}),r=Gv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new FA(Ti({},r)),this.tool=new mC(this),this.history=new Gj(this.graphModel.eventCenter),this.dnd=new PM({lf:this}),this.keyboard=new SC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new ag(this.graphModel),AC(this.graphModel.eventCenter,this.snaplineModel)),PC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return MC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Si,BaseEdgeModel:vf,BaseNode:hn,BaseNodeModel:dn,RectNode:vc,RectNodeModel:nc,CircleNode:mc,CircleNodeModel:Yf,PolygonNode:Ec,PolygonNodeModel:ec,TextNode:Nc,TextNodeModel:ic,LineEdge:Hc,LineEdgeModel:mf,DiamondNode:Pc,DiamondNodeModel:Vf,PolylineEdge:kc,PolylineEdgeModel:Ef,BezierEdge:$c,BezierEdgeModel:kf,EllipseNode:Mc,EllipseNodeModel:Jf,HtmlNode:Cc,HtmlNodeModel:uc,h:oe.g,type:t};this.viewMap.forEach(function(T){var D=T.extendKey;D&&(a[D]=T)}),this.graphModel.modelMap.forEach(function(T){var D=T.extendKey;D&&(a[D]=T)});var s=n(a),p=s.view,g=s.model,E=p;o&&!E.isObervered&&(E.isObervered=!0,E=bt(E)),this.setView(t,E),this.graphModel.setModel(t,g)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:vc,model:nc,type:"rect"}),this.registerElement({type:"circle",view:mc,model:Yf}),this.registerElement({type:"polygon",view:Ec,model:ec}),this.registerElement({type:"line",view:Hc,model:mf}),this.registerElement({type:"polyline",view:kc,model:Ef}),this.registerElement({type:"bezier",view:$c,model:kf}),this.registerElement({type:"text",view:Nc,model:ic}),this.registerElement({type:"ellipse",view:Mc,model:Jf}),this.registerElement({type:"diamond",view:Pc,model:Vf}),this.registerElement({type:"html",view:Cc,model:uc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var s=this.getNodeModelById(a);s&&(o=s.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var g=o,E=g.x,T=g.y;n.focusOn(E,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,s=this.getModelById(t);if(!s)return!1;var p=(n={},_t(n,Gt.NODE,this.deleteNode),_t(n,Gt.EDGE,this.deleteEdge),n),g=s.BaseType;return(o=(a=p[g])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,s=a&&a.beforeDelete?a.beforeDelete(o):!0;return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,s=a&&a.beforeClone?a.beforeClone(o):!0;if(s)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),s=n&&n.beforeDelete?n.beforeDelete(a):!0;return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var s=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===a&&s.push(E)}),s}if(o){var p=[];return n.forEach(function(E){E.sourceNodeId===o&&p.push(E)}),p}if(a){var g=[];return n.forEach(function(E){E.targetNodeId===a&&g.push(E)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,s={},p={nodes:[],edges:[]},g=0;g<o.length;g++){var E=o[g],T=E.id,D=this.addNode(E);if(!D)return;T&&(s[T]=D.id),p.nodes.push(D)}return a.forEach(function(L){var H=L.sourceNodeId,Z=L.targetNodeId;s[H]&&(H=s[H]),s[Z]&&(Z=s[Z]);var ae=n.graphModel.addEdge(Ti(Ti({},L),{},{sourceNodeId:H,targetNodeId:Z}));p.edges.push(ae)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,s).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,s=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:s}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(s){var p=s.pluginName||s.name;o.indexOf(p)===-1&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if(Fs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,s=new a({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[a.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(Ti(Ti({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(oe.j)(Object(oe.g)(EM,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();_t(ed,"extensions",new Map);function Ur(e){return bt(e)}c.default=ed}])})})(We,We.exports);var Yo=WC(We.exports),cR=new tb([32,32,1]);function Jo(){return cR.next()}var nb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),dR=function(m){nb(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(We.exports.CircleNodeModel),pR=function(m){nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(We.exports.CircleNode),hR={type:"bpmn:startEvent",view:pR,model:dR},ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ws=globalThis&&globalThis.__assign||function(){return Ws=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ws.apply(this,arguments)},vR=function(m){ob(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(We.exports.CircleNodeModel),yR=function(m){ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,l=u.y,f=u.r,y=m.prototype.getShape.call(this);return We.exports.h("g",{},y,We.exports.h("circle",Ws(Ws({},c),{cx:i,cy:l,r:f-5})))},v.extendKey="EndEventView",v}(We.exports.CircleNode),gR={type:"bpmn:endEvent",view:yR,model:vR},ib=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ji.apply(this,arguments)},mR=function(m){ib(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(We.exports.PolygonNodeModel),bR=function(m){ib(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.points,b=u.getNodeStyle();return We.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-l/2)+" "+(i-f/2)+")"},We.exports.h("polygon",ji(ji({},b),{x:c,y:i,points:y})),We.exports.h("path",ji({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(We.exports.PolygonNode),OR={type:"bpmn:exclusiveGateway",view:bR,model:mR},ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ks=globalThis&&globalThis.__assign||function(){return Ks=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ks.apply(this,arguments)},ER=function(m){ab(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(We.exports.RectNodeModel),xR=function(m){ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getNodeStyle();return We.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",Ks(Ks({},b),{x:c-l/2,y:i-f/2,rx:y,ry:y,width:l,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(We.exports.RectNode),SR={type:"bpmn:userTask",view:xR,model:ER},ub=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),id=globalThis&&globalThis.__assign||function(){return id=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},id.apply(this,arguments)},PR=function(m){ub(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(We.exports.RectNodeModel),AR=function(m){ub(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getNodeStyle();return We.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",id({x:c-l/2,y:i-f/2,rx:y,ry:y,width:l,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(We.exports.RectNode),TR={type:"bpmn:serviceTask",view:AR,model:PR},sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),MR=function(m){sb(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+Jo()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(We.exports.PolylineEdgeModel),wR=function(m){sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(We.exports.PolylineEdge),NR={type:"bpmn:sequenceFlow",view:wR,model:MR},Nm={width:40,height:40},Dm={width:40,height:40},jm={width:40,height:40},Cm={width:100,height:80},Rm={width:100,height:80},DR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},jR=function(){function m(v){var u=v.lf;u.setTheme(DR),u.register(hR),u.register(gR),u.register(OR),u.register(SR),u.register(TR),u.options.customBpmnEdge||(u.register(NR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),CR=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,l){u.getSnapshot(i,l)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var l=i.x,f=i.width,y=i.y,b=i.height,x=l-f/2,S=y-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(l){var f=l.x,y=l.y;f<u.offsetX&&(u.offsetX=f-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var l=u[i],f=l.classList&&Array.from(l.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(l){var f=l.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){var f=l.toDataURL("image/png");i({data:f,width:l.width,height:l.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){l.toBlob(function(f){i({data:f,width:l.width,height:l.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],l=0;l<i.cssRules.length;l++)v+=i.cssRules[l].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),l=i.lastChild,f=l.childNodes&&l.childNodes.length;if(f)for(var y=0;y<f;y++){var b=l.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)l.removeChild(l.childNodes[y]),f--,y--;else{var S=l.childNodes[y];S&&S.childNodes.forEach(function(z){var U=z;c.removeAnchor(U.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,M=document.createElement("canvas"),A=this.lf.graphModel.rootEl.querySelector(".lf-base"),j=A.getBoundingClientRect(),C=this.lf.graphModel,B=C.transformModel,_=B.SCALE_X,X=B.SCALE_Y,$=Math.ceil(j.width/_),ee=Math.ceil(j.height/X);M.style.width=$+"px",M.style.height=ee+"px",M.width=$*P+80,M.height=ee*P+80;var ne=M.getContext("2d");ne.clearRect(0,0,M.width,M.height),ne.scale(P,P),u?(ne.fillStyle=u,ne.fillRect(0,0,$*P+80,ee*P+80)):ne.clearRect(0,0,$,ee);var ie=new Image,J=document.createElement("style");J.innerHTML=this.getClassRules();var le=document.createElement("foreignObject");return le.appendChild(J),i.appendChild(le),new Promise(function(z){ie.onload=function(){ne.drawImage(ie,0,0),z(M)};var U="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=U.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ie.src=I})},m.pluginName="snapshot",m}(),RR=new tb([32,32,1]);function Im(){return RR.next()}var pr=function(){};pr.ObjTree=function(){return this};pr.ObjTree.VERSION="0.23";pr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pr.ObjTree.prototype.attr_prefix="-";pr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(!!v)return this.parseDOM(v)};pr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody=="undefined"&&typeof c.postbody=="undefined"&&typeof c.parameters=="undefined"?c.method="get":c.method="post"),u){c.asynchronous=!0;var l=this,f=u,y=c.onComplete;c.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=l.parseDOM(S.responseXML.documentElement)),f(P,S),y&&y(S)}}else c.asynchronous=!1;var b;if(typeof HTTP!="undefined"&&HTTP.Request){c.uri=m;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var x=new Ajax.Request(m,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};pr.ObjTree.prototype.parseDOM=function(m){if(!!m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};pr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var l=m.attributes[i].nodeName;if(typeof l=="string"){var f=m.attributes[i].nodeValue;!f||(l=this.attr_prefix+l,typeof c[l]=="undefined"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}if(m.childNodes&&m.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<m.childNodes.length&&y;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var l=m.childNodes[i].nodeName;if(typeof l=="string"){var f=this.parseElement(m.childNodes[i]);!f||(typeof c[l]=="undefined"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}}return u}};pr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};pr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};pr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var l=v[i];i.charAt(0)!=this.attr_prefix?typeof l=="undefined"||l==null?u[u.length]="<"+i+" />":typeof l=="object"&&l.constructor==Array?u[u.length]=this.array_to_xml(i,l):typeof l=="object"?u[u.length]=this.hash_to_xml(i,l):u[u.length]=this.scalar_to_xml(i,l):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),y=u.join("");return typeof m=="undefined"||m==null||(u.length>0?y.match(/\n/)?y="<"+m+f+`>
`+y+"</"+m+`>
`:y="<"+m+f+">"+y+"</"+m+`>
`:y="<"+m+f+` />
`),y};pr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i=="undefined"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};pr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};pr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var qs=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},an;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(an||(an={}));var lb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ad(m){var v={};return Object.entries(m).forEach(function(u){var c=qs(u,2),i=c[0],l=c[1];typeof l!="object"?i.indexOf("-")===0?v[i]=l:v["-"+i]=l:v[i]=ad(l)}),v}function cd(m){var v={};return Object.entries(m).forEach(function(u){var c=qs(u,2),i=c[0],l=c[1];typeof l=="string"?i.indexOf("-")===0?v[i.substr(1)]=l:v[i]=l:typeof l=="object"?v[i]=cd(l):v[i]=l}),v}function IR(m,v){var u=new Map;v.nodes.forEach(function(i){var l,f={"-id":i.id};if(!((l=i.text)===null||l===void 0)&&l.value&&(f["-name"]=i.text.value),i.properties){var y=ad(i.properties);Object.assign(f,y)}u.set(i.id,f),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(f):m[i.type]=[m[i.type],f]:m[i.type]=f});var c=v.edges.map(function(i){var l,f,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((l=i.text)===null||l===void 0)&&l.value&&(x["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var S=ad(i.properties);Object.assign(x,S)}return x});m[an.FLOW]=c}function BR(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,l=u.pointsList.map(function(y){var b=y.x,x=y.y;return{"-x":b,"-y":x}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":l};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,l=100,f=80,y=u.x,b=u.y,x=lo.shapeConfigMap.get(u.type);x&&(l=x.width,f=x.height),y-=l/2,b-=f/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":l,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function LR(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(l){if(l.indexOf("bpmn:")===0){var f=i[l];if(l===an.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=zR(f,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(_R(f,b,l))}}})}return{nodes:v,edges:u}}function _R(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(f){var y;Array.isArray(v)?y=v.find(function(x){return x["-bpmnElement"]===f["-id"]}):y=v;var b=Bm(y,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===m["-id"]}):i=v;var l=Bm(i,u,m);c.push(l)}return c}function Bm(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),l=u["-name"],f=lo.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var y;Object.entries(u).forEach(function(P){var M=qs(P,2),A=M[0],j=M[1];lb.indexOf(A)===-1&&(y||(y={}),y[A]=j)}),y&&(y=cd(y));var b;if(l&&(b={x:c,y:i,value:l},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:m["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(S.text=b),S}function zR(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var l;Array.isArray(v)?l=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):l=v,u.push(Lm(l,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(Lm(c,m))}return u}function Lm(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(b){l<b.length&&(l=b.length)}),u={value:c,x:Number(i["-x"])+l*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var x=qs(b,2),S=x[0],P=x[1];lb.indexOf(S)===-1&&(f||(f={}),f[S]=P)}),f&&(f=cd(f));var y={id:v["-id"],type:an.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(y.text=u),y}var lo={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+Im(),"-isExecutable":"false"};IR(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};BR(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+Im(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return LR(m)}};lo.shapeConfigMap.set(an.START,{width:Nm.width,height:Nm.height});lo.shapeConfigMap.set(an.END,{width:Dm.width,height:Dm.height});lo.shapeConfigMap.set(an.GATEWAY,{width:jm.width,height:jm.height});lo.shapeConfigMap.set(an.SYSTEM,{width:Cm.width,height:Cm.height});lo.shapeConfigMap.set(an.USER,{width:Rm.width,height:Rm.height});var _m=globalThis&&globalThis.__assign||function(){return _m=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},_m.apply(this,arguments)};globalThis&&globalThis.__read;var zm;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(zm||(zm={}));var FR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var GR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var HR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},UR=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(HR(arguments[v]));return m},Mi="lf:defaultNodeMenu",wi="lf:defaultEdgeMenu",Ni="lf:defaultGraphMenu",Fm="lf:defaultSelectionMenu",kR=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(l){v.lf.deleteNode(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){v.lf.graphModel.editText(l.id)}},{text:"\u590D\u5236",callback:function(l){v.lf.cloneNode(l.id)}}];this.menuTypeMap.set(Mi,u);var c=[{text:"\u5220\u9664",callback:function(l){v.lf.deleteEdge(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){v.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(wi,c),this.menuTypeMap.set(Ni,[]);var i=[{text:"\u5220\u9664",callback:function(l){v.lf.clearSelectElements(),l.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),l.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Fm,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var l=i.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var l=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,x=y.y,S=l.id,P=c.lf.graphModel.getNodeModelById(S),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Mi),c.__currentData=l,c.showMenu(b,x,M)}),this.lf.on("edge:contextmenu",function(i){var l=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,x=y.y,S=l.id,P=c.lf.graphModel.getEdgeModelById(S),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(wi),c.__currentData=l,c.showMenu(b,x,M)}),this.lf.on("blank:contextmenu",function(i){var l=i.position,f=c.menuTypeMap.get(Ni),y=l.domOverlayPosition,b=y.x,x=y.y;c.showMenu(b,x,f)}),this.lf.on("selection:contextmenu",function(i){var l=i.data,f=i.position,y=c.menuTypeMap.get(Fm),b=f.domOverlayPosition,x=b.x,S=b.y;c.__currentData=l,c.showMenu(x,S,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,UR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",i.appendChild(l)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Mi,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(wi,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Ni,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Mi);this.menuTypeMap.set(Mi,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;var XR=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return m.prototype.render=function(v,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},m.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},m.prototype.setPatternItems=function(v){this.shapeList=v,this.domContainer&&this.render(this.lf,this.domContainer)},m.prototype.createDndItem=function(v){var u=this,c=document.createElement("div");c.className=v.className?"lf-dnd-item "+v.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",v.icon&&(i.style.backgroundImage="url("+v.icon+")"),c.appendChild(i),v.label){var l=document.createElement("div");l.innerText=v.label,l.className="lf-dnd-text",c.appendChild(l)}return c.onmousedown=function(){v.type&&u.lf.dnd.startDrag({type:v.type,properties:v.properties,text:v.text}),v.callback&&v.callback(u.lf,u.domContainer)},c},m.pluginName="dndPanel",m}(),$R=function(){function m(v){var u=this,c=v.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(l){var f=u.lf.getPointByClient(l.clientX,l.clientY).domOverlayPosition,y=f.x,b=f.y;u.endPoint={x:y,y:b};var x=u.startPoint,S=x.x,P=x.y,M=u.wrapper.style,A=S,j=P,C=y-S,B=b-P;y<S&&(A=y,C=S-y),b<P&&(j=b,B=P-b),M.left=A+"px",M.top=j+"px",M.width=C+"px",M.height=B+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var l=u.startPoint,f=l.x,y=l.y,b=u.endPoint,x=b.x,S=b.y;if(!(Math.abs(x-f)<10&&Math.abs(S-y)<10)){var P=[Math.min(f,x),Math.min(y,S)],M=[Math.max(f,x),Math.max(y,S)],A=u.lf.graphModel.getAreaElement(P,M,u.isWholeEdge,u.isWholeNode,!0),j=u.lf.graphModel.group;A.forEach(function(C){(!j||!j.getNodeGroup(C.id))&&u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",A)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return m.prototype.render=function(v,u){var c=this;this.__domContainer=u,v.on("blank:mousedown",function(i){var l=i.e,f=v.getEditConfig();if(!(!f.stopMoveGraph||c.__disabled)){var y=v.getPointByClient(l.clientX,l.clientY).domOverlayPosition,b=y.x,x=y.y;c.startPoint={x:b,y:x},c.endPoint={x:b,y:x};var S=document.createElement("div");S.className="lf-selection-select",S.oncontextmenu=function(M){M.preventDefault()},S.style.top=c.startPoint.y+"px",S.style.left=c.startPoint.x+"px",u.appendChild(S),c.wrapper=S,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}})},m.prototype.setSelectionSense=function(v,u){v===void 0&&(v=!0),u===void 0&&(u=!0),this.isWholeEdge=v,this.isWholeNode=u},m.prototype.openSelectionSelect=function(){var v=this.lf.getEditConfig().stopMoveGraph;v||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},m.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},m.prototype.open=function(){this.__disabled=!1},m.prototype.close=function(){this.__disabled=!0},m.pluginName="selectionSelect",m}();globalThis&&globalThis.__values;var fb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Wo=globalThis&&globalThis.__assign||function(){return Wo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Wo.apply(this,arguments)},Fn=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};(function(m){fb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var l=Fn(c[i-1],2),f=l[0],y=l[1],b=Fn(c[i],2),x=b[0],S=b[1],P=Fn(c[i+1],2),M=P[0],A=P[1];f===x&&x===M||y===S&&S===A?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,l=u.arrowConfig,f=u.radius,y=f===void 0?5:f,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=this.pointFilter(c.split(" ").map(function(Q){return Q.split(",").map(function(ce){return Number(ce)})})),P=Fn(S[0],2),M=P[0],A=P[1],j="M"+M+" "+A,C=1;C<S.length-1;C++){var B=Fn(S[C-1],2),_=B[0],X=B[1],$=Fn(S[C],2),ee=$[0],ne=$[1],ie=Fn(S[C+1],2),J=ie[0],le=ie[1];if(ee===_&&ne!==X){var z=ne>X?ne-y:ne+y;j=j+" L "+ee+" "+z}if(ne===X&&ee!==_){var U=ee>_?ee-y:ee+y;j=j+" L "+U+" "+ne}if(j=j+" Q "+ee+" "+ne,ee===J&&ne!==le){var z=ne>le?ne-y:ne+y;j=j+" "+ee+" "+z}if(ne===le&&ee!==J){var U=ee>J?ee-y:ee+y;j=j+" "+U+" "+ne}}var I=Fn(S[S.length-1],2),w=I[0],R=I[1];j=j+" L "+w+" "+R;var W=Wo(Wo(Wo({d:j,style:i?x:{}},b),l),{fill:"none"});return We.exports.h("path",Wo({d:j},W))},v})(We.exports.PolylineEdge);(function(m){fb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(We.exports.PolylineEdgeModel);var dd,Ft,cb,Ci,db,Gm,pb={},hb=[],YR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Hn(m,v){for(var u in v)m[u]=v[u];return m}function vb(m){var v=m.parentNode;v&&v.removeChild(m)}function Ri(m,v,u){var c,i,l,f={};for(l in v)l=="key"?c=v[l]:l=="ref"?i=v[l]:f[l]=v[l];if(arguments.length>2&&(f.children=arguments.length>3?dd.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(l in m.defaultProps)f[l]===void 0&&(f[l]=m.defaultProps[l]);return Xs(m,f,c,i,null)}function Xs(m,v,u,c,i){var l={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++cb:i};return i==null&&Ft.vnode!=null&&Ft.vnode(l),l}function pd(m){return m.children}function Vo(m,v){this.props=m,this.context=v}function Zo(m,v){if(v==null)return m.__?Zo(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Zo(m):null}function yb(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return yb(m)}}function Hm(m){(!m.__d&&(m.__d=!0)&&Ci.push(m)&&!Vs.__r++||Gm!==Ft.debounceRendering)&&((Gm=Ft.debounceRendering)||db)(Vs)}function Vs(){for(var m;Vs.__r=Ci.length;)m=Ci.sort(function(v,u){return v.__v.__b-u.__v.__b}),Ci=[],m.some(function(v){var u,c,i,l,f,y;v.__d&&(f=(l=(u=v).__v).__e,(y=u.__P)&&(c=[],(i=Hn({},l)).__v=l.__v+1,Ob(y,l,i,u.__n,y.ownerSVGElement!==void 0,l.__h!=null?[f]:null,c,f==null?Zo(l):f,l.__h),KR(c,l),l.__e!=f&&yb(l)))})}function gb(m,v,u,c,i,l,f,y,b,x){var S,P,M,A,j,C,B,_=c&&c.__k||hb,X=_.length;for(u.__k=[],S=0;S<v.length;S++)if((A=u.__k[S]=(A=v[S])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Xs(null,A,null,null,A):Array.isArray(A)?Xs(pd,{children:A},null,null,null):A.__b>0?Xs(A.type,A.props,A.key,null,A.__v):A)!=null){if(A.__=u,A.__b=u.__b+1,(M=_[S])===null||M&&A.key==M.key&&A.type===M.type)_[S]=void 0;else for(P=0;P<X;P++){if((M=_[P])&&A.key==M.key&&A.type===M.type){_[P]=void 0;break}M=null}Ob(m,A,M=M||pb,i,l,f,y,b,x),j=A.__e,(P=A.ref)&&M.ref!=P&&(B||(B=[]),M.ref&&B.push(M.ref,null,A),B.push(P,A.__c||j,A)),j!=null?(C==null&&(C=j),typeof A.type=="function"&&A.__k===M.__k?A.__d=b=mb(A,b,m):b=bb(m,A,M,_,j,b),typeof u.type=="function"&&(u.__d=b)):b&&M.__e==b&&b.parentNode!=m&&(b=Zo(M))}for(u.__e=C,S=X;S--;)_[S]!=null&&(typeof u.type=="function"&&_[S].__e!=null&&_[S].__e==u.__d&&(u.__d=Zo(c,S+1)),xb(_[S],_[S]));if(B)for(S=0;S<B.length;S++)Eb(B[S],B[++S],B[++S])}function mb(m,v,u){for(var c,i=m.__k,l=0;i&&l<i.length;l++)(c=i[l])&&(c.__=m,v=typeof c.type=="function"?mb(c,v,u):bb(u,c,c,i,c.__e,v));return v}function bb(m,v,u,c,i,l){var f,y,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=l||i.parentNode==null)e:if(l==null||l.parentNode!==m)m.appendChild(i),f=null;else{for(y=l,b=0;(y=y.nextSibling)&&b<c.length;b+=2)if(y==i)break e;m.insertBefore(i,l),f=l}return f!==void 0?f:i.nextSibling}function WR(m,v,u,c,i){var l;for(l in u)l==="children"||l==="key"||l in v||Zs(m,l,null,u[l],c);for(l in v)i&&typeof v[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||u[l]===v[l]||Zs(m,l,v[l],u[l],c)}function Um(m,v,u){v[0]==="-"?m.setProperty(v,u):m[v]=u==null?"":typeof u!="number"||YR.test(v)?u:u+"px"}function Zs(m,v,u,c,i){var l;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||Um(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||Um(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")l=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+l]=u,u?c||m.addEventListener(v,l?Xm:km,l):m.removeEventListener(v,l?Xm:km,l);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u==null?"":u;break e}catch(f){}typeof u=="function"||(u!=null&&(u!==!1||v[0]==="a"&&v[1]==="r")?m.setAttribute(v,u):m.removeAttribute(v))}}function km(m){this.l[m.type+!1](Ft.event?Ft.event(m):m)}function Xm(m){this.l[m.type+!0](Ft.event?Ft.event(m):m)}function Ob(m,v,u,c,i,l,f,y,b){var x,S,P,M,A,j,C,B,_,X,$,ee=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,l=[y]),(x=Ft.__b)&&x(v);try{e:if(typeof ee=="function"){if(B=v.props,_=(x=ee.contextType)&&c[x.__c],X=x?_?_.props.value:x.__:c,u.__c?C=(S=v.__c=u.__c).__=S.__E:("prototype"in ee&&ee.prototype.render?v.__c=S=new ee(B,X):(v.__c=S=new Vo(B,X),S.constructor=ee,S.render=ZR),_&&_.sub(S),S.props=B,S.state||(S.state={}),S.context=X,S.__n=c,P=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),ee.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Hn({},S.__s)),Hn(S.__s,ee.getDerivedStateFromProps(B,S.__s))),M=S.props,A=S.state,P)ee.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(ee.getDerivedStateFromProps==null&&B!==M&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(B,X),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(B,S.__s,X)===!1||v.__v===u.__v){S.props=B,S.state=S.__s,v.__v!==u.__v&&(S.__d=!1),S.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(ne){ne&&(ne.__=v)}),S.__h.length&&f.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(B,S.__s,X),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(M,A,j)})}S.context=X,S.props=B,S.state=S.__s,(x=Ft.__r)&&x(v),S.__d=!1,S.__v=v,S.__P=m,x=S.render(S.props,S.state,S.context),S.state=S.__s,S.getChildContext!=null&&(c=Hn(Hn({},c),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(j=S.getSnapshotBeforeUpdate(M,A)),$=x!=null&&x.type===pd&&x.key==null?x.props.children:x,gb(m,Array.isArray($)?$:[$],v,u,c,i,l,f,y,b),S.base=v.__e,v.__h=null,S.__h.length&&f.push(S),C&&(S.__E=S.__=null),S.__e=!1}else l==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=VR(u.__e,v,u,c,i,l,f,b);(x=Ft.diffed)&&x(v)}catch(ne){v.__v=null,(b||l!=null)&&(v.__e=y,v.__h=!!b,l[l.indexOf(y)]=null),Ft.__e(ne,v,u)}}function KR(m,v){Ft.__c&&Ft.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){Ft.__e(c,u.__v)}})}function VR(m,v,u,c,i,l,f,y){var b,x,S,P=u.props,M=v.props,A=v.type,j=0;if(A==="svg"&&(i=!0),l!=null){for(;j<l.length;j++)if((b=l[j])&&(b===m||(A?b.localName==A:b.nodeType==3))){m=b,l[j]=null;break}}if(m==null){if(A===null)return document.createTextNode(M);m=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),l=null,y=!1}if(A===null)P===M||y&&m.data===M||(m.data=M);else{if(l=l&&dd.call(m.childNodes),x=(P=u.props||pb).dangerouslySetInnerHTML,S=M.dangerouslySetInnerHTML,!y){if(l!=null)for(P={},j=0;j<m.attributes.length;j++)P[m.attributes[j].name]=m.attributes[j].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===m.innerHTML)||(m.innerHTML=S&&S.__html||""))}if(WR(m,M,P,i,y),S)v.__k=[];else if(j=v.props.children,gb(m,Array.isArray(j)?j:[j],v,u,c,i&&A!=="foreignObject",l,f,l?l[0]:u.__k&&Zo(u,0),y),l!=null)for(j=l.length;j--;)l[j]!=null&&vb(l[j]);y||("value"in M&&(j=M.value)!==void 0&&(j!==m.value||A==="progress"&&!j)&&Zs(m,"value",j,P.value,!1),"checked"in M&&(j=M.checked)!==void 0&&j!==m.checked&&Zs(m,"checked",j,P.checked,!1))}return m}function Eb(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){Ft.__e(c,u)}}function xb(m,v,u){var c,i;if(Ft.unmount&&Ft.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||Eb(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(l){Ft.__e(l,v)}c.base=c.__P=null}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&xb(c[i],v,typeof m.type!="function");u||m.__e==null||vb(m.__e),m.__e=m.__d=void 0}function ZR(m,v,u){return this.constructor(m,u)}dd=hb.slice,Ft={__e:function(m,v){for(var u,c,i;v=v.__;)if((u=v.__c)&&!u.__)try{if((c=u.constructor)&&c.getDerivedStateFromError!=null&&(u.setState(c.getDerivedStateFromError(m)),i=u.__d),u.componentDidCatch!=null&&(u.componentDidCatch(m),i=u.__d),i)return u.__E=u}catch(l){m=l}throw m}},cb=0,Vo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hn({},this.state),typeof m=="function"&&(m=m(Hn({},u),this.props)),m&&Hn(u,m),m!=null&&this.__v&&(v&&this.__h.push(v),Hm(this))},Vo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),Hm(this))},Vo.prototype.render=pd,Ci=[],db=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vs.__r=0;var Ii=globalThis&&globalThis.__assign||function(){return Ii=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ii.apply(this,arguments)};function hd(m){var v=m.x,u=m.y,c=m.width,i=m.height,l=m.radius,f=m.className,y=v-c/2,b=u-i/2,x=Ii(Ii({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},m),{x:y,y:b});return We.exports.h("rect",Ii({},x))}hd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ko;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Ko||(Ko={}));function $s(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function $m(m){var v=$s(m),u=m.radius,c=v.minX,i=v.minY,l=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:l-u,y:i+u},{x:l-u,y:f-u},{x:c+u,y:f-u}]}function Ym(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,l=v.y,f={x:i,y:l},y=u.radius,b=$s(u),x=$s(c);if(i===b.minX){f.x=x.minX;var S=(l-u.y)/(u.height/2-y);S?f.y=c.y+(c.height/2-y)*S:f.y=c.y}else if(i===b.maxX){f.x=x.maxX;var S=(l-u.y)/(u.height/2-y);S?f.y=c.y+(c.height/2-y)*S:f.y=c.y}else if(l===b.minY){f.y=x.minY;var S=(i-u.x)/(u.width/2-y);S?f.x=c.x+(c.width/2-y)*S:f.x=c.x}else if(l===b.maxY){f.y=x.maxY;var S=(i-u.x)/(u.width/2-y);S?f.x=c.x+(c.width/2-y)*S:f.x=c.x}else{var P=$m(u),M=$m(c),A=$s(u),j=A.minX,C=A.minY,B=A.maxX,_=A.maxY,X=-1;if(i-j<y&&l-C<y?X=0:B-i<y&&l-C<y?X=1:B-i<y&&_-l<y?X=2:i-j<y&&C-l<y&&(X=3),X>-1){var $=Math.atan2(l-P[X].y,i-P[X].x);f.x=M[X].x+y*Math.cos($),f.y=M[X].y+y*Math.sin($)}}return f}function Wm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,l=c.ry,f=v,y=(v.y-u.y)/(v.x-u.x),b=i,x=l,S,P;return y>=1/0?(S=0,P=x):y<=-1/0?(S=0,P=-x):v.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*y*y),P=b*x*y/Math.sqrt(x*x+b*b*y*y)):(S=-(b*x)/Math.sqrt(x*x+b*b*y*y),P=-(b*x*y)/Math.sqrt(x*x+b*b*y*y)),f={x:S+c.x,y:P+c.y},f}function Km(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,l,f,y=v.x-u.x,b=v.y-u.y,x=u.rx,S=u.ry,P=Math.sqrt((x-Math.abs(y))*(x-Math.abs(y))+b*b)/Math.sqrt(x*x+S*S),M=c.rx,A=c.ry,j=Math.sqrt((M*M+A*A)*P*P*(M*M/(M*M+A*A))),C=j*(A/M);return y>=0?l=M-j:l=j-M,b>0?f=C:f=-C,i={x:l+c.x,y:f+c.y},i}var JR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),so=globalThis&&globalThis.__assign||function(){return so=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},so.apply(this,arguments)},QR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},qR=We.exports.LogicFlowUtil.StepDrag,e2=function(m){JR(v,m);function v(u){var c=m.call(this)||this;return c.updatePosition=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.x,x=y.y;c.nodeModel.x=b+l/2,c.nodeModel.y=x+f/2,c.nodeModel.moveText(l/2,f/2)},c.getResize=function(i){var l=i.index,f=i.deltaX,y=i.deltaY,b=i.width,x=i.height,S=i.PCTResizeInfo,P=i.pct,M=P===void 0?1:P,A={width:b,height:x,deltaX:f,deltaY:y};if(S){var j=4,C=0,B=0;switch(l){case 0:B=(f*-1-y)/j;break;case 1:B=(f-y)/j;break;case 2:B=(f+y)/j;break;case 3:B=(f*-1+y)/j;break}B!==0&&(C=Math.round(B/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+C,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+C,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var _=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),X=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(l){case 0:f=b-_,y=x-X;break;case 1:f=_-b,y=x-X;break;case 2:f=_-b,y=X-x;break;case 3:f=b-_,y=X-x;break}return A.width=_,A.height=X,A.deltaX=f/M,A.deltaY=y/M,A}switch(l){case 0:A.width=b-f*M,A.height=x-y*M;break;case 1:A.width=b+f*M,A.height=x-y*M;break;case 2:A.width=b+f*M,A.height=x+y*M;break;case 3:A.width=b-f*M,A.height=x+y*M;break}return A},c.updateRect=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.x,S=y.y,P=y.width,M=y.height,A=y.radius,j=y.PCTResizeInfo,C=c.index,B=c.getResize({index:C,deltaX:l,deltaY:f,width:P,height:M,PCTResizeInfo:j,pct:1}),_=c.nodeModel,X=_.minWidth,$=_.minHeight,ee=_.maxWidth,ne=_.maxHeight;if(B.width<X||B.width>ee||B.height<$||B.height>ne){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:B.deltaX,deltaY:B.deltaY}),c.nodeModel.width=B.width,c.nodeModel.height=B.height,c.nodeModel.setProperties({nodeSize:{width:B.width,height:B.height}});var ie=c.getNodeEdges(b),J={x,y:S,width:P,height:M,radius:A},le={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:A},z={point:"",beforeNode:J,afterNode:le},U;ie.sourceEdges.forEach(function(I){z.point=I.startPoint,U=Ym(z),I.updateStartPoint(U)}),ie.targetEdges.forEach(function(I){z.point=I.endPoint,U=Ym(z),I.updateEndPoint(U)}),c.eventEmit({beforeNode:J,afterNode:le})},c.updateEllipse=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,j=c.index,C=x,B=S,_=c.getResize({index:j,deltaX:l,deltaY:f,width:C,height:B,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,$=X.minWidth,ee=X.minHeight,ne=X.maxWidth,ie=X.maxHeight;if(_.width<$/2||_.width>ne/2||_.height<ee/2||_.height>ie/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),c.nodeModel.rx=_.width,c.nodeModel.ry=_.height,c.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var J=c.getNodeEdges(b),le={x:P,y:M},z={rx:_.width,ry:_.height,x:c.nodeModel.x,y:c.nodeModel.y},U={point:{},beforeNode:le,afterNode:z},I;J.sourceEdges.forEach(function(w){U.point=w.startPoint,I=Wm(U),w.updateStartPoint(I)}),J.targetEdges.forEach(function(w){U.point=w.endPoint,I=Wm(U),w.updateEndPoint(I)}),c.eventEmit({beforeNode:so(so({},le),{rx:x,ry:S}),afterNode:z})},c.updateDiamond=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,j=c.index,C=x,B=S,_=c.getResize({index:j,deltaX:l,deltaY:f,width:C,height:B,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,$=X.minWidth,ee=X.minHeight,ne=X.maxWidth,ie=X.maxHeight;if(_.width<$/2||_.width>ne/2||_.height<ee/2||_.height>ie/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),c.nodeModel.rx=_.width,c.nodeModel.ry=_.height,c.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var J={x:P,y:M,rx:x,ry:S},le={rx:_.width,ry:_.height,x:c.nodeModel.x,y:c.nodeModel.y},z={point:{},beforeNode:J,afterNode:le},U,I=c.getNodeEdges(b);I.sourceEdges.forEach(function(w){z.point=w.startPoint,U=Km(z),w.updateStartPoint(U)}),I.targetEdges.forEach(function(w){z.point=w.endPoint,U=Km(z),w.updateEndPoint(U)}),c.eventEmit({beforeNode:J,afterNode:le})},c.eventEmit=function(i){var l=i.beforeNode,f=i.afterNode,y=c.nodeModel,b=y.id,x=y.modelType,S=y.type,P=so({id:b,modelType:x,type:S},l),M=so({id:b,modelType:x,type:S},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},c.onDraging=function(i){var l,f=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;l=QR(b.fixDeltaXY(f,y),2),f=l[0],y=l[1],x===Ko.RECT_NODE||x===Ko.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):x===Ko.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):x===Ko.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,l=i===void 0?1:i,f=l*Math.round(c.nodeModel.x/l),y=l*Math.round(c.nodeModel.y/l);c.nodeModel.moveTo(f,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new qR({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,l=[],f=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?l.push(b):i[y].targetNodeId===u&&f.push(b)}return{sourceEdges:l,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,l=u.index,f=u.model,y=f.getControlPointStyle();return Ri("g",{className:"lf-resize-control-"+l},Ri(hd,so({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Vo),t2=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Js=globalThis&&globalThis.__assign||function(){return Js=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Js.apply(this,arguments)},el=function(m){t2(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,l=c.x,f=c.y,y=c.width,b=c.height,x={minX:l-y/2,minY:f-b/2,maxX:l+y/2,maxY:f+b/2},S=x.minX,P=x.minY,M=x.maxX,A=x.maxY,j=[{x:S,y:P},{x:M,y:P},{x:M,y:A},{x:S,y:A}];return j.map(function(C,B){return Ri(e2,Js({index:B},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getResizeOutlineStyle();return Ri(hd,Js({fill:"none"},y,{x:c,y:i,width:l,height:f}))},v.prototype.render=function(){return Ri("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Vo),Sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),r2=function(m){Sb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v}(We.exports.RectNodeModel),n2=function(m){Sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(We.exports.RectNode),Pb={type:"rect",view:n2,model:r2},Ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Ab(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v})(We.exports.EllipseNodeModel);(function(m){Ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(We.exports.EllipseNode);var ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ud.apply(this,arguments)};function o2(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,l=m.strokeOpacity,f=l===void 0?1:l,y=m.fill,b=y===void 0?"transparent":y,x=m.stroke,S=x===void 0?"#000":x,P=m.points,M=m.className,A=M===void 0?"lf-basic-shape":M,j={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:f,points:"",className:A};return j.points=P.map(function(C){return C.join(",")}).join(" "),We.exports.h("polygon",ud({},j))}var Tb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),sd=globalThis&&globalThis.__assign||function(){return sd=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},sd.apply(this,arguments)};(function(m){Tb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v})(We.exports.DiamondNodeModel);(function(m){Tb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return We.exports.h("g",null,We.exports.h(o2,sd({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.DiamondNode);var Mb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Mb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:l}}else delete this.PCTResizeInfo},v})(We.exports.HtmlNodeModel);(function(m){Mb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(el,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.HtmlNode);var wb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Qs=globalThis&&globalThis.__assign||function(){return Qs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Qs.apply(this,arguments)},i2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},Vm=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(i2(arguments[v]));return m},Zm=500,Jm=300,a2=-1e4;(function(m){wb(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Zm,u.unfoldedHight=Jm,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Zm,this.height=Jm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=a2,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var f=c.graphModel.getElement(l);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(l,f){var y=l.id,b=l.sourceNodeId,x=l.targetNodeId,S=l.startPoint,P=l.endPoint,M=l.type,A=l.properties,j=l.text,C={id:y+"__"+f,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:P,type:M,properties:A,text:j==null?void 0:j.value};l.virtual&&i.graphModel.deleteEdgeById(l.id);var B=i.graphModel.group.getNodeGroup(x);B||(B=i.graphModel.getNodeModelById(x));var _=i.graphModel.group.getNodeGroup(b);_||(_=i.graphModel.getNodeModelById(b)),u&&l.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(B.id!==i.id||_.id!==i.id)&&i.createVirtualEdge(C),l.visible=!1),!u&&l.visible===!1&&(B&&B.isGroup&&B.isFolded?(C.targetNodeId=B.id,C.endPoint=void 0,i.createVirtualEdge(C)):_&&_.isGroup&&_.isFolded?(C.sourceNodeId=_.id,C.startPoint=void 0,i.createVirtualEdge(C)):l.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return c>=this.x-this.width/2&&l<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&l<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=m.prototype.getData.call(this);u.children=Vm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=Vm(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(Pb.model);(function(m){wb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,l=u.x,f=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),P=c+x+8,M=i+x+8;return We.exports.h("rect",Qs(Qs({},S),{width:P,height:M,x:l-P/2,y:f-M/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var l=We.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return We.exports.h("g",{},[We.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),l])},v.prototype.getResizeShape=function(){return We.exports.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Pb.view);var u2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var Qm=globalThis&&globalThis.__assign||function(){return Qm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Qm.apply(this,arguments)},qm=globalThis&&globalThis.__assign||function(){return qm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},qm.apply(this,arguments)},s2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;const l2={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function f2(m){const{incoming:v,outgoing:u,properties:c,key:i}=m,{text:l,startPoint:f,endPoint:y,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:l,startPoint:f,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(M=>{P.indexOf(M)===-1&&(S.properties[M]=m.properties[M])}),S}function c2(m){const{properties:v,key:u}=m,{x:c,y:i,text:l,logicFlowType:f}=v,y={id:u,type:f,x:c,y:i,text:l,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(x=>{b.indexOf(x)===-1&&(y.properties[x]=m.properties[x])}),y}function d2(m){const v={nodes:[],edges:[]},u=m.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===l2.SEQUENCE_FLOW){const i=f2(c);v.edges.push(i)}else{const i=c2(c);v.nodes.push(i)}}),v}function p2(m){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{m.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const h2=eb({name:"FlowChart",components:{BasicModal:tR,FlowChartToolbar:fR,JsonPreview:nR},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(m){const v=Us(null),u=Us({}),c=Us(null),{prefixCls:i}=KC("flow-chart"),l=VC(),[f,{openModal:y}]=rR();iR({logicFlow:c});const b=ZC(()=>{const{flowOptions:M}=m;return rd({grid:!0,background:{color:l.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},M)});wm(()=>m.data,()=>{S()}),wm(()=>lr(b),M=>{var A;(A=lr(c))==null||A.updateEditConfig(M)});function x(){return Hs(this,null,function*(){yield nd();const M=lr(v);if(!M)return;Yo.use(XR),Yo.use(CR),Yo.use(jR),Yo.use(kR),Yo.use($R),c.value=new Yo(Tm(rd({},lr(b)),{container:M}));const A=lr(c);A==null||A.setDefaultEdgeType("line"),S(),A==null||A.setPatternItems(m.patternItems||p2(A))})}function S(){return Hs(this,null,function*(){yield nd();const M=lr(c);if(!M)return;const A=d2(m.data);M.render(A)})}function P(){const M=lr(c);!M||(u.value=lr(M).getGraphData(),y())}return JC(x),{register:f,prefixCls:i,lfElRef:v,handlePreview:P,graphData:u}}}),v2={ref:"lfElRef",class:"h-full"};function y2(m,v,u,c,i,l){const f=Un("FlowChartToolbar"),y=Un("JsonPreview"),b=Un("BasicModal");return Gn(),Di("div",{class:ks(["h-full",m.prefixCls])},[m.toolbar?(Gn(),fd(f,{key:0,prefixCls:m.prefixCls,onViewData:m.handlePreview},null,8,["prefixCls","onViewData"])):od("",!0),QC("div",v2,null,512),Bi(b,{onRegister:m.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Ys(()=>[Bi(y,{data:m.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var g2=ld(h2,[["render",y2]]);const m2=qC(g2),b2=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var O2={flowElementList:b2};const E2={components:{FlowChart:m2,PageWrapper:oR},setup(){return{demoData:O2}}};function x2(m,v,u,c,i,l){const f=Un("FlowChart"),y=Un("PageWrapper");return Gn(),fd(y,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Ys(()=>[Bi(f,{data:c.demoData},null,8,["data"])]),_:1})}var G2=ld(E2,[["render",x2]]);export{G2 as default};
