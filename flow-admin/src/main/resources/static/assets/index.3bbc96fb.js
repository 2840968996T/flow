import{az as _,a as g,b4 as h,aJ as v,x as o,c as y,h as S,k as i,cA as C,o as w,aB as x,i as $,j as z,q as k,C as B,p as E,s as u,bp as d,an as H}from"./index.e61ad282.js";import{u as R}from"./useWindowSizeFn.27de1b1b.js";const W=g({name:"IFrame",components:{Spin:h},props:{frameSrc:v.string.def("")},setup(){const e=o(!1),l=o(50),r=o(window.innerHeight),t=o(null),{prefixCls:p}=y("iframe-page");R(s,150,{immediate:!0});const c=S(()=>({height:`${i(r)}px`}));function s(){const n=i(t);if(!n)return;let{top:a}=C(n);a+=20,l.value=a,r.value=window.innerHeight-a,document.documentElement.clientHeight-a,n.style.height="100%"}function f(){e.value=!1,s()}function m(){H(()=>{const n=i(t);if(!n)return;const a=n;a.attachEvent?a.attachEvent("onload",()=>{f()}):n.onload=()=>{f()}})}return w(()=>{e.value=!0,m()}),{getWrapStyle:c,loading:e,frameRef:t,prefixCls:p}}}),b=["src"];function F(e,l,r,t,p,c){const s=x("Spin");return $(),z("div",{class:u(e.prefixCls),style:d(e.getWrapStyle)},[k(s,{wrapperClassName:"custom-spin-container",spinning:e.loading,size:"large",style:d(e.getWrapStyle)},{default:B(()=>[E("iframe",{src:e.frameSrc,class:u(`${e.prefixCls}__main`),ref:"frameRef"},null,10,b)]),_:1},8,["spinning","style"])],6)}var I=_(W,[["render",F],["__scopeId","data-v-4deeaba5"]]);export{I as default};
