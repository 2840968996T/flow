var h=Object.defineProperty;var m=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var p=(o,t,e)=>t in o?h(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))_.call(t,e)&&p(o,e,t[e]);if(m)for(var e of m(t))b.call(t,e)&&p(o,e,t[e]);return o};var d=(o,t,e)=>new Promise((l,u)=>{var c=s=>{try{a(e.next(s))}catch(i){u(i)}},n=s=>{try{a(e.throw(s))}catch(i){u(i)}},a=s=>s.done?l(s.value):Promise.resolve(s.value).then(c,n);a((e=e.apply(o,t)).next())});import{B as D,a as M}from"./index.a492e5cd.js";import{B as A}from"./BasicForm.027cbf67.js";import{u as I}from"./useForm.81406efc.js";import{s as w}from"./appPrivilegeValue.041cbd3b.js";import{az as v,a as k,x,k as F,h as C,aB as g,i as P,l as q,C as y,q as N,aC as S}from"./index.e61ad282.js";const H=[{title:"\u540D\u79F0",dataIndex:"name",width:100,align:"left"},{title:"\u4F4D",dataIndex:"position",width:100},{title:"\u6392\u5E8F\u53F7",dataIndex:"orderNo",width:100},{title:"\u5907\u6CE8",dataIndex:"remark",width:400,align:"left"}],$=[{field:"id",label:"ID",component:"Input",show:!1},{field:"name",label:"\u540D\u79F0",required:!0,component:"Input",rules:[{required:!0,whitespace:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\uFF01"},{max:32,message:"\u5B57\u7B26\u957F\u5EA6\u4E0D\u80FD\u5927\u4E8E32\uFF01"}],colProps:{span:24}},{field:"position",label:"\u4F4D",required:!0,component:"InputNumber",colProps:{span:24}},{field:"orderNo",label:"\u6392\u5E8F",required:!0,component:"InputNumber"},{label:"\u5907\u6CE8",field:"remark",component:"InputTextArea",rules:[{max:200,message:"\u5B57\u7B26\u957F\u5EA6\u4E0D\u80FD\u5927\u4E8E200\uFF01"}],colProps:{span:24}}],O=k({name:"AppPrivilegeValueModal",components:{BasicModal:D,BasicForm:A},emits:["success","register"],setup(o,{emit:t}){const e=x(!0),[l,{resetFields:u,setFieldsValue:c,validate:n}]=I({labelWidth:100,schemas:$,showActionButtonGroup:!1}),[a,{setModalProps:s,closeModal:i}]=M(r=>d(this,null,function*(){u(),s({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),F(e)&&c(f({},r.record))})),B=C(()=>F(e)?"\u4FEE\u6539":"\u65B0\u589E");function E(){return d(this,null,function*(){try{s({confirmLoading:!0});const r=yield n(),V=yield w(r);i(),t("success")}finally{s({confirmLoading:!1})}})}return{registerModal:a,registerForm:l,getTitle:B,handleSubmit:E}}});function R(o,t,e,l,u,c){const n=g("BasicForm"),a=g("BasicModal");return P(),q(a,S(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:y(()=>[N(n,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var T=v(O,[["render",R]]),J=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T});export{T as A,J as a,H as c};
