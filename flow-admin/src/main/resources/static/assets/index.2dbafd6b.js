import e from"./CurrentPermissionMode.559a28aa.js";import{ak as s,f as o,X as t,b1 as n,b2 as a}from"./index.643db95a.js";import{P as i}from"./index.2b3a6879.js";import{j as r,bB as d,i as c,k as m,l as u,K as l,o as f,m as p,x as b,n as k,Y as j}from"./vendor.686fd1d4.js";/* empty css              *//* empty css              */import"./useContentViewHeight.dc5cb96c.js";import"./useWindowSizeFn.d82e06bf.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.172ad1ec.js";var h=r({components:{Alert:d,CurrentPermissionMode:e,PageWrapper:i},setup(){const{refreshMenu:e}=s(),i=o(),r=t(),d=c((()=>r.getProjectConfig.permissionMode===a.BACK));return{RoleEnum:n,refreshMenu:e,switchToken:function(s){return o=this,t=null,n=function*(){const o="fakeToken"+s;i.setToken(o),i.getUserInfoAction(),e()},new Promise(((e,s)=>{var a=e=>{try{r(n.next(e))}catch(o){s(o)}},i=e=>{try{r(n.throw(e))}catch(o){s(o)}},r=s=>s.done?e(s.value):Promise.resolve(s.value).then(a,i);r((n=n.apply(o,t)).next())}));var o,t,n},isBackPremissionMode:d}}});const P=b();m("data-v-45cf91b6");const v={class:"mt-4"},x=j(" 权限切换(请先切换权限模式为后台权限模式): "),M=j(" 获取用户id为1的菜单 "),g=j(" 获取用户id为2的菜单 ");u();const C=P(((e,s,o,t,n,a)=>{const i=l("CurrentPermissionMode"),r=l("Alert"),d=l("a-button"),c=l("a-button-group"),m=l("PageWrapper");return f(),p(m,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:P((()=>[k(i),k(r,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),k("div",v,[x,k(c,null,{default:P((()=>[k(d,{onClick:s[1]||(s[1]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:P((()=>[M])),_:1},8,["disabled"]),k(d,{onClick:s[2]||(s[2]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:P((()=>[g])),_:1},8,["disabled"])])),_:1})])])),_:1})}));h.render=C,h.__scopeId="data-v-45cf91b6";export default h;
