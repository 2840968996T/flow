import{_ as e}from"./TableImg.fd7646bb.js";import{f as o}from"./BasicForm.5fbfb734.js";import{u as i}from"./useTable.3ae035a0.js";import{g as n,d as t}from"./account.c14930c3.js";import{P as s}from"./index.e083521e.js";import{b as r}from"./index.2bb7e54d.js";import a from"./AccountModal.58a2ed29.js";import d from"./PasswordModal.2b306d08.js";import c from"./SetGroupModal.d97ccd1e.js";import{c as l,s as u}from"./account.data.54aff4b6.js";import{j as m,br as p,by as b,ci as f,r as g,K as j,o as h,m as w,n as S,Q as v,Y as x}from"./vendor.686fd1d4.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useForm.1ee1a774.js";import"./index.eb9d6ed9.js";/* empty css              *//* empty css              *//* empty css              */import"./uuid.2b29000c.js";import"./useWindowSizeFn.d82e06bf.js";import"./onMountedOrActivated.172ad1ec.js";/* empty css              */import"./useSortable.28b3aabe.js";/* empty css              *//* empty css              *//* empty css              */import"./index.2aa1bf44.js";/* empty css              *//* empty css              *//* empty css              */import"./download.6cc0299c.js";import"./base64Conver.bb012c73.js";import"./index.cab36059.js";import"./useContentViewHeight.2141a994.js";/* empty css              */import"./group.8e9b9beb.js";var C=m({name:"Account",components:{BasicTable:e,PageWrapper:s,AccountModal:a,PasswordModal:d,SetGroupModal:c,TableAction:o,Avatar:p,Image:b,UserOutlined:f},setup(){const[e,{openModal:o}]=r(),[s,{openModal:a}]=r(),[d,{openModal:c}]=r(),m=g(""),p=g(!1),[b,{reload:f}]=i({title:"列表",api:n,columns:l,formConfig:{labelWidth:120,schemas:u,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},canColDrag:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:160,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:!1}});return{registerTable:b,registerModal:e,registerPasswordModal:s,registerSetGroupModal:d,previewImage:m,previewImageVisible:p,previewImageHandle:function(e){e&&(m.value=e,p.value=!0)},previewImageVisibleChange:function(e,o){p.value=e},handleCreate:function(){o(!0,{isUpdate:!1})},handleEdit:function(e){o(!0,{record:e,isUpdate:!0})},handleSetPassword:function(e){a(!0,{record:e,isUpdate:!0})},handleSetGroup:function(e){c(!0,{record:e,isUpdate:!0})},handleDelete:function(e){t([e.id]).then((e=>{f()}))},handleSuccess:function(){f()},handlePasswordSuccess:function(){f()},handleSetGroupSuccess:function(){f()}}}});const M=x(" 新增 "),I={style:{width:"0",height:"0",overflow:"hidden"}};C.render=function(e,o,i,n,t,s){const r=j("a-button"),a=j("TableAction"),d=j("UserOutlined"),c=j("Avatar"),l=j("BasicTable"),u=j("Image"),m=j("AccountModal"),p=j("PasswordModal"),b=j("SetGroupModal");return h(),w("div",null,[S(l,{onRegister:e.registerTable},{toolbar:v((()=>[S(r,{type:"primary",onClick:e.handleCreate},{default:v((()=>[M])),_:1},8,["onClick"])])),action:v((({record:o})=>[S(a,{actions:[{title:"分配组",icon:"ant-design:usergroup-add",onClick:e.handleSetGroup.bind(null,o)},{title:"设置密码",icon:"ant-design:setting-outlined",onClick:e.handleSetPassword.bind(null,o)},{title:"修改",icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,o)},{title:"删除",icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,o)}}]},null,8,["actions"])])),imageRender:v((({record:o})=>[S(c,{src:o.image,onClick:i=>e.previewImageHandle(o.image)},{icon:v((()=>[S(d)])),_:2},1032,["src","onClick"])])),_:1},8,["onRegister"]),S("div",I,[S(u,{width:0,height:0,src:e.previewImage,preview:{visible:e.previewImageVisible,onVisibleChange:e.previewImageVisibleChange}},null,8,["src","preview"])]),S(m,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"]),S(p,{onRegister:e.registerPasswordModal,onSuccess:e.handlePasswordSuccess},null,8,["onRegister","onSuccess"]),S(b,{onRegister:e.registerSetGroupModal,onSuccess:e.handleSetGroupSuccess},null,8,["onRegister","onSuccess"])])};export default C;
