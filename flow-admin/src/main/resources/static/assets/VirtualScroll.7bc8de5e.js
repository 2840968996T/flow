import{a as D,x as R,y as A,h as c,k as i,a9 as I,o as B,an as k,cT as M,q as o,cF as P,az as E,aI as L,aB as S,i as q,l as z,C as _,D as W,p as g,t as C}from"./index.e61ad282.js";import{D as U}from"./index.9f50e000.js";import{P as j}from"./index.c79f76d5.js";import"./index.769e0bcb.js";import"./index.f6c9d1b9.js";import"./useSize.5a37866d.js";import"./eagerComputed.d3c262c3.js";import"./useWindowSizeFn.27de1b1b.js";import"./useContentViewHeight.34702d2a.js";import"./ArrowLeftOutlined.0e95a5b3.js";import"./index.5621adef.js";import"./transButton.2c723edc.js";const G={height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},y="virtual-scroll";function s(t,a="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${a}`}var J=D({name:"VirtualScroll",props:G,setup(t,{slots:a}){const u=R(null),n=A({first:0,last:0,scrollTop:0}),p=c(()=>parseInt(t.bench,10)),m=c(()=>parseInt(t.itemHeight,10)),h=c(()=>Math.max(0,n.first-i(p))),f=c(()=>Math.min((t.items||[]).length,n.last+i(p))),v=c(()=>({height:s((t.items||[]).length*i(m))})),d=c(()=>{const e={},r=s(t.height),l=s(t.minHeight),H=s(t.minWidth),F=s(t.maxHeight),N=s(t.maxWidth),b=s(t.width);return r&&(e.height=r),l&&(e.minHeight=l),H&&(e.minWidth=H),F&&(e.maxHeight=F),N&&(e.maxWidth=N),b&&(e.width=b),e});I([()=>t.itemHeight,()=>t.height],()=>{x()});function w(e){const r=i(u);if(!r)return 0;const l=parseInt(t.height||0,10)||r.clientHeight;return e+Math.ceil(l/i(m))}function T(){return Math.floor(n.scrollTop/i(m))}function x(){const e=i(u);!e||(n.scrollTop=e.scrollTop,n.first=T(),n.last=w(n.first))}function V(){const{items:e=[]}=t;return e.slice(i(h),i(f)).map($)}function $(e,r){r+=i(h);const l=s(r*i(m));return o("div",{class:`${y}__item`,style:{top:l},key:r},[P(a,"default",{index:r,item:e})])}return B(()=>{n.last=w(0),k(()=>{const e=i(u);!e||M({el:e,name:"scroll",listener:x,wait:0})})}),()=>o("div",{class:y,style:i(d),ref:u},[o("div",{class:`${y}__container`,style:i(v)},[V()])])}});var K=E(J,[["__scopeId","data-v-0610daca"]]);const O=L(K);const Q=(()=>{const t=[];for(let a=1;a<2e4;a++)t.push({title:"\u5217\u8868\u9879"+a});return t})(),X=D({components:{VScroll:O,Divider:U,PageWrapper:j},setup(){return{data:Q}}}),Y={class:"virtual-scroll-demo-wrap"},Z={class:"virtual-scroll-demo__item"},tt={class:"virtual-scroll-demo-wrap"},et={class:"virtual-scroll-demo__item"};function it(t,a,u,n,p,m){const h=S("Divider"),f=S("VScroll"),v=S("PageWrapper");return q(),z(v,{class:"virtual-scroll-demo"},{default:_(()=>[o(h,null,{default:_(()=>[W("\u57FA\u7840\u6EDA\u52A8\u793A\u4F8B")]),_:1}),g("div",Y,[o(f,{itemHeight:41,items:t.data,height:300,width:300},{default:_(({item:d})=>[g("div",Z,C(d.title),1)]),_:1},8,["items"])]),o(h,null,{default:_(()=>[W("\u5373\u4F7F\u4E0D\u53EF\u89C1\uFF0C\u4E5F\u9884\u5148\u52A0\u8F7D50\u6761\u6570\u636E\uFF0C\u9632\u6B62\u7A7A\u767D")]),_:1}),g("div",tt,[o(f,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:_(({item:d})=>[g("div",et,C(d.title),1)]),_:1},8,["items"])])]),_:1})}var ft=E(X,[["render",it],["__scopeId","data-v-002a1a68"]]);export{ft as default};
