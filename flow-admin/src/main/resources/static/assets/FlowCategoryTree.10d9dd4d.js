var f=(o,c,t)=>new Promise((n,r)=>{var l=e=>{try{a(t.next(e))}catch(s){r(s)}},i=e=>{try{a(t.throw(e))}catch(s){r(s)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(l,i);a((t=t.apply(o,c)).next())});import{az as u,a as _,b4 as h,x as d,o as v,aB as g,bT as T,z as B,i as D,j as b,q as k,an as w,k as p,fF as y}from"./index.e61ad282.js";import{_ as C}from"./index.0ba11515.js";import{g as S}from"./category.9da8b5d0.js";import"./fromPairs.84aabb58.js";import"./index.d92fc3ac.js";import"./eagerComputed.d3c262c3.js";import"./useContextMenu.87346ca1.js";import"./index.9f50e000.js";import"./get.bca7403a.js";const $=_({name:"FlowCategoryTree",components:{BasicTree:C,Spin:h},emits:["select"],setup(o,{emit:c}){const t=d([]),n=d(!1),r=d(null);function l(){return f(this,null,function*(){n.value=!0,S().then(a=>{t.value=a,w(()=>{var e;p(t).length<10&&((e=p(r))==null||e.filterByLevel(1))})}).finally(()=>{n.value=!1})})}function i(a,e){const s=y(t.value,m=>m.id===a[0],{id:"id",pid:"pid",children:"children"});c("select",s)}return v(()=>{l()}),{treeData:t,treeLoading:n,basicTreeRef:r,handleSelect:i}}}),F={class:"bg-white m-4 mr-0 overflow-hidden"};function x(o,c,t,n,r,l){const i=g("BasicTree"),a=T("loading");return B((D(),b("div",F,[k(i,{title:"\u6D41\u7A0B\u5206\u7C7B",toolbar:"",search:"",clickRowToExpand:!1,treeData:o.treeData,replaceFields:{key:"id",title:"name"},onSelect:o.handleSelect,ref:"basicTreeRef"},null,8,["treeData","onSelect"])])),[[a,o.treeLoading]])}var G=u($,[["render",x]]);export{G as default};
