import{z as e,bD as s,aY as a,j as o,A as r,B as t,Z as i,au as n,D as c,F as d,K as l,w as m,J as u,a6 as f,a8 as p,G as y,a9 as P}from"./vendor.11d66826.js";/* empty css              *//* empty css              */import _ from"./CurrentPermissionMode.6521a923.js";import{al as h,N as x,X as k,f as b,b7 as v}from"./index.1bc1d740.js";import{A as j}from"./index.6a1b5b62.js";import{P as C}from"./index.dfbcae78.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.17f3c81d.js";import"./useWindowSizeFn.9fecf134.js";import"./useContentViewHeight.a8198af7.js";var g=e({components:{Alert:s,PageWrapper:C,CurrentPermissionMode:_,Divider:a,Authority:j},setup(){const{hasPermission:e}=h(),s=x(),a=k(),r=b(),t=o((()=>a.getProjectConfig.permissionMode===v.BACK));return{hasPermission:e,permissionStore:s,switchToken:function(e){return a=this,o=null,t=function*(){const a="fakeToken"+e;r.setToken(a),r.getUserInfoAction(),s.changePermissionCode()},new Promise(((e,s)=>{var r=e=>{try{n(t.next(e))}catch(a){s(a)}},i=e=>{try{n(t.throw(e))}catch(a){s(a)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,i);n((t=t.apply(a,o)).next())}));var a,o,t},isBackPremissionMode:t}}});const w=l();r("data-v-3cba4497");const A=P(" 当前拥有的code列表: "),M=P(" 点击切换按钮权限(用户id为2) "),B=P(" 点击切换按钮权限(用户id为1,默认) "),T=P("组件方式判断权限"),D=P(" 拥有code ['1000']权限可见 "),S=P(" 拥有code ['2000']权限可见 "),W=P(" 拥有code ['1000','2000']角色权限可见 "),z=P("函数方式方式判断权限"),F=P(" 拥有code ['1000']权限可见 "),I=P(" 拥有code ['2000']权限可见 "),K=P(" 拥有code ['1000','2000']角色权限可见 "),G=P("指令方式方式判断权限(该方式不能动态修改权限.)"),H=P(" 拥有code ['1000']权限可见 "),J=P(" 拥有code ['2000']权限可见 "),L=P(" 拥有code ['1000','2000']角色权限可见 ");t();const N=w(((e,s,a,o,r,t)=>{const l=i("CurrentPermissionMode"),P=i("Divider"),_=i("Alert"),h=i("a-button"),x=i("Authority"),k=i("PageWrapper"),b=n("auth");return c(),d(k,{contentBackground:"",title:"按钮权限控制",contentClass:"p-4"},{default:w((()=>[m(l),m("p",null,[A,m("a",null,u(e.permissionStore.getPermCodeList),1)]),m(P),m(_,{class:"mt-4",type:"info",message:"点击后请查看按钮变化(必须处于后台权限模式才可测试此页面所展示的功能)","show-icon":""}),m(P),m(h,{type:"primary",class:"mr-2",onClick:s[1]||(s[1]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:w((()=>[M])),_:1},8,["disabled"]),m(h,{type:"primary",onClick:s[2]||(s[2]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:w((()=>[B])),_:1},8,["disabled"]),e.isBackPremissionMode?(c(),d(f,{key:0},[m(P,null,{default:w((()=>[T])),_:1}),m(x,{value:"1000"},{default:w((()=>[m(h,{type:"primary",class:"mx-4"},{default:w((()=>[D])),_:1})])),_:1}),m(x,{value:"2000"},{default:w((()=>[m(h,{color:"success",class:"mx-4"},{default:w((()=>[S])),_:1})])),_:1}),m(x,{value:["1000","2000"]},{default:w((()=>[m(h,{color:"error",class:"mx-4"},{default:w((()=>[W])),_:1})])),_:1}),m(P,null,{default:w((()=>[z])),_:1}),e.hasPermission("1000")?(c(),d(h,{key:0,type:"primary",class:"mx-4"},{default:w((()=>[F])),_:1})):p("",!0),e.hasPermission("2000")?(c(),d(h,{key:1,color:"success",class:"mx-4"},{default:w((()=>[I])),_:1})):p("",!0),e.hasPermission(["1000","2000"])?(c(),d(h,{key:2,color:"error",class:"mx-4"},{default:w((()=>[K])),_:1})):p("",!0),m(P,null,{default:w((()=>[G])),_:1}),y(m(h,{type:"primary",class:"mx-4"},{default:w((()=>[H])),_:1},512),[[b,"1000"]]),y(m(h,{color:"success",class:"mx-4"},{default:w((()=>[J])),_:1},512),[[b,"2000"]]),y(m(h,{color:"error",class:"mx-4"},{default:w((()=>[L])),_:1},512),[[b,["1000","2000"]]])],64)):p("",!0)])),_:1})}));g.render=N,g.__scopeId="data-v-3cba4497";export default g;
